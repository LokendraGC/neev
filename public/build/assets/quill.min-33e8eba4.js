var Te=Object.defineProperty;var _e=(oe,ne,qt)=>ne in oe?Te(oe,ne,{enumerable:!0,configurable:!0,writable:!0,value:qt}):oe[ne]=qt;var dt=(oe,ne,qt)=>(_e(oe,typeof ne!="symbol"?ne+"":ne,qt),qt);import{g as je,c as Ee}from"./_commonjsHelpers-de833af9.js";var we={exports:{}};we.exports;(function(oe,ne){(function(qt,xe){oe.exports=xe()})(self,function(){return xe={9698:function(Z,d,_){_.d(d,{Ay:function(){return c},Ji:function(){return p},mG:function(){return l},zo:function(){return E}});var u=_(6003),d=_(5232),y=_.n(d),R=_(3036),d=_(4850),_=_(5508);class c extends u.BlockBlot{constructor(){super(...arguments);dt(this,"cache",{})}delta(){return this.cache.delta==null&&(this.cache.delta=l(this)),this.cache.delta}deleteAt(x,S){super.deleteAt(x,S),this.cache={}}formatAt(x,S,I,X){S<=0||(this.scroll.query(I,u.Scope.BLOCK)?x+S===this.length()&&this.format(I,X):super.formatAt(x,Math.min(S,this.length()-x-1),I,X),this.cache={})}insertAt(x,S,I){if(I!=null)return super.insertAt(x,S,I),void(this.cache={});if(S.length!==0){const X=S.split(`
`),Y=X.shift();0<Y.length&&(x<this.length()-1||this.children.tail==null?super.insertAt(Math.min(x,this.length()-1),Y):this.children.tail.insertAt(this.children.tail.length(),Y),this.cache={});let G=this;X.reduce((L,v)=>((G=G.split(L,!0)).insertAt(0,v),v.length),x+Y.length)}}insertBefore(x,S){const I=this.children.head;super.insertBefore(x,S),I instanceof R.A&&I.remove(),this.cache={}}length(){return this.cache.length==null&&(this.cache.length=super.length()+1),this.cache.length}moveChildren(x,S){super.moveChildren(x,S),this.cache={}}optimize(x){super.optimize(x),this.cache={}}path(x){return super.path(x,!0)}removeChild(x){super.removeChild(x),this.cache={}}split(x){let S=1<arguments.length&&arguments[1]!==void 0&&arguments[1];if(S&&(x===0||x>=this.length()-1)){const I=this.clone();return x===0?(this.parent.insertBefore(I,this),this):(this.parent.insertBefore(I,this.next),I)}return x=super.split(x,S),this.cache={},x}}c.blotName="block",c.tagName="P",c.defaultChild=R.A,c.allowedChildren=[R.A,d.A,u.EmbedBlot,_.A];class E extends u.EmbedBlot{attach(){super.attach(),this.attributes=new u.AttributorStore(this.domNode)}delta(){return new(y())().insert(this.value(),{...this.formats(),...this.attributes.values()})}format(a,x){a=this.scroll.query(a,u.Scope.BLOCK_ATTRIBUTE),a!=null&&this.attributes.attribute(a,x)}formatAt(a,x,S,I){this.format(S,I)}insertAt(a,x,S){if(S!=null)super.insertAt(a,x,S);else{const I=x.split(`
`),X=I.pop(),Y=I.map(L=>{const v=this.scroll.create(c.blotName);return v.insertAt(0,L),v}),G=this.split(a);Y.forEach(L=>{this.parent.insertBefore(L,G)}),X&&this.parent.insertBefore(this.scroll.create("text",X),G)}}}function l(U){let a=!(1<arguments.length&&arguments[1]!==void 0)||arguments[1];return U.descendants(u.LeafBlot).reduce((x,S)=>S.length()===0?x:x.insert(S.value(),p(S,{},a)),new(y())).insert(`
`,p(U))}function p(U){let a=1<arguments.length&&arguments[1]!==void 0?arguments[1]:{},x=!(2<arguments.length&&arguments[2]!==void 0)||arguments[2];return U==null?a:("formats"in U&&typeof U.formats=="function"&&(a={...a,...U.formats()},x&&delete a["code-token"]),U.parent==null||U.parent.statics.blotName==="scroll"||U.parent.statics.scope!==U.statics.scope?a:p(U.parent,a,x))}E.scope=u.Scope.BLOCK_BLOT},3036:function(Z,C,r){class u extends r(6003).EmbedBlot{static value(){}optimize(){(this.prev||this.next)&&this.remove()}length(){return 0}value(){return""}}u.blotName="break",u.tagName="BR",C.A=u},580:function(Z,C,r){class u extends r(6003).ContainerBlot{}C.A=u},4541:function(Z,C,r){var u=r(6003),y=r(5508);const d=class d extends u.EmbedBlot{static value(){}constructor(c,E,l){super(c,E),this.selection=l,this.textNode=document.createTextNode(d.CONTENTS),this.domNode.appendChild(this.textNode),this.savedLength=0}detach(){this.parent!=null&&this.parent.removeChild(this)}format(c,E){if(this.savedLength!==0)super.format(c,E);else{let l=this,p=0;for(;l!=null&&l.statics.scope!==u.Scope.BLOCK_BLOT;)p+=l.offset(l.parent),l=l.parent;l!=null&&(this.savedLength=d.CONTENTS.length,l.optimize(),l.formatAt(p,d.CONTENTS.length,c,E),this.savedLength=0)}}index(c,E){return c===this.textNode?0:super.index(c,E)}length(){return this.savedLength}position(){return[this.textNode,this.textNode.data.length]}remove(){super.remove(),this.parent=null}restore(){if(this.selection.composing||this.parent==null)return null;const c=this.selection.getNativeRange();for(;this.domNode.lastChild!=null&&this.domNode.lastChild!==this.textNode;)this.domNode.parentNode.insertBefore(this.domNode.lastChild,this.domNode);const E=this.prev instanceof y.A?this.prev:null,l=E?E.length():0,p=this.next instanceof y.A?this.next:null,U=p?p.text:"",a=this.textNode,x=a.data.split(d.CONTENTS).join("");let S;if(a.data=d.CONTENTS,E)S=E,(x||p)&&(E.insertAt(E.length(),x+U),p&&p.remove());else if(p)(S=p).insertAt(0,x);else{const I=document.createTextNode(x);S=this.scroll.create(I),this.parent.insertBefore(S,this)}if(this.remove(),c){const I=(G,L)=>E&&G===E.domNode?L:G===a?l+L-1:p&&G===p.domNode?l+x.length+L:null,X=I(c.start.node,c.start.offset),Y=I(c.end.node,c.end.offset);if(X!==null&&Y!==null)return{startNode:S.domNode,startOffset:X,endNode:S.domNode,endOffset:Y}}return null}update(c,E){if(c.some(l=>l.type==="characterData"&&l.target===this.textNode)){const l=this.restore();l&&(E.range=l)}}optimize(c){super.optimize(c);let E=this.parent;for(;E;){if(E.domNode.tagName==="A"){this.savedLength=d.CONTENTS.length,E.isolate(this.offset(E),this.length()).unwrap(),this.savedLength=0;break}E=E.parent}}value(){return""}};dt(d,"blotName","cursor"),dt(d,"className","ql-cursor"),dt(d,"tagName","span"),dt(d,"CONTENTS","\uFEFF");let R=d;C.A=R},746:function(Z,C,r){var u=r(6003),y=r(5508);const R="\uFEFF";class d extends u.EmbedBlot{constructor(c,E){super(c,E),this.contentNode=document.createElement("span"),this.contentNode.setAttribute("contenteditable","false"),Array.from(this.domNode.childNodes).forEach(l=>{this.contentNode.appendChild(l)}),this.leftGuard=document.createTextNode(R),this.rightGuard=document.createTextNode(R),this.domNode.appendChild(this.leftGuard),this.domNode.appendChild(this.contentNode),this.domNode.appendChild(this.rightGuard)}index(c,E){return c===this.leftGuard?0:c===this.rightGuard?1:super.index(c,E)}restore(c){let E,l=null;var p=c.data.split(R).join("");if(c===this.leftGuard)if(this.prev instanceof y.A){const U=this.prev.length();this.prev.insertAt(U,p),l={startNode:this.prev.domNode,startOffset:U+p.length}}else E=document.createTextNode(p),this.parent.insertBefore(this.scroll.create(E),this),l={startNode:E,startOffset:p.length};else c===this.rightGuard&&(l=this.next instanceof y.A?(this.next.insertAt(0,p),{startNode:this.next.domNode,startOffset:p.length}):(E=document.createTextNode(p),this.parent.insertBefore(this.scroll.create(E),this.next),{startNode:E,startOffset:p.length}));return c.data=R,l}update(c,E){c.forEach(l=>{l.type!=="characterData"||l.target!==this.leftGuard&&l.target!==this.rightGuard||(l=this.restore(l.target))&&(E.range=l)})}}C.A=d},4850:function(Z,C,R){var u=R(6003),y=R(3036),R=R(5508);const _=class _ extends u.InlineBlot{static compare(E,l){var p=_.order.indexOf(E),U=_.order.indexOf(l);return 0<=p||0<=U?p-U:E===l?0:E<l?-1:1}formatAt(E,l,p,U){if(_.compare(this.statics.blotName,p)<0&&this.scroll.query(p,u.Scope.BLOT)){const a=this.isolate(E,l);U&&a.wrap(p,U)}else super.formatAt(E,l,p,U)}optimize(E){if(super.optimize(E),this.parent instanceof _&&0<_.compare(this.statics.blotName,this.parent.statics.blotName)){const l=this.parent.isolate(this.offset(),this.length());this.moveChildren(l),l.wrap(this)}}};dt(_,"allowedChildren",[_,y.A,u.EmbedBlot,R.A]),dt(_,"order",["cursor","inline","link","underline","strike","italic","bold","script","code"]);let d=_;C.A=d},5508:function(Z,C,r){r.d(C,{A:function(){return u},X:function(){return y}});class u extends r(6003).TextBlot{}function y(R){return R.replace(/[&<>"']/g,d=>({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"})[d])}},3729:function(Z,d,r){r.d(d,{default:function(){return w}});var u=r(6142),y=r(9698),R=r(3036),d=r(580),_=r(4541),c=r(746),E=r(4850),l=r(6003),p=r(5232),U=r.n(p),a=r(5374);function x(T){return T instanceof y.Ay||T instanceof y.zo}function S(T){return typeof T.updateContent=="function"}class I extends l.ScrollBlot{constructor(j,B,f){f=f.emitter,super(j,B),this.emitter=f,this.batch=!1,this.optimize(),this.enable(),this.domNode.addEventListener("dragstart",g=>this.handleDragStart(g))}batchStart(){Array.isArray(this.batch)||(this.batch=[])}batchEnd(){var j;this.batch&&(j=this.batch,this.batch=!1,this.update(j))}emitMount(j){this.emitter.emit(a.A.events.SCROLL_BLOT_MOUNT,j)}emitUnmount(j){this.emitter.emit(a.A.events.SCROLL_BLOT_UNMOUNT,j)}emitEmbedUpdate(j,B){this.emitter.emit(a.A.events.SCROLL_EMBED_UPDATE,j,B)}deleteAt(j,B){const[f,g]=this.line(j),[k]=this.line(j+B);if(super.deleteAt(j,B),k!=null&&f!==k&&0<g){if(f instanceof y.zo||k instanceof y.zo)return void this.optimize();const A=k.children.head instanceof R.A?null:k.children.head;f.moveChildren(k,A),f.remove()}this.optimize()}enable(){this.domNode.setAttribute("contenteditable",!(0<arguments.length&&arguments[0]!==void 0)||arguments[0]?"true":"false")}formatAt(j,B,f,g){super.formatAt(j,B,f,g),this.optimize()}insertAt(j,B,f){if(j>=this.length())if(f==null||this.scroll.query(B,l.Scope.BLOCK)==null){const g=this.scroll.create(this.statics.defaultChild.blotName);this.appendChild(g),f==null&&B.endsWith(`
`)?g.insertAt(0,B.slice(0,-1),f):g.insertAt(0,B,f)}else{const g=this.scroll.create(B,f);this.appendChild(g)}else super.insertAt(j,B,f);this.optimize()}insertBefore(j,B){if(j.statics.scope===l.Scope.INLINE_BLOT){const f=this.scroll.create(this.statics.defaultChild.blotName);f.appendChild(j),super.insertBefore(f,B)}else super.insertBefore(j,B)}insertContents(j,B){const f=this.deltaToRenderBlocks(B.concat(new(U())().insert(`
`))),g=f.pop();if(g!=null){this.batchStart();const k=f.shift();if(k){const e=k.type==="block"&&(k.delta.length()===0||!this.descendant(y.zo,j)[0]&&j<this.length()),m=k.type==="block"?k.delta:new(U())().insert({[k.key]:k.value}),D=(X(this,j,m),k.type==="block"?1:0),q=j+m.length()+D,z=(e&&this.insertAt(q-1,`
`),(0,y.Ji)(this.line(j)[0])),F=p.AttributeMap.diff(z,k.attributes)||{};Object.keys(F).forEach($=>{this.formatAt(q-1,1,$,F[$])}),j=q}let[A,o]=this.children.find(j);f.length&&(A&&(A=A.split(o),o=0),f.forEach(e=>{if(e.type==="block")X(this.createBlock(e.attributes,A||void 0),0,e.delta);else{const m=this.create(e.key,e.value);this.insertBefore(m,A||void 0),Object.keys(e.attributes).forEach(D=>{m.format(D,e.attributes[D])})}})),g.type==="block"&&g.delta.length()&&X(this,A?A.offset(A.scroll)+o:this.length(),g.delta),this.batchEnd(),this.optimize()}}isEnabled(){return this.domNode.getAttribute("contenteditable")==="true"}leaf(B){if(B=this.path(B).pop(),!B)return[null,-1];var[B,f]=B;return B instanceof l.LeafBlot?[B,f]:[null,-1]}line(j){return j===this.length()?this.line(j-1):this.descendant(x,j)}lines(){var j=0<arguments.length&&arguments[0]!==void 0?arguments[0]:0,B=1<arguments.length&&arguments[1]!==void 0?arguments[1]:Number.MAX_VALUE;const f=(g,k,A)=>{let o=[],e=A;return g.children.forEachAt(k,A,(m,D,q)=>{x(m)?o.push(m):m instanceof l.ContainerBlot&&(o=o.concat(f(m,D,e))),e-=q}),o};return f(this,j,B)}optimize(){var j=0<arguments.length&&arguments[0]!==void 0?arguments[0]:[],B=1<arguments.length&&arguments[1]!==void 0?arguments[1]:{};this.batch||(super.optimize(j,B),0<j.length&&this.emitter.emit(a.A.events.SCROLL_OPTIMIZE,j,B))}path(j){return super.path(j).slice(1)}remove(){}update(j){if(this.batch)Array.isArray(j)&&(this.batch=this.batch.concat(j));else{let B=a.A.sources.USER;typeof j=="string"&&(B=j),0<(j=(j=Array.isArray(j)?j:this.observer.takeRecords()).filter(f=>(f=f.target,f=this.find(f,!0),f&&!S(f)))).length&&this.emitter.emit(a.A.events.SCROLL_BEFORE_UPDATE,B,j),super.update(j.concat([])),0<j.length&&this.emitter.emit(a.A.events.SCROLL_UPDATE,B,j)}}updateEmbedAt(j,B,f){const[g]=this.descendant(k=>k instanceof y.zo,j);g&&g.statics.blotName===B&&S(g)&&g.updateContent(f)}handleDragStart(j){j.preventDefault()}deltaToRenderBlocks(j){const B=[];let f=new(U());return j.forEach(g=>{const k=g==null?void 0:g.insert;if(k)if(typeof k=="string"){const o=k.split(`
`);o.slice(0,-1).forEach(e=>{f.insert(e,g.attributes),B.push({type:"block",delta:f,attributes:g.attributes??{}}),f=new(U())});var A=o[o.length-1];A&&f.insert(A,g.attributes)}else A=Object.keys(k)[0],A&&(this.query(A,l.Scope.INLINE)?f.push(g):(f.length()&&B.push({type:"block",delta:f,attributes:{}}),f=new(U()),B.push({type:"blockEmbed",key:A,value:k[A],attributes:g.attributes??{}})))}),f.length()&&B.push({type:"block",delta:f,attributes:{}}),B}createBlock(j,B){let f;const g={},k=(Object.entries(j).forEach(e=>{var[e,m]=e;this.query(e,l.Scope.BLOCK&l.Scope.BLOT)!=null?f=e:g[e]=m}),this.create(f||this.statics.defaultChild.blotName,f?j[f]:void 0)),A=(this.insertBefore(k,B||void 0),k.length());return Object.entries(g).forEach(e=>{var[e,m]=e;k.formatAt(0,A,e,m)}),k}}dt(I,"blotName","scroll"),dt(I,"className","ql-editor"),dt(I,"tagName","DIV"),dt(I,"defaultChild",y.Ay),dt(I,"allowedChildren",[y.Ay,y.zo,d.A]);function X(T,j,B){B.reduce((f,g)=>{const k=p.Op.length(g);let A=g.attributes||{};if(g.insert!=null){if(typeof g.insert=="string"){const e=g.insert;T.insertAt(f,e);var[o]=T.descendant(l.LeafBlot,f),o=(0,y.Ji)(o);A=p.AttributeMap.diff(o,A)||{}}else if(typeof g.insert=="object"){const e=Object.keys(g.insert)[0];if(e==null)return f;if(T.insertAt(f,e,g.insert[e]),T.scroll.query(e,l.Scope.INLINE)!=null){const[m]=T.descendant(l.LeafBlot,f),D=(0,y.Ji)(m);A=p.AttributeMap.diff(D,A)||{}}}}return Object.keys(A).forEach(e=>{T.formatAt(f,k,e,A[e])}),f+k},j)}var Y=I,G=r(5508),L=r(584),v=r(4266);class H extends v.A{constructor(B,f){super(B,f);dt(this,"lastRecorded",0);dt(this,"ignoreChange",!1);dt(this,"stack",{undo:[],redo:[]});dt(this,"currentRange",null);this.quill.on(u.Ay.events.EDITOR_CHANGE,(g,k,A,o)=>{g===u.Ay.events.SELECTION_CHANGE?k&&o!==u.Ay.sources.SILENT&&(this.currentRange=k):g===u.Ay.events.TEXT_CHANGE&&(this.ignoreChange||(this.options.userOnly&&o!==u.Ay.sources.USER?this.transform(k):this.record(k,A)),this.currentRange=W(this.currentRange,k))}),this.quill.keyboard.addBinding({key:"z",shortKey:!0},this.undo.bind(this)),this.quill.keyboard.addBinding({key:["z","Z"],shortKey:!0,shiftKey:!0},this.redo.bind(this)),/Win/i.test(navigator.platform)&&this.quill.keyboard.addBinding({key:"y",shortKey:!0},this.redo.bind(this)),this.quill.root.addEventListener("beforeinput",g=>{g.inputType==="historyUndo"?(this.undo(),g.preventDefault()):g.inputType==="historyRedo"&&(this.redo(),g.preventDefault())})}change(B,f){if(this.stack[B].length!==0){const g=this.stack[B].pop();g&&(B=this.quill.getContents(),B=g.delta.invert(B),this.stack[f].push({delta:B,range:W(g.range,B)}),this.lastRecorded=0,this.ignoreChange=!0,this.quill.updateContents(g.delta,u.Ay.sources.USER),this.ignoreChange=!1,this.restoreSelection(g))}}clear(){this.stack={undo:[],redo:[]}}cutoff(){this.lastRecorded=0}record(B,f){if(B.ops.length!==0){this.stack.redo=[];let g=B.invert(f),k=this.currentRange;if(B=Date.now(),this.lastRecorded+this.options.delay>B&&0<this.stack.undo.length){const A=this.stack.undo.pop();A&&(g=g.compose(A.delta),k=A.range)}else this.lastRecorded=B;g.length()!==0&&(this.stack.undo.push({delta:g,range:k}),this.stack.undo.length>this.options.maxStack&&this.stack.undo.shift())}}redo(){this.change("redo","undo")}transform(B){O(this.stack.undo,B),O(this.stack.redo,B)}undo(){this.change("undo","redo")}restoreSelection(B){B.range?this.quill.setSelection(B.range,u.Ay.sources.USER):(B=function(f,g){var k=g.reduce((o,e)=>o+(e.delete||0),0);let A=g.length()-k;return function(o){const e=g.ops[g.ops.length-1];return e!=null&&(e.insert!=null?typeof e.insert=="string"&&e.insert.endsWith(`
`):e.attributes!=null&&Object.keys(e.attributes).some(m=>o.query(m,l.Scope.BLOCK)!=null))}(f)&&--A,A}(this.quill.scroll,B.delta),this.quill.setSelection(B,u.Ay.sources.USER))}}dt(H,"DEFAULTS",{delay:1e3,maxStack:100,userOnly:!1});function O(T,j){let B=j;for(let f=T.length-1;0<=f;--f){const g=T[f];T[f]={delta:B.transform(g.delta,!0),range:g.range&&W(g.range,B)},B=g.delta.transform(B),T[f].delta.length()===0&&T.splice(f,1)}}function W(T,j){if(!T)return T;var B=j.transformPosition(T.index);return{index:B,length:j.transformPosition(T.index+T.length)-B}}var et=r(8123);class at extends v.A{constructor(j,B){super(j,B),j.root.addEventListener("drop",f=>{var A;f.preventDefault();let g=null;if(document.caretRangeFromPoint)g=document.caretRangeFromPoint(f.clientX,f.clientY);else if(document.caretPositionFromPoint){const o=document.caretPositionFromPoint(f.clientX,f.clientY);(g=document.createRange()).setStart(o.offsetNode,o.offset),g.setEnd(o.offsetNode,o.offset)}var k=g&&j.selection.normalizeNative(g);if(k){const o=j.selection.normalizedToRange(k);(A=f.dataTransfer)!=null&&A.files&&this.upload(o,f.dataTransfer.files)}})}upload(j,B){const f=[];Array.from(B).forEach(g=>{var k;g&&((k=this.options.mimetypes)!=null&&k.includes(g.type))&&f.push(g)}),0<f.length&&this.options.handler.call(this,j,f)}}at.DEFAULTS={mimetypes:["image/png","image/jpeg"],handler(T,j){this.quill.scroll.query("image")&&(j=j.map(B=>new Promise(f=>{const g=new FileReader;g.onload=()=>{f(g.result)},g.readAsDataURL(B)})),Promise.all(j).then(B=>{var f=B.reduce((g,k)=>g.insert({image:k}),new(U())().retain(T.index).delete(T.length));this.quill.updateContents(f,a.A.sources.USER),this.quill.setSelection(T.index+B.length,a.A.sources.SILENT)}))}},r=at;const rt=["insertText","insertReplacementText"];class st extends v.A{constructor(j,B){super(j,B),j.root.addEventListener("beforeinput",f=>{this.handleBeforeInput(f)}),/Android/i.test(navigator.userAgent)||j.on(u.Ay.events.COMPOSITION_BEFORE_START,()=>{this.handleCompositionStart()})}deleteRange(j){(0,et.Xo)({range:j,quill:this.quill})}replaceText(j){var B,f=1<arguments.length&&arguments[1]!==void 0?arguments[1]:"";return j.length!==0&&(f?(B=this.quill.getFormat(j.index,1),this.deleteRange(j),this.quill.updateContents(new(U())().retain(j.index).insert(f,B),u.Ay.sources.USER)):this.deleteRange(j),this.quill.setSelection(j.index+f.length,0,u.Ay.sources.SILENT),!0)}handleBeforeInput(j){var g;var B,f;this.quill.composition.isComposing||j.defaultPrevented||!rt.includes(j.inputType)||(f=j.getTargetRanges?j.getTargetRanges()[0]:null)&&f.collapsed!==!0&&(B=typeof(B=j).data=="string"?B.data:(g=B.dataTransfer)!=null&&g.types.includes("text/plain")?B.dataTransfer.getData("text/plain"):null)!=null&&(f=(f=this.quill.selection.normalizeNative(f))?this.quill.selection.normalizedToRange(f):null)&&this.replaceText(f,B)&&j.preventDefault()}handleCompositionStart(){var j=this.quill.getSelection();j&&this.replaceText(j)}}var b=st;const t=/Mac/i.test(navigator.platform);class s extends v.A{constructor(B,f){super(B,f);dt(this,"isListening",!1);dt(this,"selectionChangeDeadline",0);this.handleArrowKeys(),this.handleNavigationShortcuts()}handleArrowKeys(){this.quill.keyboard.addBinding({key:["ArrowLeft","ArrowRight"],offset:0,shiftKey:null,handler(B,g){var{line:g,event:k}=g;return g instanceof l.ParentBlot&&g.uiNode?(g=getComputedStyle(g.domNode).direction==="rtl",!!(g&&k.key!=="ArrowRight"||!g&&k.key!=="ArrowLeft")||(this.quill.setSelection(B.index-1,B.length+(k.shiftKey?1:0),u.Ay.sources.USER),!1)):!0}})}handleNavigationShortcuts(){this.quill.root.addEventListener("keydown",B=>{!B.defaultPrevented&&((B=B).key==="ArrowLeft"||B.key==="ArrowRight"||B.key==="ArrowUp"||B.key==="ArrowDown"||B.key==="Home"||t&&B.key==="a"&&B.ctrlKey===!0)&&this.ensureListeningToSelectionChange()})}ensureListeningToSelectionChange(){this.selectionChangeDeadline=Date.now()+100,this.isListening||(this.isListening=!0,document.addEventListener("selectionchange",()=>{this.isListening=!1,Date.now()<=this.selectionChangeDeadline&&this.handleSelectionChange()},{once:!0}))}handleSelectionChange(){const B=document.getSelection();if(B){var f=B.getRangeAt(0);if(f.collapsed===!0&&f.startOffset===0&&(f=this.quill.scroll.find(f.startContainer),f instanceof l.ParentBlot&&f.uiNode)){const g=document.createRange();g.setStartAfter(f.uiNode),g.setEndAfter(f.uiNode),B.removeAllRanges(),B.addRange(g)}}}}u.Ay.register({"blots/block":y.Ay,"blots/block/embed":y.zo,"blots/break":R.A,"blots/container":d.A,"blots/cursor":_.A,"blots/embed":c.A,"blots/inline":E.A,"blots/scroll":Y,"blots/text":G.A,"modules/clipboard":L.Ay,"modules/history":H,"modules/keyboard":et.Ay,"modules/uploader":r,"modules/input":b,"modules/uiNode":s});var w=u.Ay},5374:function(Z,u,r){var _;r.d(u,{A:function(){return d}});var u=r(8920),y=r(7356);const R=(0,r(6078).A)("quill:events");["selectionchange","mousedown","mouseup","click"].forEach(c=>{document.addEventListener(c,function(){for(var E=arguments.length,l=new Array(E),p=0;p<E;p++)l[p]=arguments[p];Array.from(document.querySelectorAll(".ql-container")).forEach(U=>{const a=y.A.get(U);a&&a.emitter&&a.emitter.handleDOM(...l)})})});var d=(_=class extends u{constructor(){super(),this.domListeners={},this.on("error",R.error)}emit(){for(var c=arguments.length,E=new Array(c),l=0;l<c;l++)E[l]=arguments[l];return R.log.call(R,...E),super.emit(...E)}handleDOM(c){for(var E=arguments.length,l=new Array(1<E?E-1:0),p=1;p<E;p++)l[p-1]=arguments[p];(this.domListeners[c.type]||[]).forEach(U=>{let{node:a,handler:x}=U;c.target!==a&&!a.contains(c.target)||x(c,...l)})}listenDOM(c,E,l){this.domListeners[c]||(this.domListeners[c]=[]),this.domListeners[c].push({node:E,handler:l})}},dt(_,"events",{EDITOR_CHANGE:"editor-change",SCROLL_BEFORE_UPDATE:"scroll-before-update",SCROLL_BLOT_MOUNT:"scroll-blot-mount",SCROLL_BLOT_UNMOUNT:"scroll-blot-unmount",SCROLL_OPTIMIZE:"scroll-optimize",SCROLL_UPDATE:"scroll-update",SCROLL_EMBED_UPDATE:"scroll-embed-update",SELECTION_CHANGE:"selection-change",TEXT_CHANGE:"text-change",COMPOSITION_BEFORE_START:"composition-before-start",COMPOSITION_START:"composition-start",COMPOSITION_BEFORE_END:"composition-before-end",COMPOSITION_END:"composition-end"}),dt(_,"sources",{API:"api",SILENT:"silent",USER:"user"}),_)},7356:function(Z,C){C.A=new WeakMap},6078:function(Z,C){const r=["error","warn","log","info"];let u="warn";function y(d){if(u&&r.indexOf(d)<=r.indexOf(u)){for(var _=arguments.length,c=new Array(1<_?_-1:0),E=1;E<_;E++)c[E-1]=arguments[E];console[d](...c)}}function R(d){return r.reduce((_,c)=>(_[c]=y.bind(console,c,d),_),{})}y.level=R.level=d=>{u=d},C.A=R},4266:function(Z,C){var r;C.A=(r=class{constructor(u){var y=1<arguments.length&&arguments[1]!==void 0?arguments[1]:{};this.quill=u,this.options=y}},dt(r,"DEFAULTS",{}),r)},6142:function(Z,O,r){r.d(O,{Ay:function(){return w}});var u=r(8347),y=r(6003),R=r(5232),d=r.n(R),_=r(3707),c=r(5123),E=r(9698),l=r(3036),p=r(4541),U=r(5508),a=r(8298);const x=/^[ -~]*$/;function S(o,e,m,D){let q=3<arguments.length&&D!==void 0&&D;if("html"in o&&typeof o.html=="function")return o.html(e,m);if(o instanceof U.A)return(0,U.X)(o.value().slice(e,e+m));if(o instanceof y.ParentBlot){if(o.statics.blotName==="list-container"){const Q=[];return o.children.forEachAt(e,m,(ct,tt,ot)=>{var lt="formats"in ct&&typeof ct.formats=="function"?ct.formats():{};Q.push({child:ct,offset:tt,length:ot,indent:lt.indent||0,type:lt.list})}),function ct(tt,ot,lt){if(tt.length===0){const[St]=I(lt.pop());return ot<=0?`</li></${St}>`:`</li></${St}>`+ct([],ot-1,lt)}var[{child:gt,offset:ft,length:bt,indent:pt,type:Nt},...ht]=tt,[Lt,xt]=I(Nt);if(ot<pt)return lt.push(Nt),pt===ot+1?`<${Lt}><li${xt}>`+S(gt,ft,bt)+ct(ht,pt,lt):`<${Lt}><li>`+ct(tt,ot+1,lt);if(Lt=lt[lt.length-1],pt===ot&&Nt===Lt)return`</li><li${xt}>`+S(gt,ft,bt)+ct(ht,pt,lt);var[Nt]=I(lt.pop());return`</li></${Nt}>`+ct(tt,ot-1,lt)}(Q,-1,[])}const z=[];if(o.children.forEachAt(e,m,(Q,ct,tt)=>{z.push(S(Q,ct,tt))}),q||o.statics.blotName==="list")return z.join("");const{outerHTML:F,innerHTML:$}=o.domNode,[nt,ut]=F.split(`>${$}<`);return nt==="<table"?`<table style="border: 1px solid #000;">${z.join("")}<`+ut:`${nt}>${z.join("")}<`+ut}return o.domNode instanceof Element?o.domNode.outerHTML:""}function I(o){var e=o==="ordered"?"ol":"ul";switch(o){case"checked":return[e,' data-list="checked"'];case"unchecked":return[e,' data-list="unchecked"'];default:return[e,""]}}function X(o){return o.reduce((e,m)=>{var D;return typeof m.insert=="string"?(D=m.insert.replace(/\r\n/g,`
`).replace(/\r/g,`
`),e.insert(D,m.attributes)):e.push(m)},new(d()))}function Y(m,e){var{index:m,length:D}=m;return new a.Q(m+e,D)}var G=class{constructor(o){this.scroll=o,this.delta=this.getDelta()}applyDelta(o){this.scroll.update();let e=this.scroll.length();this.scroll.batchStart();const m=X(o),D=new(d());return function(q){const z=[];return q.forEach(F=>{typeof F.insert=="string"?F.insert.split(`
`).forEach(($,nt)=>{nt&&z.push({insert:`
`,attributes:F.attributes}),$&&z.push({insert:$,attributes:F.attributes})}):z.push(F)}),z}(m.ops.slice()).reduce((q,Q)=>{const F=R.Op.length(Q);let $=Q.attributes||{},nt=!1,ut=!1;if(Q.insert!=null){if(D.retain(F),typeof Q.insert=="string"){const tt=Q.insert,[ot,lt]=(ut=!tt.endsWith(`
`)&&(e<=q||!!this.scroll.descendant(E.zo,q)[0]),this.scroll.insertAt(q,tt),this.scroll.line(q));let gt=(0,u.A)({},(0,E.Ji)(ot));if(ot instanceof E.Ay){const[ft]=ot.descendant(y.LeafBlot,lt);ft&&(gt=(0,u.A)(gt,(0,E.Ji)(ft)))}$=R.AttributeMap.diff(gt,$)||{}}else if(typeof Q.insert=="object"){const tt=Object.keys(Q.insert)[0];if(tt==null)return q;const ot=this.scroll.query(tt,y.Scope.INLINE)!=null;if(ot)(e<=q||this.scroll.descendant(E.zo,q)[0])&&(ut=!0);else if(0<q){const[lt,gt]=this.scroll.descendant(y.LeafBlot,q-1);lt instanceof U.A?lt.value()[gt]!==`
`&&(nt=!0):lt instanceof y.EmbedBlot&&lt.statics.scope===y.Scope.INLINE_BLOT&&(nt=!0)}if(this.scroll.insertAt(q,tt,Q.insert[tt]),ot){const[lt]=this.scroll.descendant(y.LeafBlot,q);if(lt){const gt=(0,u.A)({},(0,E.Ji)(lt));$=R.AttributeMap.diff(gt,$)||{}}}}e+=F}else if(D.push(Q),Q.retain!==null&&typeof Q.retain=="object"){const tt=Object.keys(Q.retain)[0];if(tt==null)return q;this.scroll.updateEmbedAt(q,tt,Q.retain[tt])}Object.keys($).forEach(tt=>{this.scroll.formatAt(q,F,tt,$[tt])});var Q=nt?1:0,ct=ut?1:0;return e+=Q+ct,D.retain(Q),D.delete(ct),q+F+Q+ct},0),D.reduce((q,z)=>typeof z.delete=="number"?(this.scroll.deleteAt(q,z.delete),q):q+R.Op.length(z),0),this.scroll.batchEnd(),this.scroll.optimize(),this.update(m)}deleteText(o,e){return this.scroll.deleteAt(o,e),this.update(new(d())().retain(o).delete(e))}formatLine(o,e){let m=2<arguments.length&&arguments[2]!==void 0?arguments[2]:{};this.scroll.update(),Object.keys(m).forEach(q=>{this.scroll.lines(o,Math.max(e,1)).forEach(z=>{z.format(q,m[q])})}),this.scroll.optimize();var D=new(d())().retain(o).retain(e,(0,_.A)(m));return this.update(D)}formatText(o,e){let m=2<arguments.length&&arguments[2]!==void 0?arguments[2]:{};Object.keys(m).forEach(q=>{this.scroll.formatAt(o,e,q,m[q])});var D=new(d())().retain(o).retain(e,(0,_.A)(m));return this.update(D)}getContents(o,e){return this.delta.slice(o,o+e)}getDelta(){return this.scroll.lines().reduce((o,e)=>o.concat(e.delta()),new(d()))}getFormat(q){let e=1<arguments.length&&arguments[1]!==void 0?arguments[1]:0,m=[],D=[];e===0?this.scroll.path(q).forEach($=>{var[$]=$;$ instanceof E.Ay?m.push($):$ instanceof y.LeafBlot&&D.push($)}):(m=this.scroll.lines(q,e),D=this.scroll.descendants(y.LeafBlot,q,e));var[q,z]=[m,D].map(F=>{const $=F.shift();if($==null)return{};let nt=(0,E.Ji)($);for(;0<Object.keys(nt).length;){const ut=F.shift();if(ut==null)return nt;nt=function(Q,ct){return Object.keys(ct).reduce((tt,ot)=>{if(Q[ot]==null)return tt;const lt=ct[ot];return lt===Q[ot]?tt[ot]=lt:Array.isArray(lt)?lt.indexOf(Q[ot])<0?tt[ot]=lt.concat([Q[ot]]):tt[ot]=lt:tt[ot]=[lt,Q[ot]],tt},{})}((0,E.Ji)(ut),nt)}return nt});return{...q,...z}}getHTML(o,e){const[m,D]=this.scroll.line(o);var q;return m?(q=m.length(),m.length()>=D+e&&(D!==0||e!==q)?S(m,D,e,!0):S(this.scroll,o,e,!0)):""}getText(o,e){return this.getContents(o,e).filter(m=>typeof m.insert=="string").map(m=>m.insert).join("")}insertContents(o,m){var m=X(m),D=new(d())().retain(o).concat(m);return this.scroll.insertContents(o,m),this.update(D)}insertEmbed(o,e,m){return this.scroll.insertAt(o,e,m),this.update(new(d())().retain(o).insert({[e]:m}))}insertText(o,e){let m=2<arguments.length&&arguments[2]!==void 0?arguments[2]:{};return e=e.replace(/\r\n/g,`
`).replace(/\r/g,`
`),this.scroll.insertAt(o,e),Object.keys(m).forEach(D=>{this.scroll.formatAt(o,e.length,D,m[D])}),this.update(new(d())().retain(o).insert(e,(0,_.A)(m)))}isBlank(){if(this.scroll.children.length===0)return!0;if(1<this.scroll.children.length)return!1;var o=this.scroll.children.head;return(o==null?void 0:o.statics.blotName)===E.Ay.blotName&&!(1<o.children.length)&&o.children.head instanceof l.A}removeFormat(o,e){const m=this.getText(o,e),[D,q]=this.scroll.line(o+e);let z=0,F=new(d());return D!=null&&(z=D.length()-q,F=D.delta().slice(q,q+z-1).insert(`
`)),e=this.getContents(o,e+z).diff(new(d())().insert(m).concat(F)),o=new(d())().retain(o).concat(e),this.applyDelta(o)}update(o){let e=1<arguments.length&&arguments[1]!==void 0?arguments[1]:[],m=2<arguments.length&&arguments[2]!==void 0?arguments[2]:void 0;const D=this.delta;if(e.length===1&&e[0].type==="characterData"&&e[0].target.data.match(x)&&this.scroll.find(e[0].target)){const q=this.scroll.find(e[0].target),z=(0,E.Ji)(q),F=q.offset(this.scroll),$=e[0].oldValue.replace(p.A.CONTENTS,""),nt=new(d())().insert($),ut=new(d())().insert(q.value()),Q=m&&{oldRange:Y(m.oldRange,-F),newRange:Y(m.newRange,-F)};o=new(d())().retain(F).concat(nt.diff(ut,Q)).reduce((ct,tt)=>tt.insert?ct.insert(tt.insert,z):ct.push(tt),new(d())),this.delta=D.compose(o)}else this.delta=this.getDelta(),o&&(0,c.A)(D.compose(o),this.delta)||(o=D.diff(this.delta,m));return o}},L=r(5374),v=r(7356),H=r(6078),O=r(4266),W=r(746),et=class{constructor(o,e){dt(this,"isComposing",!1);this.scroll=o,this.emitter=e,this.setupListeners()}setupListeners(){this.scroll.domNode.addEventListener("compositionstart",o=>{this.isComposing||this.handleCompositionStart(o)}),this.scroll.domNode.addEventListener("compositionend",o=>{this.isComposing&&queueMicrotask(()=>{this.handleCompositionEnd(o)})})}handleCompositionStart(o){var e=o.target instanceof Node?this.scroll.find(o.target,!0):null;!e||e instanceof W.A||(this.emitter.emit(L.A.events.COMPOSITION_BEFORE_START,o),this.scroll.batchStart(),this.emitter.emit(L.A.events.COMPOSITION_START,o),this.isComposing=!0)}handleCompositionEnd(o){this.emitter.emit(L.A.events.COMPOSITION_BEFORE_END,o),this.scroll.batchEnd(),this.emitter.emit(L.A.events.COMPOSITION_END,o),this.isComposing=!1}},at=r(9609);const rt=o=>(o=parseInt(o,10),Number.isNaN(o)?0:o),st=(o,e,m,D,q,z)=>o<m&&D<e?0:o<m?-(m-o+q):D<e?D-m<e-o?o+q-m:e-D+z:0,b=["block","break","cursor","inline","scroll","text"],t=(0,H.A)("quill"),s=new y.Registry,A=class A{static debug(e){H.A.level(e=e===!0?"log":e)}static find(e){var m=1<arguments.length&&arguments[1]!==void 0&&arguments[1];return v.A.get(e)||s.find(e,m)}static import(e){return this.imports[e]==null&&t.error(`Cannot import ${e}. Are you sure it was registered?`),this.imports[e]}static register(){if(typeof(arguments.length<=0?void 0:arguments[0])!="string"){const e=arguments.length<=0?void 0:arguments[0],m=!(arguments.length<=1||!arguments[1]),D="attrName"in e?e.attrName:e.blotName;typeof D=="string"?this.register("formats/"+D,e,m):Object.keys(e).forEach(q=>{this.register(q,e[q],m)})}else{const e=arguments.length<=0?void 0:arguments[0],m=arguments.length<=1?void 0:arguments[1],D=!(arguments.length<=2||!arguments[2]);this.imports[e]==null||D||t.warn(`Overwriting ${e} with`,m),this.imports[e]=m,(e.startsWith("blots/")||e.startsWith("formats/"))&&m&&typeof m!="boolean"&&m.blotName!=="abstract"&&s.register(m),typeof m.register=="function"&&m.register(s)}}constructor(e){if(this.options=function(D){var q=T(e);if(!q)throw new Error("Invalid Quill container");var z=D.theme&&D.theme!==A.DEFAULTS.theme?A.import("themes/"+D.theme):at.A;if(!z)throw new Error(`Invalid theme ${D.theme}. Did you register it?`);const{modules:F,...$}=A.DEFAULTS,{modules:nt,...ut}=z.DEFAULTS;let Q=j(D.modules);Q!=null&&Q.toolbar&&Q.toolbar.constructor!==Object&&(Q={...Q,toolbar:{container:Q.toolbar}});var ct=(0,u.A)({},j(F),j(nt),Q),tt={...$,...B(ut),...B(D)};let ot=D.registry;return ot?D.formats&&t.warn('Ignoring "formats" option because "registry" is specified'):ot=D.formats?((lt,gt,ft)=>{const bt=new y.Registry;return b.forEach(pt=>{pt=gt.query(pt),pt&&bt.register(pt)}),lt.forEach(pt=>{let ht=gt.query(pt),Lt=(ht||ft.error(`Cannot register "${pt}" specified in "formats" config. Are you sure it was registered?`),0);for(;ht;)if(bt.register(ht),ht="blotName"in ht?ht.requiredContainer??null:null,100<(Lt+=1)){ft.error(`Cycle detected in registering blot requiredContainer: "${pt}"`);break}}),bt})(D.formats,tt.registry,t):tt.registry,{...tt,registry:ot,container:q,theme:z,modules:Object.entries(ct).reduce((lt,ft)=>{var[ft,bt]=ft;if(!bt)return lt;var pt=A.import("modules/"+ft);return pt==null?(t.error(`Cannot load ${ft} module. Are you sure you registered it?`),lt):{...lt,[ft]:(0,u.A)({},pt.DEFAULTS||{},bt)}},{}),bounds:T(tt.bounds)}}(1<arguments.length&&arguments[1]!==void 0?arguments[1]:{}),this.container=this.options.container,this.container==null)t.error("Invalid Quill container",e);else{this.options.debug&&A.debug(this.options.debug);var m=this.container.innerHTML.trim();this.container.classList.add("ql-container"),this.container.innerHTML="",v.A.set(this.container,this),this.root=this.addContainer("ql-editor"),this.root.classList.add("ql-blank"),this.emitter=new L.A;const D=y.ScrollBlot.blotName,q=this.options.registry.query(D);if(!(q&&"blotName"in q))throw new Error(`Cannot initialize Quill without "${D}" blot`);if(this.scroll=new q(this.options.registry,this.root,{emitter:this.emitter}),this.editor=new G(this.scroll),this.selection=new a.A(this.scroll,this.emitter),this.composition=new et(this.scroll,this.emitter),this.theme=new this.options.theme(this,this.options),this.keyboard=this.theme.addModule("keyboard"),this.clipboard=this.theme.addModule("clipboard"),this.history=this.theme.addModule("history"),this.uploader=this.theme.addModule("uploader"),this.theme.addModule("input"),this.theme.addModule("uiNode"),this.theme.init(),this.emitter.on(L.A.events.EDITOR_CHANGE,z=>{z===L.A.events.TEXT_CHANGE&&this.root.classList.toggle("ql-blank",this.editor.isBlank())}),this.emitter.on(L.A.events.SCROLL_UPDATE,(z,F)=>{const $=this.selection.lastRange,[nt]=this.selection.getRange(),ut=$&&nt?{oldRange:$,newRange:nt}:void 0;f.call(this,()=>this.editor.update(null,F,ut),z)}),this.emitter.on(L.A.events.SCROLL_EMBED_UPDATE,(z,F)=>{const $=this.selection.lastRange,[nt]=this.selection.getRange(),ut=$&&nt?{oldRange:$,newRange:nt}:void 0;f.call(this,()=>{var Q=new(d())().retain(z.offset(this)).retain({[z.statics.blotName]:F});return this.editor.update(Q,[],ut)},A.sources.USER)}),m){const z=this.clipboard.convert({html:m+"<p><br></p>",text:`
`});this.setContents(z)}this.history.clear(),this.options.placeholder&&this.root.setAttribute("data-placeholder",this.options.placeholder),this.options.readOnly&&this.disable(),this.allowReadOnlyEdits=!1}}addContainer(e){let m=1<arguments.length&&arguments[1]!==void 0?arguments[1]:null;if(typeof e=="string"){const D=e;(e=document.createElement("div")).classList.add(D)}return this.container.insertBefore(e,m),e}blur(){this.selection.setRange(null)}deleteText(e,m,D){return[e,m,,D]=g(e,m,D),f.call(this,()=>this.editor.deleteText(e,m),D,e,-1*m)}disable(){this.enable(!1)}editReadOnly(e){return this.allowReadOnlyEdits=!0,e=e(),this.allowReadOnlyEdits=!1,e}enable(){var e=!(0<arguments.length&&arguments[0]!==void 0)||arguments[0];this.scroll.enable(e),this.container.classList.toggle("ql-disabled",!e)}focus(){var e=0<arguments.length&&arguments[0]!==void 0?arguments[0]:{};this.selection.focus(),e.preventScroll||this.scrollSelectionIntoView()}format(e,m){var D=2<arguments.length&&arguments[2]!==void 0?arguments[2]:L.A.sources.API;return f.call(this,()=>{var q=this.getSelection(!0);let z=new(d());if(q==null)return z;if(this.scroll.query(e,y.Scope.BLOCK))z=this.editor.formatLine(q.index,q.length,{[e]:m});else{if(q.length===0)return this.selection.format(e,m),z;z=this.editor.formatText(q.index,q.length,{[e]:m})}return this.setSelection(q,L.A.sources.SILENT),z},D)}formatLine(e,m,D,q,z){let F;return[e,m,F,z]=g(e,m,D,q,z),f.call(this,()=>this.editor.formatLine(e,m,F),z,e,0)}formatText(e,m,D,q,z){let F;return[e,m,F,z]=g(e,m,D,q,z),f.call(this,()=>this.editor.formatText(e,m,F),z,e,0)}getBounds(e){if(!(e=typeof e=="number"?this.selection.getBounds(e,1<arguments.length&&arguments[1]!==void 0?arguments[1]:0):this.selection.getBounds(e.index,e.length)))return null;var m=this.container.getBoundingClientRect();return{bottom:e.bottom-m.top,height:e.height,left:e.left-m.left,right:e.right-m.left,top:e.top-m.top,width:e.width}}getContents(){let e=0<arguments.length&&arguments[0]!==void 0?arguments[0]:0,m=1<arguments.length&&arguments[1]!==void 0?arguments[1]:this.getLength()-e;return[e,m]=g(e,m),this.editor.getContents(e,m)}getFormat(){var e=0<arguments.length&&arguments[0]!==void 0?arguments[0]:this.getSelection(!0);return typeof e=="number"?this.editor.getFormat(e,1<arguments.length&&arguments[1]!==void 0?arguments[1]:0):this.editor.getFormat(e.index,e.length)}getIndex(e){return e.offset(this.scroll)}getLength(){return this.scroll.length()}getLeaf(e){return this.scroll.leaf(e)}getLine(e){return this.scroll.line(e)}getLines(){var e=0<arguments.length&&arguments[0]!==void 0?arguments[0]:0,m=1<arguments.length&&arguments[1]!==void 0?arguments[1]:Number.MAX_VALUE;return typeof e!="number"?this.scroll.lines(e.index,e.length):this.scroll.lines(e,m)}getModule(e){return this.theme.modules[e]}getSelection(){return 0<arguments.length&&arguments[0]!==void 0&&arguments[0]&&this.focus(),this.update(),this.selection.getRange()[0]}getSemanticHTML(){let e=0<arguments.length&&arguments[0]!==void 0?arguments[0]:0,m=1<arguments.length?arguments[1]:void 0;return typeof e=="number"&&(m=m??this.getLength()-e),[e,m]=g(e,m),this.editor.getHTML(e,m)}getText(){let e=0<arguments.length&&arguments[0]!==void 0?arguments[0]:0,m=1<arguments.length?arguments[1]:void 0;return typeof e=="number"&&(m=m??this.getLength()-e),[e,m]=g(e,m),this.editor.getText(e,m)}hasFocus(){return this.selection.hasFocus()}insertEmbed(e,m,D){var q=3<arguments.length&&arguments[3]!==void 0?arguments[3]:A.sources.API;return f.call(this,()=>this.editor.insertEmbed(e,m,D),q,e)}insertText(e,m,D,q,z){let F;return[e,,F,z]=g(e,0,D,q,z),f.call(this,()=>this.editor.insertText(e,m,F),z,e,m.length)}isEnabled(){return this.scroll.isEnabled()}off(){return this.emitter.off(...arguments)}on(){return this.emitter.on(...arguments)}once(){return this.emitter.once(...arguments)}removeFormat(e,m,D){return[e,m,,D]=g(e,m,D),f.call(this,()=>this.editor.removeFormat(e,m),D,e)}scrollRectIntoView(e){var ut,Q,ct;{var m=this.root,D=e,q,z,F,$,nt;const tt=m.ownerDocument;let ot=D,lt=m;for(;lt;){const gt=lt===tt.body,ft=gt?{top:0,right:((ut=window.visualViewport)==null?void 0:ut.width)??tt.documentElement.clientWidth,bottom:((Q=window.visualViewport)==null?void 0:Q.height)??tt.documentElement.clientHeight,left:0}:(q=lt,$=F=z=void 0,z=q.getBoundingClientRect(),F="offsetWidth"in q&&Math.abs(z.width)/q.offsetWidth||1,$="offsetHeight"in q&&Math.abs(z.height)/q.offsetHeight||1,{top:z.top,right:z.left+q.clientWidth*F,bottom:z.top+q.clientHeight*$,left:z.left}),bt=getComputedStyle(lt),pt=st(ot.left,ot.right,ft.left,ft.right,rt(bt.scrollPaddingLeft),rt(bt.scrollPaddingRight)),ht=st(ot.top,ot.bottom,ft.top,ft.bottom,rt(bt.scrollPaddingTop),rt(bt.scrollPaddingBottom));if(pt||ht)if(gt)(ct=tt.defaultView)==null||ct.scrollBy(pt,ht);else{const{scrollLeft:Lt,scrollTop:xt}=lt,Nt=(ht&&(lt.scrollTop+=ht),pt&&(lt.scrollLeft+=pt),lt.scrollLeft-Lt),St=lt.scrollTop-xt;ot={left:ot.left-Nt,top:ot.top-St,right:ot.right-Nt,bottom:ot.bottom-St}}lt=!gt&&bt.position!=="fixed"&&((nt=lt).parentElement||nt.getRootNode().host)||null}return}}scrollIntoView(){console.warn("Quill#scrollIntoView() has been deprecated and will be removed in the near future. Please use Quill#scrollSelectionIntoView() instead."),this.scrollSelectionIntoView()}scrollSelectionIntoView(){var e=this.selection.lastRange,e=e&&this.selection.getBounds(e.index,e.length);e&&this.scrollRectIntoView(e)}setContents(e){var m=1<arguments.length&&arguments[1]!==void 0?arguments[1]:L.A.sources.API;return f.call(this,()=>{e=new(d())(e);const D=this.getLength(),q=this.editor.deleteText(0,D),z=this.editor.insertContents(0,e),F=this.editor.deleteText(this.getLength()-1,1);return q.compose(z).compose(F)},m)}setSelection(e,m,D){e==null?this.selection.setRange(null,m||A.sources.API):([e,m,,D]=g(e,m,D),this.selection.setRange(new a.Q(Math.max(0,e),m),D),D!==L.A.sources.SILENT&&this.scrollSelectionIntoView())}setText(D){var m=1<arguments.length&&arguments[1]!==void 0?arguments[1]:L.A.sources.API,D=new(d())().insert(D);return this.setContents(D,m)}update(){var e=0<arguments.length&&arguments[0]!==void 0?arguments[0]:L.A.sources.USER,m=this.scroll.update(e);return this.selection.update(e),m}updateContents(e){var m=1<arguments.length&&arguments[1]!==void 0?arguments[1]:L.A.sources.API;return f.call(this,()=>(e=new(d())(e),this.editor.applyDelta(e)),m,!0)}};dt(A,"DEFAULTS",{bounds:null,modules:{clipboard:!0,keyboard:!0,history:!0,uploader:!0},placeholder:"",readOnly:!(y.ParentBlot.uiClass="ql-ui"),registry:s,theme:"default"}),dt(A,"events",L.A.events),dt(A,"sources",L.A.sources),dt(A,"version","2.0.2"),dt(A,"imports",{delta:d(),parchment:y,"core/module":O.A,"core/theme":at.A});let w=A;function T(o){return typeof o=="string"?document.querySelector(o):o}function j(o){return Object.entries(o??{}).reduce((e,D)=>{var[D,q]=D;return{...e,[D]:q===!0?{}:q}},{})}function B(o){return Object.fromEntries(Object.entries(o).filter(e=>e[1]!==void 0))}function f(o,e,m,D){if(!this.isEnabled()&&e===L.A.sources.USER&&!this.allowReadOnlyEdits)return new(d());let q=m==null?null:this.getSelection();const z=this.editor.delta,F=o();if(q!=null&&(m===!0&&(m=q.index),D==null?q=k(q,F,e):D!==0&&(q=k(q,m,D,e)),this.setSelection(q,L.A.sources.SILENT)),0<F.length()){const $=[L.A.events.TEXT_CHANGE,F,z,e];this.emitter.emit(L.A.events.EDITOR_CHANGE,...$),e!==L.A.sources.SILENT&&this.emitter.emit(...$)}return F}function g(o,e,m,D,q){let z={};return typeof o.index=="number"&&typeof o.length=="number"?o=(e=(typeof e!="number"&&(q=D,D=m,m=e),o.length),o.index):typeof e!="number"&&(q=D,D=m,m=e,e=0),typeof m=="object"?(z=m,q=D):typeof m=="string"&&(D!=null?z[m]=D:q=m),[o,e,z,q=q||L.A.sources.API]}function k(o,e,m,D){const q=typeof m=="number"?m:0;if(o==null)return null;let z,F;return e&&typeof e.transformPosition=="function"?[z,F]=[o.index,o.index+o.length].map($=>e.transformPosition($,D!==L.A.sources.USER)):[z,F]=[o.index,o.index+o.length].map($=>$<e||$===e&&D===L.A.sources.USER?$:0<=q?$+q:Math.max(e,$+q)),new a.Q(z,F-z)}},8298:function(Z,C,r){r.d(C,{Q:function(){return c}});var u=r(6003),y=r(5123),R=r(3707),d=r(5374);const _=(0,r(6078).A)("quill:selection");class c{constructor(p){var U=1<arguments.length&&arguments[1]!==void 0?arguments[1]:0;this.index=p,this.length=U}}function E(l,p){try{p.parentNode}catch{return!1}return l.contains(p)}C.A=class{constructor(l,p){this.emitter=p,this.scroll=l,this.composing=!1,this.mouseDown=!1,this.root=this.scroll.domNode,this.cursor=this.scroll.create("cursor",this),this.savedRange=new c(0,0),this.lastRange=this.savedRange,this.lastNative=null,this.handleComposition(),this.handleDragging(),this.emitter.listenDOM("selectionchange",document,()=>{this.mouseDown||this.composing||setTimeout(this.update.bind(this,d.A.sources.USER),1)}),this.emitter.on(d.A.events.SCROLL_BEFORE_UPDATE,()=>{if(this.hasFocus()){const U=this.getNativeRange();U!=null&&U.start.node!==this.cursor.textNode&&this.emitter.once(d.A.events.SCROLL_UPDATE,(a,x)=>{try{this.root.contains(U.start.node)&&this.root.contains(U.end.node)&&this.setNativeRange(U.start.node,U.start.offset,U.end.node,U.end.offset);var S=x.some(I=>I.type==="characterData"||I.type==="childList"||I.type==="attributes"&&I.target===this.root);this.update(S?d.A.sources.SILENT:a)}catch{}})}}),this.emitter.on(d.A.events.SCROLL_OPTIMIZE,(U,a)=>{if(a.range){const{startNode:x,startOffset:S,endNode:I,endOffset:X}=a.range;this.setNativeRange(x,S,I,X),this.update(d.A.sources.SILENT)}}),this.update(d.A.sources.SILENT)}handleComposition(){this.emitter.on(d.A.events.COMPOSITION_BEFORE_START,()=>{this.composing=!0}),this.emitter.on(d.A.events.COMPOSITION_END,()=>{if(this.composing=!1,this.cursor.parent){const l=this.cursor.restore();l&&setTimeout(()=>{this.setNativeRange(l.startNode,l.startOffset,l.endNode,l.endOffset)},1)}})}handleDragging(){this.emitter.listenDOM("mousedown",document.body,()=>{this.mouseDown=!0}),this.emitter.listenDOM("mouseup",document.body,()=>{this.mouseDown=!1,this.update(d.A.sources.USER)})}focus(){this.hasFocus()||(this.root.focus({preventScroll:!0}),this.setRange(this.savedRange))}format(l,p){this.scroll.update();var U=this.getNativeRange();if(U!=null&&U.native.collapsed&&!this.scroll.query(l,u.Scope.BLOCK)){if(U.start.node!==this.cursor.textNode){const a=this.scroll.find(U.start.node,!1);if(a==null)return;if(a instanceof u.LeafBlot){const x=a.split(U.start.offset);a.parent.insertBefore(this.cursor,x)}else a.insertBefore(this.cursor,U.start.node);this.cursor.attach()}this.cursor.format(l,p),this.scroll.optimize(),this.setNativeRange(this.cursor.textNode,this.cursor.textNode.data.length),this.update()}}getBounds(l){let p=1<arguments.length&&arguments[1]!==void 0?arguments[1]:0;const U=this.scroll.length();let a,[x,S]=(l=Math.min(l,U-1),p=Math.min(l+p,U-1)-l,this.scroll.leaf(l));if(x==null)return null;if(0<p&&S===x.length()){const[G]=this.scroll.leaf(l+1);if(G){const[L]=this.scroll.line(l),[v]=this.scroll.line(l+1);L===v&&(x=G,S=0)}}[a,S]=x.position(S,!0);const I=document.createRange();if(0<p)return I.setStart(a,S),[x,S]=this.scroll.leaf(l+p),x==null?null:([a,S]=x.position(S,!0),I.setEnd(a,S),I.getBoundingClientRect());let X,Y="left";if(a instanceof Text){if(!a.data.length)return null;S<a.data.length?(I.setStart(a,S),I.setEnd(a,S+1)):(I.setStart(a,S-1),I.setEnd(a,S),Y="right"),X=I.getBoundingClientRect()}else{if(!(x.domNode instanceof Element))return null;X=x.domNode.getBoundingClientRect(),0<S&&(Y="right")}return{bottom:X.top+X.height,height:X.height,left:X[Y],right:X[Y],top:X.top,width:0}}getNativeRange(){const l=document.getSelection();if(l==null||l.rangeCount<=0)return null;var p=l.getRangeAt(0);return p==null?null:(p=this.normalizeNative(p),_.info("getNativeRange",p),p)}getRange(){var l=this.scroll.domNode;return"isConnected"in l&&!l.isConnected?[null,null]:(l=this.getNativeRange(),l==null?[null,null]:[this.normalizedToRange(l),l])}hasFocus(){return document.activeElement===this.root||document.activeElement!=null&&E(this.root,document.activeElement)}normalizedToRange(a){const p=[[a.start.node,a.start.offset]];a.native.collapsed||p.push([a.end.node,a.end.offset]);var a=p.map(x=>{const[S,I]=x,X=this.scroll.find(S,!0),Y=X.offset(this.scroll);return I===0?Y:X instanceof u.LeafBlot?Y+X.index(S,I):Y+X.length()}),U=Math.min(Math.max(...a),this.scroll.length()-1),a=Math.min(U,...a);return new c(a,U-a)}normalizeNative(l){if(!E(this.root,l.startContainer)||!l.collapsed&&!E(this.root,l.endContainer))return null;const p={start:{node:l.startContainer,offset:l.startOffset},end:{node:l.endContainer,offset:l.endOffset},native:l};return[p.start,p.end].forEach(U=>{let{node:a,offset:x}=U;for(;!(a instanceof Text)&&0<a.childNodes.length;)if(a.childNodes.length>x)a=a.childNodes[x],x=0;else{if(a.childNodes.length!==x)break;a=a.lastChild,x=a instanceof Text?a.data.length:0<a.childNodes.length?a.childNodes.length:a.childNodes.length+1}U.node=a,U.offset=x}),p}rangeToNative(l){const p=this.scroll.length(),U=(a,x)=>{a=Math.min(p-1,a);const[S,I]=this.scroll.leaf(a);return S?S.position(I,x):[null,-1]};return[...U(l.index,!1),...U(l.index+l.length,!0)]}setNativeRange(l,p){let U=2<arguments.length&&arguments[2]!==void 0?arguments[2]:l,a=3<arguments.length&&arguments[3]!==void 0?arguments[3]:p,x=4<arguments.length&&arguments[4]!==void 0&&arguments[4];if(_.info("setNativeRange",l,p,U,a),l==null||this.root.parentNode!=null&&l.parentNode!=null&&U.parentNode!=null){const I=document.getSelection();if(I!=null)if(l!=null){this.hasFocus()||this.root.focus({preventScroll:!0});var S=(this.getNativeRange()||{}).native;if(S==null||x||l!==S.startContainer||p!==S.startOffset||U!==S.endContainer||a!==S.endOffset){l instanceof Element&&l.tagName==="BR"&&(p=Array.from(l.parentNode.childNodes).indexOf(l),l=l.parentNode),U instanceof Element&&U.tagName==="BR"&&(a=Array.from(U.parentNode.childNodes).indexOf(U),U=U.parentNode);const X=document.createRange();X.setStart(l,p),X.setEnd(U,a),I.removeAllRanges(),I.addRange(X)}}else I.removeAllRanges(),this.root.blur()}}setRange(l){let p=1<arguments.length&&arguments[1]!==void 0&&arguments[1],U=2<arguments.length&&arguments[2]!==void 0?arguments[2]:d.A.sources.API;if(typeof p=="string"&&(U=p,p=!1),_.info("setRange",l),l!=null){const a=this.rangeToNative(l);this.setNativeRange(...a,p)}else this.setNativeRange(null);this.update(U)}update(){let l=0<arguments.length&&arguments[0]!==void 0?arguments[0]:d.A.sources.USER;const p=this.lastRange,[U,a]=this.getRange();if(this.lastRange=U,this.lastNative=a,this.lastRange!=null&&(this.savedRange=this.lastRange),!(0,y.A)(p,this.lastRange)){if(!this.composing&&a!=null&&a.native.collapsed&&a.start.node!==this.cursor.textNode){const S=this.cursor.restore();S&&this.setNativeRange(S.startNode,S.startOffset,S.endNode,S.endOffset)}const x=[d.A.events.SELECTION_CHANGE,(0,R.A)(this.lastRange),(0,R.A)(p),l];this.emitter.emit(d.A.events.EDITOR_CHANGE,...x),l!==d.A.sources.SILENT&&this.emitter.emit(...x)}}}},9609:function(Z,C){var y;const u=class u{constructor(d,_){dt(this,"modules",{});this.quill=d,this.options=_}init(){Object.keys(this.options.modules).forEach(d=>{this.modules[d]==null&&this.addModule(d)})}addModule(d){const _=this.quill.constructor.import("modules/"+d);return this.modules[d]=new _(this.quill,this.options.modules[d]||{}),this.modules[d]}};dt(u,"DEFAULTS",{modules:{}}),dt(u,"themes",{default:u});let r=u;C.A=(y=class{constructor(d,_){dt(this,"modules",{});this.quill=d,this.options=_}init(){Object.keys(this.options.modules).forEach(d=>{this.modules[d]==null&&this.addModule(d)})}addModule(d){const _=this.quill.constructor.import("modules/"+d);return this.modules[d]=new _(this.quill,this.options.modules[d]||{}),this.modules[d]}},dt(y,"DEFAULTS",{modules:{}}),dt(y,"themes",{default:y}),y)},8276:function(Z,C,r){r.d(C,{Hu:function(){return d},gS:function(){return y},qh:function(){return R}}),C=r(6003);const u={scope:C.Scope.BLOCK,whitelist:["right","center","justify"]},y=new C.Attributor("align","align",u),R=new C.ClassAttributor("align","ql-align",u),d=new C.StyleAttributor("align","text-align",u)},9541:function(Z,C,r){r.d(C,{l:function(){return u},s:function(){return y}}),C=r(6003),r=r(8638);const u=new C.ClassAttributor("background","ql-bg",{scope:C.Scope.INLINE}),y=new r.a2("background","background-color",{scope:C.Scope.INLINE})},9404:function(Z,u,r){r.d(u,{Ay:function(){return p},Cy:function(){return U},EJ:function(){return l}});var u=r(9698),y=r(3036),R=r(4541),d=r(4850),_=r(5508),c=r(580),E=r(6142);class l extends c.A{static create(x){const S=super.create(x);return S.setAttribute("spellcheck","false"),S}code(x,S){return this.children.map(I=>I.length()<=1?"":I.domNode.innerText).join(`
`).slice(x,x+S)}html(x,S){return`<pre>
${(0,_.X)(this.code(x,S))}
</pre>`}}class p extends u.Ay{static register(){E.Ay.register(l)}}dt(p,"TAB","  ");class U extends d.A{}U.blotName="code",U.tagName="CODE",p.blotName="code-block",p.className="ql-code-block",p.tagName="DIV",l.blotName="code-block-container",l.className="ql-code-block-container",l.tagName="DIV",l.allowedChildren=[p],p.allowedChildren=[_.A,y.A,R.A],p.requiredContainer=l},8638:function(Z,C,r){r.d(C,{JM:function(){return R},a2:function(){return u},g3:function(){return y}}),C=r(6003);class u extends C.StyleAttributor{value(_){let c=super.value(_);return c.startsWith("rgb(")?"#"+(c=c.replace(/^[^\d]+/,"").replace(/[^\d]+$/,"")).split(",").map(E=>("00"+parseInt(E,10).toString(16)).slice(-2)).join(""):c}}const y=new C.ClassAttributor("color","ql-color",{scope:C.Scope.INLINE}),R=new u("color","color",{scope:C.Scope.INLINE})},7912:function(Z,C,r){r.d(C,{Mc:function(){return y},VL:function(){return d},sY:function(){return R}}),C=r(6003);const u={scope:C.Scope.BLOCK,whitelist:["rtl"]},y=new C.Attributor("direction","dir",u),R=new C.ClassAttributor("direction","ql-direction",u),d=new C.StyleAttributor("direction","direction",u)},6772:function(Z,C,r){r.d(C,{q:function(){return y},z:function(){return d}}),C=r(6003);const u={scope:C.Scope.INLINE,whitelist:["serif","monospace"]},y=new C.ClassAttributor("font","ql-font",u);class R extends C.StyleAttributor{value(c){return super.value(c).replace(/["']/g,"")}}const d=new R("font","font-family",u)},664:function(Z,C,r){r.d(C,{U:function(){return u},r:function(){return y}}),C=r(6003);const u=new C.ClassAttributor("size","ql-size",{scope:C.Scope.INLINE,whitelist:["small","large","huge"]}),y=new C.StyleAttributor("size","font-size",{scope:C.Scope.INLINE,whitelist:["10px","18px","32px"]})},584:function(Z,d,r){r.d(d,{Ay:function(){return st},hV:function(){return T}});var u=r(6003),d=r(5232),y=r.n(d),R=r(9698),d=r(6078),_=r(4266),c=r(6142),E=r(8276),l=r(9541),p=r(9404),U=r(8638),a=r(7912),x=r(6772),S=r(664),I=r(8123);const X=/font-weight:\s*normal/,Y=["P","OL","UL"],G=f=>f&&Y.includes(f.tagName),L=/\bmso-list:[^;]*ignore/i,v=/\bmso-list:[^;]*\bl(\d+)/i,H=/\bmso-list:[^;]*\blevel(\d+)/i,O=[function(f){var k,A;if(f.documentElement.getAttribute("xmlns:w")==="urn:schemas-microsoft-com:office:word"){var g=f;const o=Array.from(g.querySelectorAll("[style*=mso-list]")),e=[],m=[],D=(o.forEach(z=>{((z.getAttribute("style")||"").match(L)?e:m).push(z)}),e.forEach(z=>{var F;return(F=z.parentNode)==null?void 0:F.removeChild(z)}),g.documentElement.innerHTML),q=m.map(z=>{{var ut=D;const Q=z.getAttribute("style"),ct=Q==null?void 0:Q.match(v);if(!ct)return null;var F=Number(ct[1]),$,$=($=Q==null?void 0:Q.match(H))?Number($[1]):1,nt=new RegExp(`@list l${F}:level${$}\\s*\\{[^\\}]*mso-level-number-format:\\s*([\\w-]+)`,"i"),ut=ut.match(nt);return{id:F,indent:$,type:ut&&ut[1]==="bullet"?"bullet":"ordered",element:z}}}).filter(z=>z);for(;q.length;){const z=[];let F=q.shift();for(;F;)z.push(F),F=q.length&&((k=q[0])==null?void 0:k.element)===F.element.nextElementSibling&&q[0].id===F.id?q.shift():null;const $=document.createElement("ul"),nt=(z.forEach(Q=>{const ct=document.createElement("li");ct.setAttribute("data-list",Q.type),1<Q.indent&&ct.setAttribute("class","ql-indent-"+(Q.indent-1)),ct.innerHTML=Q.element.innerHTML,$.appendChild(ct)}),(A=z[0])==null?void 0:A.element),ut=(nt??{}).parentNode;nt&&(ut==null||ut.replaceChild($,nt)),z.slice(1).forEach(Q=>{Q=Q.element,ut==null||ut.removeChild(Q)})}}},function(f){var g;f.querySelector('[id^="docs-internal-guid-"]')&&(g=f,Array.from(g.querySelectorAll('b[style*="font-weight"]')).filter(k=>{var A;return(A=k.getAttribute("style"))==null?void 0:A.match(X)}).forEach(k=>{var o;const A=g.createDocumentFragment();A.append(...k.childNodes),(o=k.parentNode)==null||o.replaceChild(A,k)}),Array.from(f.querySelectorAll("br")).filter(k=>G(k.previousElementSibling)&&G(k.nextElementSibling)).forEach(k=>{var A;(A=k.parentNode)==null||A.removeChild(k)}))}],W=(0,d.A)("quill:clipboard"),et=[[Node.TEXT_NODE,function(f,g,k){var m;let A=f.data;if(((m=f.parentElement)==null?void 0:m.tagName)==="O:P")return g.insert(A.trim());if(!function D(q){return q!=null&&(w.has(q)||(q.tagName==="PRE"?w.set(q,!0):w.set(q,D(q.parentNode))),w.get(q))}(f)){if(A.trim().length===0&&A.includes(`
`)&&(e=k,!(o=f).previousElementSibling||!o.nextElementSibling||s(o.previousElementSibling,e)||s(o.nextElementSibling,e)))return g;o=(D,q)=>(q=q.replace(/[^\u00a0]/g,""),q.length<1&&D?" ":q),A=(A=A.replace(/\r\n/g," ").replace(/\n/g," ")).replace(/\s\s+/g,o.bind(o,!0)),(f.previousSibling==null&&f.parentElement!=null&&s(f.parentElement,k)||f.previousSibling instanceof Element&&s(f.previousSibling,k))&&(A=A.replace(/^\s+/,o.bind(o,!1))),(f.nextSibling==null&&f.parentElement!=null&&s(f.parentElement,k)||f.nextSibling instanceof Element&&s(f.nextSibling,k))&&(A=A.replace(/\s+$/,o.bind(o,!1)))}var o,e;return g.insert(A)}],[Node.TEXT_NODE,B],["br",function(f,g){return t(g,`
`)||g.insert(`
`),g}],[Node.ELEMENT_NODE,B],[Node.ELEMENT_NODE,function(f,g,k){const A=k.query(f);if(A==null)return g;if(A.prototype instanceof u.EmbedBlot){const o={},e=A.value(f);if(e!=null)return o[A.blotName]=e,new(y())().insert(o,A.formats(f,k))}else if(A.prototype instanceof u.BlockBlot&&!t(g,`
`)&&g.insert(`
`),"blotName"in A&&"formats"in A&&typeof A.formats=="function")return b(g,A.blotName,A.formats(f,k),k);return g}],[Node.ELEMENT_NODE,function(f,g,k){const A=u.Attributor.keys(f),o=u.ClassAttributor.keys(f),e=u.StyleAttributor.keys(f),m={};return A.concat(o).concat(e).forEach(D=>{let q=k.query(D,u.Scope.ATTRIBUTE);q!=null&&(m[q.attrName]=q.value(f),m[q.attrName])||((q=at[D])==null||q.attrName!==D&&q.keyName!==D||(m[q.attrName]=q.value(f)||void 0),(q=rt[D])==null||q.attrName!==D&&q.keyName!==D||(q=rt[D],m[q.attrName]=q.value(f)||void 0))}),Object.entries(m).reduce((D,z)=>{var[z,F]=z;return b(D,z,F,k)},g)}],[Node.ELEMENT_NODE,function(f,g,k){var e;const A={},o=f.style||{};return o.fontStyle==="italic"&&(A.italic=!0),o.textDecoration==="underline"&&(A.underline=!0),o.textDecoration==="line-through"&&(A.strike=!0),((e=o.fontWeight)!=null&&e.startsWith("bold")||700<=parseInt(o.fontWeight,10))&&(A.bold=!0),g=Object.entries(A).reduce((m,q)=>{var[q,z]=q;return b(m,q,z,k)},g),0<parseFloat(o.textIndent||0)?new(y())().insert("	").concat(g):g}],["li",function(f,g,k){if(k=k.query(f),k==null||k.blotName!=="list"||!t(g,`
`))return g;let A=-1,o=f.parentNode;for(;o!=null;)["OL","UL"].includes(o.tagName)&&(A+=1),o=o.parentNode;return A<=0?g:g.reduce((e,m)=>m.insert?m.attributes&&typeof m.attributes.indent=="number"?e.push(m):e.insert(m.insert,{indent:A,...m.attributes||{}}):e,new(y()))}],["ol, ul",function(f,g,k){const A=f;let o=A.tagName==="OL"?"ordered":"bullet";return f=A.getAttribute("data-checked"),b(g,"list",o=f?f==="true"?"checked":"unchecked":o,k)}],["pre",function(f,g,k){const A=k.query("code-block");return b(g,"code-block",!A||!("formats"in A)||typeof A.formats!="function"||A.formats(f,k),k)}],["tr",function(f,g,k){var o,e;const A=((o=f.parentElement)==null?void 0:o.tagName)==="TABLE"?f.parentElement:(e=f.parentElement)==null?void 0:e.parentElement;return A!=null?b(g,"table",Array.from(A.querySelectorAll("tr")).indexOf(f)+1,k):g}],["b",j("bold")],["i",j("italic")],["strike",j("strike")],["style",function(){return new(y())}]],at=[E.gS,a.Mc].reduce((f,g)=>(f[g.keyName]=g,f),{}),rt=[E.Hu,l.s,U.JM,a.VL,x.z,S.r].reduce((f,g)=>(f[g.keyName]=g,f),{});class st extends _.A{constructor(g,k){super(g,k),this.quill.root.addEventListener("copy",A=>this.onCaptureCopy(A,!1)),this.quill.root.addEventListener("cut",A=>this.onCaptureCopy(A,!0)),this.quill.root.addEventListener("paste",this.onCapturePaste.bind(this)),this.matchers=[],et.concat(this.options.matchers??[]).forEach(o=>{var[o,e]=o;this.addMatcher(o,e)})}addMatcher(g,k){this.matchers.push([g,k])}convert(k){var{html:k,text:A}=k,o=1<arguments.length&&arguments[1]!==void 0?arguments[1]:{};if(o[p.Ay.blotName])return new(y())().insert(A||"",{[p.Ay.blotName]:o[p.Ay.blotName]});if(!k)return new(y())().insert(A||"",o);const e=this.convertHTML(k);return t(e,`
`)&&(e.ops[e.ops.length-1].attributes==null||o.table)?e.compose(new(y())().retain(e.length()-1).delete(1)):e}normalizeHTML(g){var k;(k=g).documentElement&&O.forEach(A=>{A(k)})}convertHTML(k){var k=new DOMParser().parseFromString(k,"text/html"),k=(this.normalizeHTML(k),k.body),A=new WeakMap,[o,e]=this.prepareMatching(k,A);return T(this.quill.scroll,k,o,e,A)}dangerouslyPasteHTML(g,k){let A=2<arguments.length&&arguments[2]!==void 0?arguments[2]:c.Ay.sources.API;if(typeof g=="string"){const o=this.convert({html:g,text:""});this.quill.setContents(o,k),this.quill.setSelection(0,c.Ay.sources.SILENT)}else{const o=this.convert({html:k,text:""});this.quill.updateContents(new(y())().retain(g).concat(o),A),this.quill.setSelection(g+o.length(),c.Ay.sources.SILENT)}}onCaptureCopy(g){var m,D;var k,A,o,e=1<arguments.length&&arguments[1]!==void 0&&arguments[1];g.defaultPrevented||(g.preventDefault(),[k]=this.quill.selection.getRange(),k!=null&&({html:A,text:o}=this.onCopy(k,e),(m=g.clipboardData)==null||m.setData("text/plain",o),(D=g.clipboardData)==null||D.setData("text/html",A),e&&(0,I.Xo)({range:k,quill:this.quill})))}normalizeURIList(g){return g.split(/\r?\n/).filter(k=>k[0]!=="#").join(`
`)}onCapturePaste(g){var o,e,m,D,q;if(!g.defaultPrevented&&this.quill.isEnabled()){g.preventDefault();const z=this.quill.getSelection(!0);if(z!=null){var k=(o=g.clipboardData)==null?void 0:o.getData("text/html");let F=(e=g.clipboardData)==null?void 0:e.getData("text/plain");if(!k&&!F){const $=(m=g.clipboardData)==null?void 0:m.getData("text/uri-list");$&&(F=this.normalizeURIList($))}var A=Array.from(((D=g.clipboardData)==null?void 0:D.files)||[]);if(!k&&0<A.length)this.quill.uploader.upload(z,A);else{if(k&&0<A.length){const $=new DOMParser().parseFromString(k,"text/html");if($.body.childElementCount===1&&((q=$.body.firstElementChild)==null?void 0:q.tagName)==="IMG")return void this.quill.uploader.upload(z,A)}this.onPaste(z,{html:k,text:F})}}}}onCopy(g){var k=this.quill.getText(g);return{html:this.quill.getSemanticHTML(g),text:k}}onPaste(g,A){var{text:A,html:o}=A,e=this.quill.getFormat(g.index),e=this.convert({text:A,html:o},e);W.log("onPaste",e,{text:A,html:o});const m=new(y())().retain(g.index).delete(g.length).concat(e);this.quill.updateContents(m,c.Ay.sources.USER),this.quill.setSelection(m.length()-g.length,c.Ay.sources.SILENT),this.quill.scrollSelectionIntoView()}prepareMatching(g,k){const A=[],o=[];return this.matchers.forEach(e=>{const[m,D]=e;switch(m){case Node.TEXT_NODE:o.push(D);break;case Node.ELEMENT_NODE:A.push(D);break;default:Array.from(g.querySelectorAll(m)).forEach(q=>{if(k.has(q)){const z=k.get(q);z==null||z.push(D)}else k.set(q,[D])})}}),[A,o]}}dt(st,"DEFAULTS",{matchers:[]});function b(f,g,k,A){return A.query(g)?f.reduce((o,e)=>e.insert?e.attributes&&e.attributes[g]?o.push(e):o.insert(e.insert,{...k?{[g]:k}:{},...e.attributes}):o,new(y())):f}function t(f,g){let k="";for(let A=f.ops.length-1;0<=A&&k.length<g.length;--A){const o=f.ops[A];if(typeof o.insert!="string")break;k=o.insert+k}return k.slice(-1*g.length)===g}function s(f,g){if(f instanceof Element)return g=g.query(f),!(g&&g.prototype instanceof u.EmbedBlot)&&["address","article","blockquote","canvas","dd","div","dl","dt","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","iframe","li","main","nav","ol","output","p","pre","section","table","td","tr","ul","video"].includes(f.tagName.toLowerCase())}const w=new WeakMap;function T(f,g,k,A,o){return g.nodeType===g.TEXT_NODE?A.reduce((e,m)=>m(g,e,f),new(y())):g.nodeType===g.ELEMENT_NODE?Array.from(g.childNodes||[]).reduce((e,m)=>{let D=T(f,m,k,A,o);return m.nodeType===g.ELEMENT_NODE&&(D=k.reduce((q,z)=>z(m,q,f),D),D=(o.get(m)||[]).reduce((q,z)=>z(m,q,f),D)),e.concat(D)},new(y())):new(y())}function j(f){return(g,k,A)=>b(k,f,!0,A)}function B(f,g,k){if(!t(g,`
`)){if(s(f,k)&&(0<f.childNodes.length||f instanceof HTMLParagraphElement))return g.insert(`
`);if(0<g.length()&&f.nextSibling){let A=f.nextSibling;for(;A!=null;){if(s(A,k))return g.insert(`
`);const o=k.query(A);if(o&&o.prototype instanceof R.zo)return g.insert(`
`);A=A.firstChild}}}return g}},8123:function(Z,E,l){l.d(E,{Ay:function(){return a},Xo:function(){return Y}});var u=l(5123),y=l(3707),R=l(5232),d=l.n(R),_=l(6003),c=l(6142),E=l(6078),l=l(4266);const p=(0,E.A)("quill:keyboard"),U=/Mac/i.test(navigator.platform)?"metaKey":"ctrlKey";class a extends l.A{static match(L,v){return!["altKey","ctrlKey","metaKey","shiftKey"].some(H=>!!v[H]!==L[H]&&v[H]!==null)&&(v.key===L.key||v.key===L.which)}constructor(L,v){super(L,v),this.bindings={},Object.keys(this.options.bindings).forEach(H=>{this.options.bindings[H]&&this.addBinding(this.options.bindings[H])}),this.addBinding({key:"Enter",shiftKey:null},this.handleEnter),this.addBinding({key:"Enter",metaKey:null,ctrlKey:null,altKey:null},()=>{}),/Firefox/i.test(navigator.userAgent)?(this.addBinding({key:"Backspace"},{collapsed:!0},this.handleBackspace),this.addBinding({key:"Delete"},{collapsed:!0},this.handleDelete)):(this.addBinding({key:"Backspace"},{collapsed:!0,prefix:/^.?$/},this.handleBackspace),this.addBinding({key:"Delete"},{collapsed:!0,suffix:/^.?$/},this.handleDelete)),this.addBinding({key:"Backspace"},{collapsed:!1},this.handleDeleteRange),this.addBinding({key:"Delete"},{collapsed:!1},this.handleDeleteRange),this.addBinding({key:"Backspace",altKey:null,ctrlKey:null,metaKey:null,shiftKey:null},{collapsed:!0,offset:0},this.handleBackspace),this.listen()}addBinding(L){let v=1<arguments.length&&arguments[1]!==void 0?arguments[1]:{},H=2<arguments.length&&arguments[2]!==void 0?arguments[2]:{};const O=function(W){if(typeof W=="string"||typeof W=="number")W={key:W};else{if(typeof W!="object")return null;W=(0,y.A)(W)}return W.shortKey&&(W[U]=W.shortKey,delete W.shortKey),W}(L);O!=null?(typeof v=="function"&&(v={handler:v}),typeof H=="function"&&(H={handler:H}),(Array.isArray(O.key)?O.key:[O.key]).forEach(W=>{W={...O,key:W,...v,...H},this.bindings[W.key]=this.bindings[W.key]||[],this.bindings[W.key].push(W)})):p.warn("Attempted to add invalid keyboard binding",O)}listen(){this.quill.root.addEventListener("keydown",L=>{if(!L.defaultPrevented&&!L.isComposing&&(L.keyCode!==229||L.key!=="Enter"&&L.key!=="Backspace")){const H=(this.bindings[L.key]||[]).concat(this.bindings[L.which]||[]).filter(O=>a.match(L,O));if(H.length!==0){var v=c.Ay.find(L.target,!0);if(!v||v.scroll===this.quill.scroll){const O=this.quill.getSelection();if(O!=null&&this.quill.hasFocus()){const[W,et]=this.quill.getLine(O.index),[at,rt]=this.quill.getLeaf(O.index),[st,b]=O.length===0?[at,rt]:this.quill.getLeaf(O.index+O.length),t=at instanceof _.TextBlot?at.value().slice(0,rt):"",s=st instanceof _.TextBlot?st.value().slice(b):"",w={collapsed:O.length===0,empty:O.length===0&&W.length()<=1,format:this.quill.getFormat(O),line:W,offset:et,prefix:t,suffix:s,event:L};H.some(T=>{if(T.collapsed!=null&&T.collapsed!==w.collapsed||T.empty!=null&&T.empty!==w.empty||T.offset!=null&&T.offset!==w.offset)return!1;if(Array.isArray(T.format)){if(T.format.every(j=>w.format[j]==null))return!1}else if(typeof T.format=="object"&&!Object.keys(T.format).every(j=>T.format[j]===!0?w.format[j]!=null:T.format[j]===!1?w.format[j]==null:(0,u.A)(T.format[j],w.format[j])))return!1;return!(T.prefix!=null&&!T.prefix.test(w.prefix)||T.suffix!=null&&!T.suffix.test(w.suffix)||T.handler.call(this,O,w,T)===!0)})&&L.preventDefault()}}}}})}handleBackspace(L,v){const H=/[\uD800-\uDBFF][\uDC00-\uDFFF]$/.test(v.prefix)?2:1;if(!(L.index===0||this.quill.getLength()<=1)){var O;const[W]=this.quill.getLine(L.index);let et=new(d())().retain(L.index-H).delete(H);if(v.offset===0){const[at]=this.quill.getLine(L.index-1);if(at&&!(at.statics.blotName==="block"&&at.length()<=1)){const rt=W.formats(),st=this.quill.getFormat(L.index-1,1);if(O=R.AttributeMap.diff(rt,st)||{},0<Object.keys(O).length){const b=new(d())().retain(L.index+W.length()-2).retain(1,O);et=et.compose(b)}}}this.quill.updateContents(et,c.Ay.sources.USER),this.quill.focus()}}handleDelete(L,v){const H=/^[\uD800-\uDBFF][\uDC00-\uDFFF]/.test(v.suffix)?2:1;if(!(L.index>=this.quill.getLength()-H)){const[O]=this.quill.getLine(L.index);let W=new(d())().retain(L.index).delete(H);if(v.offset>=O.length()-1){const[et]=this.quill.getLine(L.index+1);if(et){const at=O.formats(),rt=this.quill.getFormat(L.index,1);L=R.AttributeMap.diff(at,rt)||{},0<Object.keys(L).length&&(W=W.retain(et.length()-1).retain(1,L))}}this.quill.updateContents(W,c.Ay.sources.USER),this.quill.focus()}}handleDeleteRange(L){Y({range:L,quill:this.quill}),this.quill.focus()}handleEnter(L,v){var H=Object.keys(v.format).reduce((O,W)=>(this.quill.scroll.query(W,_.Scope.BLOCK)&&!Array.isArray(v.format[W])&&(O[W]=v.format[W]),O),{}),H=new(d())().retain(L.index).delete(L.length).insert(`
`,H);this.quill.updateContents(H,c.Ay.sources.USER),this.quill.setSelection(L.index+1,c.Ay.sources.SILENT),this.quill.focus()}}E={bindings:{bold:I("bold"),italic:I("italic"),underline:I("underline"),indent:{key:"Tab",format:["blockquote","indent","list"],handler(G,L){return!(!L.collapsed||L.offset===0)||(this.quill.format("indent","+1",c.Ay.sources.USER),!1)}},outdent:{key:"Tab",shiftKey:!0,format:["blockquote","indent","list"],handler(G,L){return!(!L.collapsed||L.offset===0)||(this.quill.format("indent","-1",c.Ay.sources.USER),!1)}},"outdent backspace":{key:"Backspace",collapsed:!0,shiftKey:null,metaKey:null,ctrlKey:null,altKey:null,format:["indent","list"],offset:0,handler(G,L){L.format.indent!=null?this.quill.format("indent","-1",c.Ay.sources.USER):L.format.list!=null&&this.quill.format("list",!1,c.Ay.sources.USER)}},"indent code-block":x(!0),"outdent code-block":x(!1),"remove tab":{key:"Tab",shiftKey:!0,collapsed:!0,prefix:/\t$/,handler(G){this.quill.deleteText(G.index-1,1,c.Ay.sources.USER)}},tab:{key:"Tab",handler(G,L){return L.format.table?!0:(this.quill.history.cutoff(),L=new(d())().retain(G.index).delete(G.length).insert("	"),this.quill.updateContents(L,c.Ay.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(G.index+1,c.Ay.sources.SILENT),!1)}},"blockquote empty enter":{key:"Enter",collapsed:!0,format:["blockquote"],empty:!0,handler(){this.quill.format("blockquote",!1,c.Ay.sources.USER)}},"list empty enter":{key:"Enter",collapsed:!0,format:["list"],empty:!0,handler(G,L){const v={list:!1};L.format.indent&&(v.indent=!1),this.quill.formatLine(G.index,G.length,v,c.Ay.sources.USER)}},"checklist enter":{key:"Enter",collapsed:!0,format:{list:"checked"},handler(G){const[L,v]=this.quill.getLine(G.index),H={...L.formats(),list:"checked"},O=new(d())().retain(G.index).insert(`
`,H).retain(L.length()-v-1).retain(1,{list:"unchecked"});this.quill.updateContents(O,c.Ay.sources.USER),this.quill.setSelection(G.index+1,c.Ay.sources.SILENT),this.quill.scrollSelectionIntoView()}},"header enter":{key:"Enter",collapsed:!0,format:["header"],suffix:/^$/,handler(G,L){const[v,H]=this.quill.getLine(G.index),O=new(d())().retain(G.index).insert(`
`,L.format).retain(v.length()-H-1).retain(1,{header:null});this.quill.updateContents(O,c.Ay.sources.USER),this.quill.setSelection(G.index+1,c.Ay.sources.SILENT),this.quill.scrollSelectionIntoView()}},"table backspace":{key:"Backspace",format:["table"],collapsed:!0,offset:0,handler(){}},"table delete":{key:"Delete",format:["table"],collapsed:!0,suffix:/^$/,handler(){}},"table enter":{key:"Enter",shiftKey:null,format:["table"],handler(G){const L=this.quill.getModule("table");if(L){const[O,W,et,at]=L.getTable(G),rt=(H=et,(v=W).prev==null&&v.next==null?H.prev==null&&H.next==null?at===0?-1:1:H.prev==null?-1:1:v.prev==null?-1:v.next==null?1:null);if(rt!=null){let st=O.offset();if(rt<0){const b=new(d())().retain(st).insert(`
`);this.quill.updateContents(b,c.Ay.sources.USER),this.quill.setSelection(G.index+1,G.length,c.Ay.sources.SILENT)}else if(0<rt){st+=O.length();const b=new(d())().retain(st).insert(`
`);this.quill.updateContents(b,c.Ay.sources.USER),this.quill.setSelection(st,c.Ay.sources.USER)}}}var v,H}},"table tab":{key:"Tab",shiftKey:null,format:["table"],handler(G,L){const{event:v,line:H}=L,O=H.offset(this.quill.scroll);v.shiftKey?this.quill.setSelection(O-1,c.Ay.sources.USER):this.quill.setSelection(O+H.length(),c.Ay.sources.USER)}},"list autofill":{key:" ",shiftKey:null,collapsed:!0,format:{"code-block":!1,blockquote:!1,table:!1},prefix:/^\s*?(\d+\.|-|\*|\[ ?\]|\[x\])$/,handler(G,L){if(this.quill.scroll.query("list")==null)return!0;const v=L.prefix.length,[H,O]=this.quill.getLine(G.index);if(v<O)return!0;let W;switch(L.prefix.trim()){case"[]":case"[ ]":W="unchecked";break;case"[x]":W="checked";break;case"-":case"*":W="bullet";break;default:W="ordered"}return this.quill.insertText(G.index," ",c.Ay.sources.USER),this.quill.history.cutoff(),L=new(d())().retain(G.index-O).delete(v+1).retain(H.length()-2-O).retain(1,{list:W}),this.quill.updateContents(L,c.Ay.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(G.index-v,c.Ay.sources.SILENT),!1}},"code exit":{key:"Enter",collapsed:!0,format:["code-block"],prefix:/^$/,suffix:/^\s*$/,handler(G){const[L,v]=this.quill.getLine(G.index);let H=2,O=L;for(;O!=null&&O.length()<=1&&O.formats()["code-block"];)if(O=O.prev,--H<=0){const W=new(d())().retain(G.index+L.length()-v-2).retain(1,{"code-block":null}).delete(1);return this.quill.updateContents(W,c.Ay.sources.USER),this.quill.setSelection(G.index-1,c.Ay.sources.SILENT),!1}return!0}},"embed left":S("ArrowLeft",!1),"embed left shift":S("ArrowLeft",!0),"embed right":S("ArrowRight",!1),"embed right shift":S("ArrowRight",!0),"table down":X(!1),"table up":X(!0)}};function x(G){return{key:"Tab",shiftKey:!G,format:{"code-block":!0},handler(L,v){v=v.event;const H=this.quill.scroll.query("code-block"),O=H.TAB;if(L.length===0&&!v.shiftKey)return this.quill.insertText(L.index,O,c.Ay.sources.USER),void this.quill.setSelection(L.index+O.length,c.Ay.sources.SILENT);const W=L.length===0?this.quill.getLines(L.index,1):this.quill.getLines(L);let{index:et,length:at}=L;W.forEach((rt,st)=>{G?(rt.insertAt(0,O),st===0?et+=O.length:at+=O.length):rt.domNode.textContent.startsWith(O)&&(rt.deleteAt(0,O.length),st===0?et-=O.length:at-=O.length)}),this.quill.update(c.Ay.sources.USER),this.quill.setSelection(et,at,c.Ay.sources.SILENT)}}}function S(G,L){return{key:G,shiftKey:L,altKey:null,[G==="ArrowLeft"?"prefix":"suffix"]:/^$/,handler(v){let H=v.index;G==="ArrowRight"&&(H+=v.length+1);var[O]=this.quill.getLeaf(H);return!(O instanceof _.EmbedBlot&&(G==="ArrowLeft"?L?this.quill.setSelection(v.index-1,v.length+1,c.Ay.sources.USER):this.quill.setSelection(v.index-1,c.Ay.sources.USER):L?this.quill.setSelection(v.index,v.length+1,c.Ay.sources.USER):this.quill.setSelection(v.index+v.length+1,c.Ay.sources.USER),1))}}}function I(G){return{key:G[0],shortKey:!0,handler(L,v){this.quill.format(G,!v.format[G],c.Ay.sources.USER)}}}function X(G){return{key:G?"ArrowUp":"ArrowDown",collapsed:!0,format:["table"],handler(L,v){const H=G?"prev":"next",O=v.line,W=O.parent[H];if(W!=null){if(W.statics.blotName==="table-row"){let et=W.children.head,at=O;for(;at.prev!=null;)at=at.prev,et=et.next;const rt=et.offset(this.quill.scroll)+Math.min(v.offset,et.length()-1);this.quill.setSelection(rt,0,c.Ay.sources.USER)}}else{const et=O.table()[H];et!=null&&(G?this.quill.setSelection(et.offset(this.quill.scroll)+et.length()-1,0,c.Ay.sources.USER):this.quill.setSelection(et.offset(this.quill.scroll),0,c.Ay.sources.USER))}return!1}}}function Y(G){let{quill:L,range:v}=G;const H=L.getLines(v);let O={};if(1<H.length){const W=H[0].formats(),et=H[H.length-1].formats();O=R.AttributeMap.diff(et,W)||{}}L.deleteText(v,c.Ay.sources.USER),0<Object.keys(O).length&&L.formatLine(v.index,1,O,c.Ay.sources.USER),L.setSelection(v.index,c.Ay.sources.SILENT)}a.DEFAULTS=E},8920:function(Z){var C=Object.prototype.hasOwnProperty,r="~";function u(){}function y(c,E,l){this.fn=c,this.context=E,this.once=l||!1}function R(c,E,l,p,U){if(typeof l!="function")throw new TypeError("The listener must be a function");return l=new y(l,p||c,U),p=r?r+E:E,c._events[p]?c._events[p].fn?c._events[p]=[c._events[p],l]:c._events[p].push(l):(c._events[p]=l,c._eventsCount++),c}function d(c,E){--c._eventsCount==0?c._events=new u:delete c._events[E]}function _(){this._events=new u,this._eventsCount=0}Object.create&&(u.prototype=Object.create(null),new u().__proto__||(r=!1)),_.prototype.eventNames=function(){var c,E,l=[];if(this._eventsCount===0)return l;for(E in c=this._events)C.call(c,E)&&l.push(r?E.slice(1):E);return Object.getOwnPropertySymbols?l.concat(Object.getOwnPropertySymbols(c)):l},_.prototype.listeners=function(E){var E=r?r+E:E,l=this._events[E];if(!l)return[];if(l.fn)return[l.fn];for(var p=0,U=l.length,a=new Array(U);p<U;p++)a[p]=l[p].fn;return a},_.prototype.listenerCount=function(c){return c=r?r+c:c,c=this._events[c],c?c.fn?1:c.length:0},_.prototype.emit=function(c,E,l,p,U,a){var x=r?r+c:c;if(!this._events[x])return!1;var S,I=this._events[x],X=arguments.length;if(I.fn){switch(I.once&&this.removeListener(c,I.fn,void 0,!0),X){case 1:return I.fn.call(I.context),!0;case 2:return I.fn.call(I.context,E),!0;case 3:return I.fn.call(I.context,E,l),!0;case 4:return I.fn.call(I.context,E,l,p),!0;case 5:return I.fn.call(I.context,E,l,p,U),!0;case 6:return I.fn.call(I.context,E,l,p,U,a),!0}for(L=1,S=new Array(X-1);L<X;L++)S[L-1]=arguments[L];I.fn.apply(I.context,S)}else for(var Y,G=I.length,L=0;L<G;L++)switch(I[L].once&&this.removeListener(c,I[L].fn,void 0,!0),X){case 1:I[L].fn.call(I[L].context);break;case 2:I[L].fn.call(I[L].context,E);break;case 3:I[L].fn.call(I[L].context,E,l);break;case 4:I[L].fn.call(I[L].context,E,l,p);break;default:if(!S)for(Y=1,S=new Array(X-1);Y<X;Y++)S[Y-1]=arguments[Y];I[L].fn.apply(I[L].context,S)}return!0},_.prototype.on=function(c,E,l){return R(this,c,E,l,!1)},_.prototype.once=function(c,E,l){return R(this,c,E,l,!0)},_.prototype.removeListener=function(c,E,l,p){if(c=r?r+c:c,!this._events[c])return this;if(!E)return d(this,c),this;var U=this._events[c];if(U.fn)U.fn!==E||p&&!U.once||l&&U.context!==l||d(this,c);else{for(var a=0,x=[],S=U.length;a<S;a++)(U[a].fn!==E||p&&!U[a].once||l&&U[a].context!==l)&&x.push(U[a]);x.length?this._events[c]=x.length===1?x[0]:x:d(this,c)}return this},_.prototype.removeAllListeners=function(c){return c?(c=r?r+c:c,this._events[c]&&d(this,c)):(this._events=new u,this._eventsCount=0),this},_.prototype.off=_.prototype.removeListener,_.prototype.addListener=_.prototype.on,_.prefixed=r,Z.exports=_.EventEmitter=_},5090:function(Z){var C=-1,r=1,u=0;function y(b,H,O,W,et){if(b===H)return b?[[u,b]]:[];if(O!=null){var rt=function(bt,pt){var ht=typeof O=="number"?{index:O,length:0}:O.oldRange,Lt=typeof O=="number"?null:O.newRange,xt=bt.length,Nt=pt.length;if(ht.length===0&&(Lt===null||Lt.length===0)){var St=ht.index,Ct=bt.slice(0,St),Ot=bt.slice(St),Tt=Lt?Lt.index:null,Ut=St+Nt-xt;if((Tt===null||Tt===Ut)&&!(Ut<0||Nt<Ut)){var It=pt.slice(0,Ut);if((Bt=pt.slice(Ut))===Ot){var _t=Math.min(St,Ut);if((te=Ct.slice(0,_t))===(ie=It.slice(0,_t)))return G(te,Ct.slice(_t),It.slice(_t),Ot)}}if(Tt===null||Tt===St){var Ut=St,Bt=(It=pt.slice(0,Ut),pt.slice(Ut));if(It===Ct){var Mt=Math.min(xt-Ut,Nt-Ut);if((Gt=Ot.slice(Ot.length-Mt))===(ee=Bt.slice(Bt.length-Mt)))return G(Ct,Ot.slice(0,Ot.length-Mt),Bt.slice(0,Bt.length-Mt),Gt)}}}if(0<ht.length&&Lt&&Lt.length===0){var te=bt.slice(0,ht.index),Gt=bt.slice(ht.index+ht.length);if(!(Nt<(_t=te.length)+(Mt=Gt.length))){var ie=pt.slice(0,_t),ee=pt.slice(Nt-Mt);if(te===ie&&Gt===ee)return G(te,bt.slice(_t,xt-Mt),pt.slice(_t,Nt-Mt),Gt)}}return null}(b,H);if(rt)return rt}var rt=d(b,H),at=b.substring(0,rt),rt=c(b=b.substring(rt),H=H.substring(rt)),st=b.substring(b.length-rt),b=function(ft,bt){if(!ft)return[[r,bt]];if(!bt)return[[C,ft]];var pt=ft.length>bt.length?ft:bt,ht=ft.length>bt.length?bt:ft,Nt=pt.indexOf(ht);if(Nt!==-1)return pt=[[r,pt.substring(0,Nt)],[u,ht],[r,pt.substring(Nt+ht.length)]],ft.length>bt.length&&(pt[0][0]=pt[2][0]=C),pt;if(ht.length===1)return[[C,ft],[r,bt]];var Lt,xt,Nt=function(it,mt){var i=it.length>mt.length?it:mt,kt=it.length>mt.length?mt:it;if(i.length<4||2*kt.length<i.length)return null;function N(Rt,Dt,jt){for(var Wt,Kt,Ht,Xt,Pt=Rt.substring(jt,jt+Math.floor(Rt.length/4)),vt=-1,wt="";(vt=Dt.indexOf(Pt,vt+1))!==-1;){var se=d(Rt.substring(jt),Dt.substring(vt)),Zt=c(Rt.substring(0,jt),Dt.substring(0,vt));wt.length<Zt+se&&(wt=Dt.substring(vt-Zt,vt)+Dt.substring(vt,vt+se),Wt=Rt.substring(0,jt-Zt),Kt=Rt.substring(jt+se),Ht=Dt.substring(0,vt-Zt),Xt=Dt.substring(vt+se))}return 2*wt.length>=Rt.length?[Wt,Kt,Ht,Xt,wt]:null}var M,J,At,yt,Et=N(i,kt,Math.ceil(i.length/4)),kt=N(i,kt,Math.ceil(i.length/2));return Et||kt?(i=!kt||Et&&Et[4].length>kt[4].length?Et:kt,it.length>mt.length?(M=i[0],J=i[1],At=i[2],yt=i[3]):(At=i[0],yt=i[1],M=i[2],J=i[3]),[M,J,At,yt,i[4]]):null}(ft,bt);if(Nt)return pt=Nt[0],ht=Nt[1],xt=Nt[2],Lt=Nt[3],Nt=Nt[4],pt=y(pt,xt),xt=y(ht,Lt),pt.concat([[u,Nt]],xt);for(var St=ft,Ct=bt,Ot=St.length,Tt=Ct.length,Ut=Math.ceil((Ot+Tt)/2),It=Ut,_t=2*Ut,Bt=new Array(_t),Mt=new Array(_t),te=0;te<_t;te++)Bt[te]=-1,Mt[te]=-1;Bt[It+1]=0;for(var Gt=Ot-Tt,ie=Gt%2!=(Mt[It+1]=0),ee=0,ge=0,Jt=0,zt=0,re=0;re<Ut;re++){for(var Vt=-re+ee;Vt<=re-ge;Vt+=2){for(var $t=It+Vt,Ft=(h=Vt===-re||Vt!==re&&Bt[$t-1]<Bt[$t+1]?Bt[$t+1]:Bt[$t-1]+1)-Vt;h<Ot&&Ft<Tt&&St.charAt(h)===Ct.charAt(Ft);)h++,Ft++;if(Ot<(Bt[$t]=h))ge+=2;else if(Tt<Ft)ee+=2;else if(ie&&0<=(P=It+Gt-Vt)&&P<_t&&Mt[P]!==-1&&h>=(n=Ot-Mt[P]))return R(St,Ct,h,Ft)}for(var V=-re+Jt;V<=re-zt;V+=2){for(var n,h,P=It+V,K=(n=V===-re||V!==re&&Mt[P-1]<Mt[P+1]?Mt[P+1]:Mt[P-1]+1)-V;n<Ot&&K<Tt&&St.charAt(Ot-n-1)===Ct.charAt(Tt-K-1);)n++,K++;if(Ot<(Mt[P]=n))zt+=2;else if(Tt<K)Jt+=2;else if(!ie&&0<=($t=It+Gt-V)&&$t<_t&&Bt[$t]!==-1&&(Ft=It+(h=Bt[$t])-$t,h>=(n=Ot-n)))return R(St,Ct,h,Ft)}}return[[C,St],[r,Ct]]}(b=b.substring(0,b.length-rt),H=H.substring(0,H.length-rt));if(at&&b.unshift([u,at]),st&&b.push([u,st]),x(b,et),W){let ft=function(Ot,Tt){if(!Ot||!Tt)return 6;var St=Ot.charAt(Ot.length-1),Ct=Tt.charAt(0),ht=St.match(E),Lt=Ct.match(E),xt=ht&&St.match(l),Nt=Lt&&Ct.match(l),St=xt&&St.match(p),Ct=Nt&&Ct.match(p),Ot=St&&Ot.match(U),Tt=Ct&&Tt.match(a);return Ot||Tt?5:St||Ct?4:ht&&!xt&&Nt?3:xt||Nt?2:ht||Lt?1:0};for(var t=b,s,w,T,j,B=!1,f=[],g=0,k=null,A=0,o=0,e=0,m=0,D=0;A<t.length;)t[A][0]==u?(o=m,e=D,D=m=0,k=t[f[g++]=A][1]):(t[A][0]==r?m+=t[A][1].length:D+=t[A][1].length,k&&k.length<=Math.max(o,e)&&k.length<=Math.max(m,D)&&(t.splice(f[g-1],0,[C,k]),t[f[g-1]+1][0]=r,g--,A=0<--g?f[g-1]:-1,D=m=e=o=0,B=!(k=null))),A++;B&&x(t);for(var q=t,z=1;z<q.length-1;){if(q[z-1][0]==u&&q[z+1][0]==u){var F,$=q[z-1][1],nt=q[z][1],ut=q[z+1][1],Q=c($,nt);Q&&(F=nt.substring(nt.length-Q),$=$.substring(0,$.length-Q),nt=F+nt.substring(0,nt.length-Q),ut=F+ut);for(var ct=$,tt=nt,ot=ut,lt=ft($,nt)+ft(nt,ut);nt.charAt(0)===ut.charAt(0);){$+=nt.charAt(0),nt=nt.substring(1)+ut.charAt(0),ut=ut.substring(1);var gt=ft($,nt)+ft(nt,ut);lt<=gt&&(lt=gt,ct=$,tt=nt,ot=ut)}q[z-1][1]!=ct&&(ct?q[z-1][1]=ct:(q.splice(z-1,1),z--),q[z][1]=tt,ot?q[z+1][1]=ot:(q.splice(z+1,1),z--))}z++}for(A=1;A<t.length;)t[A-1][0]==C&&t[A][0]==r&&(T=_(s=t[A-1][1],w=t[A][1]),(j=_(w,s))<=T?(T>=s.length/2||T>=w.length/2)&&(t.splice(A,0,[u,w.substring(0,T)]),t[A-1][1]=s.substring(0,s.length-T),t[A+1][1]=w.substring(T),A++):(j>=s.length/2||j>=w.length/2)&&(t.splice(A,0,[u,s.substring(0,j)]),t[A-1][0]=r,t[A-1][1]=w.substring(0,w.length-j),t[A+1][0]=C,t[A+1][1]=s.substring(j),A++),A++),A++}return b}function R(rt,b,st,t){var et=rt.substring(0,st),at=b.substring(0,t),rt=rt.substring(st),st=b.substring(t),b=y(et,at),t=y(rt,st);return b.concat(t)}function d(v,H){if(!v||!H||v.charAt(0)!==H.charAt(0))return 0;for(var O=0,W=Math.min(v.length,H.length),et=W,at=0;O<et;)v.substring(at,et)==H.substring(at,et)?at=O=et:W=et,et=Math.floor((W-O)/2+O);return S(v.charCodeAt(et-1))&&et--,et}function _(v,H){var O=v.length,W=H.length;if(O==0||W==0)return 0;W<O?v=v.substring(O-W):O<W&&(H=H.substring(0,O));var et=Math.min(O,W);if(v==H)return et;for(var at=0,rt=1;;){var st=v.substring(et-rt),st=H.indexOf(st);if(st==-1)return at;rt+=st,st!=0&&v.substring(et-rt)!=H.substring(0,rt)||(at=rt,rt++)}}function c(v,H){if(!v||!H||v.slice(-1)!==H.slice(-1))return 0;for(var O=0,W=Math.min(v.length,H.length),et=W,at=0;O<et;)v.substring(v.length-et,v.length-at)==H.substring(H.length-et,H.length-at)?at=O=et:W=et,et=Math.floor((W-O)/2+O);return I(v.charCodeAt(v.length-et))&&et--,et}var E=/[^a-zA-Z0-9]/,l=/\s/,p=/[\r\n]/,U=/\n\r?\n$/,a=/^\r?\n\r?\n/;function x(v,H){v.push([u,""]);for(var O=0,W=0,et=0,at="",rt="";O<v.length;)if(O<v.length-1&&!v[O][1])v.splice(O,1);else switch(v[O][0]){case r:et++,rt+=v[O][1],O++;break;case C:W++,at+=v[O][1],O++;break;case u:var st,b,t=O-et-W-1;if(H&&(0<=t&&Y(v[t][1])&&(st=v[t][1].slice(-1),v[t][1]=v[t][1].slice(0,-1),at=st+at,rt=st+rt,v[t][1]||(v.splice(t,1),O--,v[b=t-1]&&v[b][0]===r&&(et++,rt=v[b][1]+rt,b--),v[b]&&v[b][0]===C&&(W++,at=v[b][1]+at,b--),t=b)),X(v[O][1])&&(st=v[O][1].charAt(0),v[O][1]=v[O][1].slice(1),at+=st,rt+=st)),O<v.length-1&&!v[O][1]){v.splice(O,1);break}(0<at.length||0<rt.length)&&(0<at.length&&0<rt.length&&((b=d(rt,at))!==0&&(0<=t?v[t][1]+=rt.substring(0,b):(v.splice(0,0,[u,rt.substring(0,b)]),O++),rt=rt.substring(b),at=at.substring(b)),(b=c(rt,at))!==0&&(v[O][1]=rt.substring(rt.length-b)+v[O][1],rt=rt.substring(0,rt.length-b),at=at.substring(0,at.length-b))),t=et+W,at.length===0&&rt.length===0?(v.splice(O-t,t),O-=t):O=at.length===0?(v.splice(O-t,t,[r,rt]),O-t+1):rt.length===0?(v.splice(O-t,t,[C,at]),O-t+1):(v.splice(O-t,t,[C,at],[r,rt]),O-t+2)),O!==0&&v[O-1][0]===u?(v[O-1][1]+=v[O][1],v.splice(O,1)):O++,W=et=0,rt=at=""}v[v.length-1][1]===""&&v.pop();for(var s=!1,O=1;O<v.length-1;)v[O-1][0]===u&&v[O+1][0]===u&&(v[O][1].substring(v[O][1].length-v[O-1][1].length)===v[O-1][1]?(v[O][1]=v[O-1][1]+v[O][1].substring(0,v[O][1].length-v[O-1][1].length),v[O+1][1]=v[O-1][1]+v[O+1][1],v.splice(O-1,1),s=!0):v[O][1].substring(0,v[O+1][1].length)==v[O+1][1]&&(v[O-1][1]+=v[O+1][1],v[O][1]=v[O][1].substring(v[O+1][1].length)+v[O+1][1],v.splice(O+1,1),s=!0)),O++;s&&x(v,H)}function S(v){return 55296<=v&&v<=56319}function I(v){return 56320<=v&&v<=57343}function X(v){return I(v.charCodeAt(0))}function Y(v){return S(v.charCodeAt(v.length-1))}function G(v,H,O,W){if(Y(v)||X(W))return null;for(var et=[[u,v],[C,H],[r,O],[u,W]],at=[],rt=0;rt<et.length;rt++)0<et[rt][1].length&&at.push(et[rt]);return at}function L(v,H,O,W){return y(v,H,O,W,!0)}L.INSERT=r,L.DELETE=C,L.EQUAL=u,Z.exports=L},9629:function(Z,tt,ht){Z=ht.nmd(Z);var u="__lodash_hash_undefined__",y=9007199254740991,R="[object Arguments]",d="[object Boolean]",_="[object Date]",c="[object Function]",E="[object GeneratorFunction]",l="[object Map]",p="[object Number]",U="[object Object]",a="[object Promise]",x="[object RegExp]",S="[object Set]",I="[object String]",X="[object Symbol]",Y="[object WeakMap]",G="[object ArrayBuffer]",L="[object DataView]",v="[object Float32Array]",H="[object Float64Array]",O="[object Int8Array]",W="[object Int16Array]",et="[object Int32Array]",at="[object Uint8Array]",rt="[object Uint8ClampedArray]",st="[object Uint16Array]",b="[object Uint32Array]",t=/\w*$/,s=/^\[object .+?Constructor\]$/,w=/^(?:0|[1-9]\d*)$/,T={},ht=(T[R]=T["[object Array]"]=T[G]=T[L]=T[d]=T[_]=T[v]=T[H]=T[O]=T[W]=T[et]=T[l]=T[p]=T[U]=T[x]=T[S]=T[I]=T[X]=T[at]=T[rt]=T[st]=T[b]=!0,T["[object Error]"]=T[c]=T[Y]=!1,typeof ht.g=="object"&&ht.g&&ht.g.Object===Object&&ht.g),ot=typeof self=="object"&&self&&self.Object===Object&&self,ht=ht||ot||Function("return this")(),ot=tt&&!tt.nodeType&&tt,tt=ot&&Z&&!Z.nodeType&&Z,tt=tt&&tt.exports===ot;function j(i,N){return i.set(N[0],N[1]),i}function B(i,N){return i.add(N),i}function f(i,N,M,J){var At=-1,yt=i?i.length:0;for(J&&yt&&(M=i[++At]);++At<yt;)M=N(M,i[At],At,i);return M}function g(i){var N=!1;if(i!=null&&typeof i.toString!="function")try{N=!!(i+"")}catch{}return N}function k(i){var N=-1,M=Array(i.size);return i.forEach(function(J,At){M[++N]=[At,J]}),M}function A(i,N){return function(M){return i(N(M))}}function o(i){var N=-1,M=Array(i.size);return i.forEach(function(J){M[++N]=J}),M}var ot=Array.prototype,Tt=Function.prototype,e=Object.prototype,gt=ht["__core-js_shared__"],m=(gt=/[^.]+$/.exec(gt&&gt.keys&&gt.keys.IE_PROTO||""))?"Symbol(src)_1."+gt:"",D=Tt.toString,q=e.hasOwnProperty,z=e.toString,F=RegExp("^"+D.call(q).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),gt=tt?ht.Buffer:void 0,Tt=ht.Symbol,$=ht.Uint8Array,nt=A(Object.getPrototypeOf,Object),ut=Object.create,Q=e.propertyIsEnumerable,ct=ot.splice,tt=Object.getOwnPropertySymbols,ot=gt?gt.isBuffer:void 0,lt=A(Object.keys,Object),gt=zt(ht,"DataView"),ft=zt(ht,"Map"),bt=zt(ht,"Promise"),pt=zt(ht,"Set"),ht=zt(ht,"WeakMap"),Lt=zt(Object,"create"),xt=Ft(gt),Nt=Ft(ft),St=Ft(bt),Ct=Ft(pt),Ot=Ft(ht),Tt=Tt?Tt.prototype:void 0,Ut=Tt?Tt.valueOf:void 0;function It(i){var N=-1,M=i?i.length:0;for(this.clear();++N<M;){var J=i[N];this.set(J[0],J[1])}}function _t(i){var N=-1,M=i?i.length:0;for(this.clear();++N<M;){var J=i[N];this.set(J[0],J[1])}}function Bt(i){var N=-1,M=i?i.length:0;for(this.clear();++N<M;){var J=i[N];this.set(J[0],J[1])}}function Mt(i){this.__data__=new _t(i)}function te(i,N,M){var J=i[N];q.call(i,N)&&V(J,M)&&(M!==void 0||N in i)||(i[N]=M)}function Gt(i,N){for(var M=i.length;M--;)if(V(i[M][0],N))return M;return-1}function ie(i,N,M,J,Dt,yt,Et){var kt;if((kt=J?yt?J(i,Dt,yt,Et):J(i):kt)!==void 0)return kt;if(!it(i))return i;var Rt,Dt=n(i);if(Dt){if(Pt=(vt=i).length,wt=vt.constructor(Pt),Pt&&typeof vt[0]=="string"&&q.call(vt,"index")&&(wt.index=vt.index,wt.input=vt.input),kt=wt,!N){var jt=i,Wt=kt,Kt=-1,Ht=jt.length;for(Wt=Wt||Array(Ht);++Kt<Ht;)Wt[Kt]=jt[Kt];return Wt}}else{var Xt=Vt(i),Pt=Xt==c||Xt==E;if(P(i)){var vt=i;if(N)return vt.slice();var wt=new vt.constructor(vt.length);return vt.copy(wt),wt}if(Xt==U||Xt==R||Pt&&!yt){if(g(i))return yt?i:{};if(kt=typeof(Zt=Pt?{}:i).constructor=="function"&&!$t(Zt)&&it(Zt=nt(Zt))?ut(Zt):{},!N)return Zt=i,Rt=(Rt=kt)&&ge(i,mt(i),Rt),ge(Zt,re(Zt),Rt)}else{if(!T[Xt])return yt?i:{};kt=function(Yt,pe,ue){var ce,le,ae,he,be=Yt.constructor;switch(Xt){case G:return ee(Yt);case d:case _:return new be(+Yt);case L:return ae=Yt,he=ue?ee(ae.buffer):ae.buffer,new ae.constructor(he,ae.byteOffset,ae.byteLength);case v:case H:case O:case W:case et:case at:case rt:case st:case b:return he=Yt,ae=ue?ee(he.buffer):he.buffer,new he.constructor(ae,he.byteOffset,he.length);case l:return le=Yt,f(ue?pe(k(le),!0):k(le),j,new le.constructor);case p:case I:return new be(Yt);case x:return(ce=new(le=Yt).constructor(le.source,t.exec(le))).lastIndex=le.lastIndex,ce;case S:return ce=Yt,f(ue?pe(o(ce),!0):o(ce),B,new ce.constructor);case X:return Ut?Object(Ut.call(Yt)):{}}}(i,ie,N)}}var se,Zt=(Et=Et||new Mt).get(i);if(Zt)return Zt;Et.set(i,kt);for(var me,Qt,de=(se=Dt?se:M?function(){var Yt=i,pe=re,ue=mt(Yt);if(n(Yt))return ue;for(var ce=ue,le=pe(Yt),ae=-1,he=le.length,be=ce.length;++ae<he;)ce[be+ae]=le[ae];return ce}():mt(i))||i,fe=-1,Ae=de?de.length:0;++fe<Ae&&(me=de[fe],Qt=fe,se&&(me=i[Qt=me]),void te(kt,Qt,ie(me,N,M,J,Qt,i,Et))!==!1););return kt}function ee(i){var N=new i.constructor(i.byteLength);return new $(N).set(new $(i)),N}function ge(i,N,M,J){M=M||{};for(var At=-1,yt=N.length;++At<yt;){var Et=N[At],kt=J?J(M[Et],i[Et],Et,M,i):void 0;te(M,Et,kt===void 0?i[Et]:kt)}return M}function Jt(J,N){var M,J=J.__data__;return((M=typeof N)=="string"||M=="number"||M=="symbol"||M=="boolean"?N!=="__proto__":N===null)?J[typeof N=="string"?"string":"hash"]:J.map}function zt(i,N){return i=i==null?void 0:i[N],!it(N=i)||m&&m in N||!(K(N)||g(N)?F:s).test(Ft(N))?void 0:i}It.prototype.clear=function(){this.__data__=Lt?Lt(null):{}},It.prototype.delete=function(i){return this.has(i)&&delete this.__data__[i]},It.prototype.get=function(i){var N,M=this.__data__;return Lt?(N=M[i])===u?void 0:N:q.call(M,i)?M[i]:void 0},It.prototype.has=function(i){var N=this.__data__;return Lt?N[i]!==void 0:q.call(N,i)},It.prototype.set=function(i,N){return this.__data__[i]=Lt&&N===void 0?u:N,this},_t.prototype.clear=function(){this.__data__=[]},_t.prototype.delete=function(M){var N=this.__data__,M=Gt(N,M);return!(M<0||(M==N.length-1?N.pop():ct.call(N,M,1),0))},_t.prototype.get=function(M){var N=this.__data__,M=Gt(N,M);return M<0?void 0:N[M][1]},_t.prototype.has=function(i){return-1<Gt(this.__data__,i)},_t.prototype.set=function(i,N){var M=this.__data__,J=Gt(M,i);return J<0?M.push([i,N]):M[J][1]=N,this},Bt.prototype.clear=function(){this.__data__={hash:new It,map:new(ft||_t),string:new It}},Bt.prototype.delete=function(i){return Jt(this,i).delete(i)},Bt.prototype.get=function(i){return Jt(this,i).get(i)},Bt.prototype.has=function(i){return Jt(this,i).has(i)},Bt.prototype.set=function(i,N){return Jt(this,i).set(i,N),this},Mt.prototype.clear=function(){this.__data__=new _t},Mt.prototype.delete=function(i){return this.__data__.delete(i)},Mt.prototype.get=function(i){return this.__data__.get(i)},Mt.prototype.has=function(i){return this.__data__.has(i)},Mt.prototype.set=function(i,N){var M=this.__data__;if(M instanceof _t){var J=M.__data__;if(!ft||J.length<199)return J.push([i,N]),this;M=this.__data__=new Bt(J)}return M.set(i,N),this};var re=tt?A(tt,Object):function(){return[]},Vt=function(i){return z.call(i)};function $t(i){var N=i&&i.constructor;return i===(typeof N=="function"&&N.prototype||e)}function Ft(i){if(i!=null){try{return D.call(i)}catch{}try{return i+""}catch{}}return""}function V(i,N){return i===N||i!=i&&N!=N}(gt&&Vt(new gt(new ArrayBuffer(1)))!=L||ft&&Vt(new ft)!=l||bt&&Vt(bt.resolve())!=a||pt&&Vt(new pt)!=S||ht&&Vt(new ht)!=Y)&&(Vt=function(M){var N=z.call(M),M=N==U?M.constructor:void 0,M=M?Ft(M):void 0;if(M)switch(M){case xt:return L;case Nt:return l;case St:return a;case Ct:return S;case Ot:return Y}return N});var n=Array.isArray;function h(i){return i!=null&&typeof(N=i.length)=="number"&&-1<N&&N%1==0&&N<=y&&!K(i);var N}var P=ot||function(){return!1};function K(i){return i=it(i)?z.call(i):"",i==c||i==E}function it(i){var N=typeof i;return i&&(N=="object"||N=="function")}function mt(i){return(h(i)?function(N){var M,J,At,yt,Et,kt=n(N)||(J=M=N)&&typeof J=="object"&&h(J)&&q.call(M,"callee")&&(!Q.call(M,"callee")||z.call(M)==R)?function(jt,Wt){for(var Kt=-1,Ht=Array(jt);++Kt<jt;)Ht[Kt]=Wt(Kt);return Ht}(N.length,String):[],Rt=kt.length,Dt=!!Rt;for(At in N)!q.call(N,At)||Dt&&(At=="length"||(yt=At,Et=Rt,(Et=Et??y)&&(typeof yt=="number"||w.test(yt))&&-1<yt&&yt%1==0&&yt<Et))||kt.push(At);return kt}:function(N){if(!$t(N))return lt(N);var M,J=[];for(M in Object(N))q.call(N,M)&&M!="constructor"&&J.push(M);return J})(i)}Z.exports=function(i){return ie(i,!0,!0)}},4162:function(Z,Q,w){Z=w.nmd(Z);var u="__lodash_hash_undefined__",y=1,R=2,d=9007199254740991,_="[object Arguments]",c="[object Array]",E="[object AsyncFunction]",l="[object Boolean]",p="[object Date]",U="[object Error]",a="[object Function]",x="[object GeneratorFunction]",S="[object Map]",I="[object Number]",X="[object Null]",Y="[object Object]",G="[object Promise]",L="[object Proxy]",v="[object RegExp]",H="[object Set]",O="[object String]",W="[object Undefined]",et="[object WeakMap]",at="[object ArrayBuffer]",rt="[object DataView]",st=/^\[object .+?Constructor\]$/,b=/^(?:0|[1-9]\d*)$/,t={},w=(t["[object Float32Array]"]=t["[object Float64Array]"]=t["[object Int8Array]"]=t["[object Int16Array]"]=t["[object Int32Array]"]=t["[object Uint8Array]"]=t["[object Uint8ClampedArray]"]=t["[object Uint16Array]"]=t["[object Uint32Array]"]=!0,t[_]=t[c]=t[at]=t[l]=t[rt]=t[p]=t[U]=t[a]=t[S]=t[I]=t[Y]=t[v]=t[H]=t[O]=t[et]=!1,typeof w.g=="object"&&w.g&&w.g.Object===Object&&w.g),lt=typeof self=="object"&&self&&self.Object===Object&&self,lt=w||lt||Function("return this")(),Q=Q&&!Q.nodeType&&Q,nt=Q&&Z&&!Z.nodeType&&Z,nt=nt&&nt.exports===Q,s=nt&&w.process,Q=function(){try{return s&&s.binding&&s.binding("util")}catch{}}(),w=Q&&Q.isTypedArray;function T(i){var N=-1,M=Array(i.size);return i.forEach(function(J,At){M[++N]=[At,J]}),M}function j(i){var N=-1,M=Array(i.size);return i.forEach(function(J){M[++N]=J}),M}var B,f,Q=Array.prototype,xt=Function.prototype,g=Object.prototype,tt=lt["__core-js_shared__"],k=xt.toString,A=g.hasOwnProperty,o=(xt=/[^.]+$/.exec(tt&&tt.keys&&tt.keys.IE_PROTO||""))?"Symbol(src)_1."+xt:"",e=g.toString,m=RegExp("^"+k.call(A).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),tt=nt?lt.Buffer:void 0,xt=lt.Symbol,D=lt.Uint8Array,q=g.propertyIsEnumerable,z=Q.splice,F=xt?xt.toStringTag:void 0,$=Object.getOwnPropertySymbols,nt=tt?tt.isBuffer:void 0,ut=(B=Object.keys,f=Object,function(i){return B(f(i))}),Q=ee(lt,"DataView"),ct=ee(lt,"Map"),tt=ee(lt,"Promise"),ot=ee(lt,"Set"),lt=ee(lt,"WeakMap"),gt=ee(Object,"create"),ft=zt(Q),bt=zt(ct),pt=zt(tt),ht=zt(ot),Lt=zt(lt),xt=xt?xt.prototype:void 0,Nt=xt?xt.valueOf:void 0;function St(i){var N=-1,M=i==null?0:i.length;for(this.clear();++N<M;){var J=i[N];this.set(J[0],J[1])}}function Ct(i){var N=-1,M=i==null?0:i.length;for(this.clear();++N<M;){var J=i[N];this.set(J[0],J[1])}}function Ot(i){var N=-1,M=i==null?0:i.length;for(this.clear();++N<M;){var J=i[N];this.set(J[0],J[1])}}function Tt(i){var N=-1,M=i==null?0:i.length;for(this.__data__=new Ot;++N<M;)this.add(i[N])}function Ut(i){i=this.__data__=new Ct(i),this.size=i.size}function It(i,N){for(var M=i.length;M--;)if(re(i[M][0],N))return M;return-1}function _t(i){{if(i==null)return i===void 0?W:X;if(F&&F in Object(i)){var N=i,M=A.call(N,F),J=N[F];try{var At=!(N[F]=void 0)}catch{}var yt=e.call(N);return At&&(M?N[F]=J:delete N[F]),yt}return e.call(i)}}function Bt(i){return P(i)&&_t(i)==_}function Mt(i,N,M,J,At){return i===N||(i==null||N==null||!P(i)&&!P(N)?i!=i&&N!=N:function(yt,Et,kt,Rt,Dt,jt){var Wt=$t(yt),Pt=$t(Et),Kt=Wt?c:Jt(yt),Pt=Pt?c:Jt(Et),Ht=(Kt=Kt==_?Y:Kt)==Y,Xt=(Pt=Pt==_?Y:Pt)==Y,Pt=Kt==Pt;if(Pt&&Ft(yt)){if(!Ft(Et))return!1;Ht=!(Wt=!0)}return Pt&&!Ht?(jt=jt||new Ut,(Wt||it(yt)?te:function(vt,wt,se,Zt,me,Qt){switch(Kt){case rt:if(vt.byteLength!=wt.byteLength||vt.byteOffset!=wt.byteOffset)return!1;vt=vt.buffer,wt=wt.buffer;case at:return!(vt.byteLength!=wt.byteLength||!me(new D(vt),new D(wt)));case l:case p:case I:return re(+vt,+wt);case U:return vt.name==wt.name&&vt.message==wt.message;case v:case O:return vt==wt+"";case S:var de=T;case H:if(de=de||j,vt.size!=wt.size&&!(se&y))return!1;var fe=Qt.get(vt);return fe?fe==wt:(se|=R,Qt.set(vt,wt),fe=te(de(vt),de(wt),se,Zt,me,Qt),Qt.delete(vt),fe);case"[object Symbol]":if(Nt)return Nt.call(vt)==Nt.call(wt)}return!1})(yt,Et,kt,Rt,Dt,jt)):!(kt&y)&&(Wt=Ht&&A.call(yt,"__wrapped__"),Ht=Xt&&A.call(Et,"__wrapped__"),Wt||Ht)?Dt(Wt?yt.value():yt,Ht?Et.value():Et,kt,Rt,jt=jt||new Ut):!!Pt&&function(vt,wt,se,Zt,me,Qt){var de=se&y,fe=Gt(vt),Ae=fe.length;if(Ae!=Gt(wt).length&&!de)return!1;for(var Yt=Ae;Yt--;){var pe=fe[Yt];if(!(de?pe in wt:A.call(wt,pe)))return!1}var ue=Qt.get(vt);if(ue&&Qt.get(wt))return ue==wt;var ce=!0;Qt.set(vt,wt),Qt.set(wt,vt);for(var le,ae=de;++Yt<Ae;){var he,be=vt[pe=fe[Yt]],Ne=wt[pe];if(!((he=Zt?de?Zt(Ne,be,pe,wt,vt,Qt):Zt(be,Ne,pe,vt,wt,Qt):he)===void 0?be===Ne||me(be,Ne,se,Zt,Qt):he)){ce=!1;break}ae=ae||pe=="constructor"}return ce&&!ae&&(ue=vt.constructor)!=(le=wt.constructor)&&"constructor"in vt&&"constructor"in wt&&!(typeof ue=="function"&&ue instanceof ue&&typeof le=="function"&&le instanceof le)&&(ce=!1),Qt.delete(vt),Qt.delete(wt),ce}(yt,Et,kt,Rt,Dt,jt=jt||new Ut)}(i,N,M,J,Mt,At))}function te(i,N,M,J,At,yt){var Et=M&y,kt=i.length,Rt=N.length;if(kt!=Rt&&!(Et&&kt<Rt))return!1;if(Rt=yt.get(i),Rt&&yt.get(N))return Rt==N;var Dt=-1,jt=!0,Wt=M&R?new Tt:void 0;for(yt.set(i,N),yt.set(N,i);++Dt<kt;){var Kt,Ht=i[Dt],Xt=N[Dt];if((Kt=J?Et?J(Xt,Ht,Dt,N,i,yt):J(Ht,Xt,Dt,i,N,yt):Kt)!==void 0){if(Kt)continue;jt=!1;break}if(Wt){if(!function(Pt,vt){for(var wt=-1,se=Pt==null?0:Pt.length;++wt<se;)if(vt(Pt[wt],wt,Pt))return 1}(N,function(Pt,vt){return!Wt.has(vt)&&(Ht===Pt||At(Ht,Pt,M,J,yt))&&Wt.push(vt)})){jt=!1;break}}else if(Ht!==Xt&&!At(Ht,Xt,M,J,yt)){jt=!1;break}}return yt.delete(i),yt.delete(N),jt}function Gt(i){var N=ge,M=mt(i);if($t(i))return M;for(var J=M,At=N(i),yt=-1,Et=At.length,kt=J.length;++yt<Et;)J[kt+yt]=At[yt];return J}function ie(J,N){var M,J=J.__data__;return((M=typeof N)=="string"||M=="number"||M=="symbol"||M=="boolean"?N!=="__proto__":N===null)?J[typeof N=="string"?"string":"hash"]:J.map}function ee(i,N){return i=i==null?void 0:i[N],!h(N=i)||o&&o in N||!(V(N)?m:st).test(zt(N))?void 0:i}St.prototype.clear=function(){this.__data__=gt?gt(null):{},this.size=0},St.prototype.delete=function(i){return i=this.has(i)&&delete this.__data__[i],this.size-=i?1:0,i},St.prototype.get=function(i){var N,M=this.__data__;return gt?(N=M[i])===u?void 0:N:A.call(M,i)?M[i]:void 0},St.prototype.has=function(i){var N=this.__data__;return gt?N[i]!==void 0:A.call(N,i)},St.prototype.set=function(i,N){var M=this.__data__;return this.size+=this.has(i)?0:1,M[i]=gt&&N===void 0?u:N,this},Ct.prototype.clear=function(){this.__data__=[],this.size=0},Ct.prototype.delete=function(M){var N=this.__data__,M=It(N,M);return!(M<0||(M==N.length-1?N.pop():z.call(N,M,1),--this.size,0))},Ct.prototype.get=function(M){var N=this.__data__,M=It(N,M);return M<0?void 0:N[M][1]},Ct.prototype.has=function(i){return-1<It(this.__data__,i)},Ct.prototype.set=function(i,N){var M=this.__data__,J=It(M,i);return J<0?(++this.size,M.push([i,N])):M[J][1]=N,this},Ot.prototype.clear=function(){this.size=0,this.__data__={hash:new St,map:new(ct||Ct),string:new St}},Ot.prototype.delete=function(i){return i=ie(this,i).delete(i),this.size-=i?1:0,i},Ot.prototype.get=function(i){return ie(this,i).get(i)},Ot.prototype.has=function(i){return ie(this,i).has(i)},Ot.prototype.set=function(i,N){var M=ie(this,i),J=M.size;return M.set(i,N),this.size+=M.size==J?0:1,this},Tt.prototype.add=Tt.prototype.push=function(i){return this.__data__.set(i,u),this},Tt.prototype.has=function(i){return this.__data__.has(i)},Ut.prototype.clear=function(){this.__data__=new Ct,this.size=0},Ut.prototype.delete=function(M){var N=this.__data__,M=N.delete(M);return this.size=N.size,M},Ut.prototype.get=function(i){return this.__data__.get(i)},Ut.prototype.has=function(i){return this.__data__.has(i)},Ut.prototype.set=function(i,N){var M=this.__data__;if(M instanceof Ct){var J=M.__data__;if(!ct||J.length<199)return J.push([i,N]),this.size=++M.size,this;M=this.__data__=new Ot(J)}return M.set(i,N),this.size=M.size,this};var ge=$?function(i){if(i==null)return[];i=Object(i);for(var N=$(i),M=-1,J=N==null?0:N.length,At=0,yt=[];++M<J;){var Et=N[M];q.call(i,Et)&&(yt[At++]=Et)}return yt}:function(){return[]},Jt=_t;function zt(i){if(i!=null){try{return k.call(i)}catch{}try{return i+""}catch{}}return""}function re(i,N){return i===N||i!=i&&N!=N}(Q&&Jt(new Q(new ArrayBuffer(1)))!=rt||ct&&Jt(new ct)!=S||tt&&Jt(tt.resolve())!=G||ot&&Jt(new ot)!=H||lt&&Jt(new lt)!=et)&&(Jt=function(M){var N=_t(M),M=N==Y?M.constructor:void 0,M=M?zt(M):"";if(M)switch(M){case ft:return rt;case bt:return S;case pt:return G;case ht:return H;case Lt:return et}return N});var Vt=Bt(function(){return arguments}())?Bt:function(i){return P(i)&&A.call(i,"callee")&&!q.call(i,"callee")},$t=Array.isArray,Ft=nt||function(){return!1};function V(i){if(h(i))return i=_t(i),i==a||i==x||i==E||i==L}function n(i){return typeof i=="number"&&-1<i&&i%1==0&&i<=d}function h(i){var N=typeof i;return i!=null&&(N=="object"||N=="function")}function P(i){return i!=null&&typeof i=="object"}var K,it=w?(K=w,function(i){return K(i)}):function(i){return P(i)&&n(i.length)&&!!t[_t(i)]};function mt(i){return(i!=null&&n(i.length)&&!V(i)?function(N){var M,J,At,yt=$t(N),Et=!yt&&Vt(N),kt=!yt&&!Et&&Ft(N),Rt=!yt&&!Et&&!kt&&it(N),Dt=yt||Et||kt||Rt,jt=Dt?function(Kt,Ht){for(var Xt=-1,Pt=Array(Kt);++Xt<Kt;)Pt[Xt]=Ht(Xt);return Pt}(N.length,String):[],Wt=jt.length;for(M in N)!A.call(N,M)||Dt&&(M=="length"||kt&&(M=="offset"||M=="parent")||Rt&&(M=="buffer"||M=="byteLength"||M=="byteOffset")||(J=M,At=Wt,(At=At??d)&&(typeof J=="number"||b.test(J))&&-1<J&&J%1==0&&J<At))||jt.push(M);return jt}:function(N){if(N!==(typeof(M=N&&N.constructor)=="function"&&M.prototype||g))return ut(N);var M,J,At=[];for(J in Object(N))A.call(N,J)&&J!="constructor"&&At.push(J);return At})(i)}Z.exports=function(i,N){return Mt(i,N)}},1270:function(Z,C,r){Object.defineProperty(C,"__esModule",{value:!0});const u=r(9629),y=r(4162);var R;(r=R=R||{}).compose=function(d={},_={},c=!1){typeof d!="object"&&(d={}),typeof _!="object"&&(_={});let E=u(_);c||(E=Object.keys(E).reduce((l,p)=>(E[p]!=null&&(l[p]=E[p]),l),{}));for(const l in d)d[l]!==void 0&&_[l]===void 0&&(E[l]=d[l]);return 0<Object.keys(E).length?E:void 0},r.diff=function(d={},_={}){typeof d!="object"&&(d={}),typeof _!="object"&&(_={});var c=Object.keys(d).concat(Object.keys(_)).reduce((E,l)=>(y(d[l],_[l])||(E[l]=_[l]===void 0?null:_[l]),E),{});return 0<Object.keys(c).length?c:void 0},r.invert=function(d={},_={}){d=d||{};var c=Object.keys(_).reduce((E,l)=>(_[l]!==d[l]&&d[l]!==void 0&&(E[l]=_[l]),E),{});return Object.keys(d).reduce((E,l)=>(d[l]!==_[l]&&_[l]===void 0&&(E[l]=null),E),c)},r.transform=function(d,_,c=!1){if(typeof d!="object")return _;if(typeof _=="object")return c?(c=Object.keys(_).reduce((E,l)=>(d[l]===void 0&&(E[l]=_[l]),E),{}),0<Object.keys(c).length?c:void 0):_},C.default=R},5232:function(Z,C,r){Object.defineProperty(C,"__esModule",{value:!0}),C.AttributeMap=C.OpIterator=C.Op=void 0;const u=r(5090),y=r(9629),R=r(4162),d=r(1270),_=(C.AttributeMap=d.default,r(4123)),c=(C.Op=_.default,r(7033)),E=(C.OpIterator=c.default,String.fromCharCode(0)),l=(U,a)=>{if(typeof U!="object"||U===null)throw new Error("cannot retain a "+typeof U);if(typeof a!="object"||a===null)throw new Error("cannot retain a "+typeof a);var x=Object.keys(U)[0];if(x&&x===Object.keys(a)[0])return[x,U[x],a[x]];throw new Error(`embed types not matched: ${x} != `+Object.keys(a)[0])};class p{constructor(a){Array.isArray(a)?this.ops=a:a!=null&&Array.isArray(a.ops)?this.ops=a.ops:this.ops=[]}static registerEmbed(a,x){this.handlers[a]=x}static unregisterEmbed(a){delete this.handlers[a]}static getHandler(a){var x=this.handlers[a];if(x)return x;throw new Error(`no handlers for embed type "${a}"`)}insert(a,x){const S={};return typeof a=="string"&&a.length===0?this:(S.insert=a,x!=null&&typeof x=="object"&&0<Object.keys(x).length&&(S.attributes=x),this.push(S))}delete(a){return a<=0?this:this.push({delete:a})}retain(a,x){if(typeof a=="number"&&a<=0)return this;const S={retain:a};return x!=null&&typeof x=="object"&&0<Object.keys(x).length&&(S.attributes=x),this.push(S)}push(a){let x=this.ops.length,S=this.ops[x-1];if(a=y(a),typeof S=="object"){if(typeof a.delete=="number"&&typeof S.delete=="number")return this.ops[x-1]={delete:S.delete+a.delete},this;if(typeof S.delete=="number"&&a.insert!=null&&(--x,typeof(S=this.ops[x-1])!="object"))return this.ops.unshift(a),this;if(R(a.attributes,S.attributes)){if(typeof a.insert=="string"&&typeof S.insert=="string")return this.ops[x-1]={insert:S.insert+a.insert},typeof a.attributes=="object"&&(this.ops[x-1].attributes=a.attributes),this;if(typeof a.retain=="number"&&typeof S.retain=="number")return this.ops[x-1]={retain:S.retain+a.retain},typeof a.attributes=="object"&&(this.ops[x-1].attributes=a.attributes),this}}return x===this.ops.length?this.ops.push(a):this.ops.splice(x,0,a),this}chop(){var a=this.ops[this.ops.length-1];return a&&typeof a.retain=="number"&&!a.attributes&&this.ops.pop(),this}filter(a){return this.ops.filter(a)}forEach(a){this.ops.forEach(a)}map(a){return this.ops.map(a)}partition(a){const x=[],S=[];return this.forEach(I=>{(a(I)?x:S).push(I)}),[x,S]}reduce(a,x){return this.ops.reduce(a,x)}changeLength(){return this.reduce((a,x)=>x.insert?a+_.default.length(x):x.delete?a-x.delete:a,0)}length(){return this.reduce((a,x)=>a+_.default.length(x),0)}slice(a=0,x=1/0){const S=[],I=new c.default(this.ops);let X=0;for(;X<x&&I.hasNext();){let Y;X<a?Y=I.next(a-X):(Y=I.next(x-X),S.push(Y)),X+=_.default.length(Y)}return new p(S)}compose(a){const x=new c.default(this.ops),S=new c.default(a.ops),I=[],X=S.peek();if(X!=null&&typeof X.retain=="number"&&X.attributes==null){let L=X.retain;for(;x.peekType()==="insert"&&x.peekLength()<=L;)L-=x.peekLength(),I.push(x.next());0<X.retain-L&&S.next(X.retain-L)}const Y=new p(I);for(;x.hasNext()||S.hasNext();)if(S.peekType()==="insert")Y.push(S.next());else if(x.peekType()==="delete")Y.push(x.next());else{const L=Math.min(x.peekLength(),S.peekLength()),v=x.next(L),H=S.next(L);if(H.retain){const O={};if(typeof v.retain=="number")O.retain=typeof H.retain=="number"?L:H.retain;else if(typeof H.retain=="number")v.retain==null?O.insert=v.insert:O.retain=v.retain;else{const W=v.retain==null?"insert":"retain",[et,at,rt]=l(v[W],H.retain),st=p.getHandler(et);O[W]={[et]:st.compose(at,rt,W=="retain")}}var G=d.default.compose(v.attributes,H.attributes,typeof v.retain=="number");if(G&&(O.attributes=G),Y.push(O),!S.hasNext()&&R(Y.ops[Y.ops.length-1],O)){const W=new p(x.rest());return Y.concat(W).chop()}}else typeof H.delete=="number"&&(typeof v.retain=="number"||typeof v.retain=="object"&&v.retain!==null)&&Y.push(H)}return Y.chop()}concat(a){const x=new p(this.ops.slice());return 0<a.ops.length&&(x.push(a.ops[0]),x.ops=x.ops.concat(a.ops.slice(1))),x}diff(a,x){if(this.ops===a.ops)return new p;const S=[this,a].map(L=>L.map(v=>{if(v.insert!=null)return typeof v.insert=="string"?v.insert:E;throw new Error("diff() called "+(L===a?"on":"with")+" non-document")}).join("")),I=new p,X=u(S[0],S[1],x,!0),Y=new c.default(this.ops),G=new c.default(a.ops);return X.forEach(L=>{let v=L[1].length;for(;0<v;){let H=0;switch(L[0]){case u.INSERT:H=Math.min(G.peekLength(),v),I.push(G.next(H));break;case u.DELETE:H=Math.min(v,Y.peekLength()),Y.next(H),I.delete(H);break;case u.EQUAL:H=Math.min(Y.peekLength(),G.peekLength(),v);const O=Y.next(H),W=G.next(H);R(O.insert,W.insert)?I.retain(H,d.default.diff(O.attributes,W.attributes)):I.push(W).delete(H)}v-=H}}),I.chop()}eachLine(a,x=`
`){const S=new c.default(this.ops);let I=new p,X=0;for(;S.hasNext();){if(S.peekType()!=="insert")return;const Y=S.peek(),G=_.default.length(Y)-S.peekLength(),L=typeof Y.insert=="string"?Y.insert.indexOf(x,G)-G:-1;if(L<0)I.push(S.next());else if(0<L)I.push(S.next(L));else{if(a(I,S.next(1).attributes||{},X)===!1)return;X+=1,I=new p}}0<I.length()&&a(I,{},X)}invert(a){const x=new p;return this.reduce((S,I)=>{if(I.insert)x.delete(_.default.length(I));else{if(typeof I.retain=="number"&&I.attributes==null)return x.retain(I.retain),S+I.retain;var X;if(I.delete||typeof I.retain=="number")return X=I.delete||I.retain,a.slice(S,S+X).forEach(Y=>{I.delete?x.push(Y):I.retain&&I.attributes&&x.retain(_.default.length(Y),d.default.invert(I.attributes,Y.attributes))}),S+X;if(typeof I.retain=="object"&&I.retain!==null){const Y=a.slice(S,S+1),G=new c.default(Y.ops).next(),[L,v,H]=l(I.retain,G.insert),O=p.getHandler(L);return x.retain({[L]:O.invert(v,H)},d.default.invert(I.attributes,G.attributes)),S+1}}return S},0),x.chop()}transform(a,x=!1){if(x=!!x,typeof a=="number")return this.transformPosition(a,x);const S=a,I=new c.default(this.ops),X=new c.default(S.ops),Y=new p;for(;I.hasNext()||X.hasNext();)if(I.peekType()!=="insert"||!x&&X.peekType()==="insert")if(X.peekType()==="insert")Y.push(X.next());else{const G=Math.min(I.peekLength(),X.peekLength()),L=I.next(G),v=X.next(G);if(L.delete)continue;if(v.delete)Y.push(v);else{const H=L.retain,O=v.retain;let W=typeof O=="object"&&O!==null?O:G;if(typeof H=="object"&&H!==null&&typeof O=="object"&&O!==null){const et=Object.keys(H)[0];if(et===Object.keys(O)[0]){const at=p.getHandler(et);at&&(W={[et]:at.transform(H[et],O[et],x)})}}Y.retain(W,d.default.transform(L.attributes,v.attributes,x))}}else Y.retain(_.default.length(I.next()));return Y.chop()}transformPosition(a,x=!1){x=!!x;const S=new c.default(this.ops);let I=0;for(;S.hasNext()&&I<=a;){var X=S.peekLength(),Y=S.peekType();S.next(),Y!=="delete"?(Y==="insert"&&(I<a||!x)&&(a+=X),I+=X):a-=Math.min(X,a-I)}return a}}p.Op=_.default,p.OpIterator=c.default,p.AttributeMap=d.default,p.handlers={},C.default=p,Z.exports=p,Z.exports.default=p},4123:function(Z,C){var r;Object.defineProperty(C,"__esModule",{value:!0}),(r||(r={})).length=function(u){return typeof u.delete=="number"?u.delete:typeof u.retain=="number"?u.retain:(typeof u.retain!="object"||u.retain===null)&&typeof u.insert=="string"?u.insert.length:1},C.default=r},7033:function(Z,C,r){Object.defineProperty(C,"__esModule",{value:!0});const u=r(4123);C.default=class{constructor(y){this.ops=y,this.index=0,this.offset=0}hasNext(){return this.peekLength()<1/0}next(y){y=y||1/0;const R=this.ops[this.index];if(R){var d=this.offset,_=u.default.length(R);if(_-d<=y?(y=_-d,this.index+=1,this.offset=0):this.offset+=y,typeof R.delete=="number")return{delete:y};{const c={};return R.attributes&&(c.attributes=R.attributes),typeof R.retain=="number"?c.retain=y:typeof R.retain=="object"&&R.retain!==null?c.retain=R.retain:typeof R.insert=="string"?c.insert=R.insert.substr(d,y):c.insert=R.insert,c}}return{retain:1/0}}peek(){return this.ops[this.index]}peekLength(){return this.ops[this.index]?u.default.length(this.ops[this.index])-this.offset:1/0}peekType(){var y=this.ops[this.index];return y?typeof y.delete=="number"?"delete":typeof y.retain=="number"||typeof y.retain=="object"&&y.retain!==null?"retain":"insert":"retain"}rest(){if(this.hasNext()){if(this.offset===0)return this.ops.slice(this.index);{const y=this.offset,R=this.index,d=this.next(),_=this.ops.slice(this.index);return this.offset=y,this.index=R,[d].concat(_)}}return[]}}},8820:function(Z,C,r){r.d(C,{A:function(){return _}});function u(c,E){for(var l=c.length;l--;)if((0,y.A)(c[l][0],E))return l;return-1}var y=r(8138),R=Array.prototype.splice;function d(c){var E=-1,l=c==null?0:c.length;for(this.clear();++E<l;){var p=c[E];this.set(p[0],p[1])}}d.prototype.clear=function(){this.__data__=[],this.size=0},d.prototype.delete=function(l){var E=this.__data__,l=u(E,l);return!(l<0||(l==E.length-1?E.pop():R.call(E,l,1),--this.size,0))},d.prototype.get=function(l){var E=this.__data__,l=u(E,l);return l<0?void 0:E[l][1]},d.prototype.has=function(c){return-1<u(this.__data__,c)},d.prototype.set=function(c,E){var l=this.__data__,p=u(l,c);return p<0?(++this.size,l.push([c,E])):l[p][1]=E,this};var _=d},2461:function(Z,C,u){var y=u(2281),u=u(5507),y=(0,y.A)(u.A,"Map");C.A=y},3558:function(Z,C,r){r.d(C,{A:function(){return U}});var u=(0,r(2281).A)(Object,"create"),y=Object.prototype.hasOwnProperty,R=Object.prototype.hasOwnProperty;function d(a){var x=-1,S=a==null?0:a.length;for(this.clear();++x<S;){var I=a[x];this.set(I[0],I[1])}}d.prototype.clear=function(){this.__data__=u?u(null):{},this.size=0},d.prototype.delete=function(a){return a=this.has(a)&&delete this.__data__[a],this.size-=a?1:0,a},d.prototype.get=function(a){var x,S=this.__data__;return u?(x=S[a])==="__lodash_hash_undefined__"?void 0:x:y.call(S,a)?S[a]:void 0},d.prototype.has=function(a){var x=this.__data__;return u?x[a]!==void 0:R.call(x,a)},d.prototype.set=function(a,x){var S=this.__data__;return this.size+=this.has(a)?0:1,S[a]=u&&x===void 0?"__lodash_hash_undefined__":x,this};function _(I,x){var S,I=I.__data__;return((S=typeof x)=="string"||S=="number"||S=="symbol"||S=="boolean"?x!=="__proto__":x===null)?I[typeof x=="string"?"string":"hash"]:I.map}var c=d,E=r(8820),l=r(2461);function p(a){var x=-1,S=a==null?0:a.length;for(this.clear();++x<S;){var I=a[x];this.set(I[0],I[1])}}p.prototype.clear=function(){this.size=0,this.__data__={hash:new c,map:new(l.A||E.A),string:new c}},p.prototype.delete=function(a){return a=_(this,a).delete(a),this.size-=a?1:0,a},p.prototype.get=function(a){return _(this,a).get(a)},p.prototype.has=function(a){return _(this,a).has(a)},p.prototype.set=function(a,x){var S=_(this,a),I=S.size;return S.set(a,x),this.size+=S.size==I?0:1,this};var U=p},2673:function(Z,C,r){r.d(C,{A:function(){return _}});var u=r(8820),y=r(2461),R=r(3558);function d(c){c=this.__data__=new u.A(c),this.size=c.size}d.prototype.clear=function(){this.__data__=new u.A,this.size=0},d.prototype.delete=function(l){var E=this.__data__,l=E.delete(l);return this.size=E.size,l},d.prototype.get=function(c){return this.__data__.get(c)},d.prototype.has=function(c){return this.__data__.has(c)},d.prototype.set=function(c,E){var l=this.__data__;if(l instanceof u.A){var p=l.__data__;if(!y.A||p.length<199)return p.push([c,E]),this.size=++l.size,this;l=this.__data__=new R.A(p)}return l.set(c,E),this.size=l.size,this};var _=d},439:function(Z,C,r){r=r(5507).A.Symbol,C.A=r},7218:function(Z,C,r){r=r(5507).A.Uint8Array,C.A=r},6753:function(Z,C,r){r.d(C,{A:function(){return E}});var u=r(8412),y=r(723),R=r(776),d=r(3767),_=r(5755),c=Object.prototype.hasOwnProperty,E=function(l,p){var U,a=(0,y.A)(l),x=!a&&(0,u.A)(l),S=!a&&!x&&(0,R.A)(l),I=!a&&!x&&!S&&(0,_.A)(l),X=a||x||S||I,Y=X?function(L,v){for(var H=-1,O=Array(L);++H<L;)O[H]=v(H);return O}(l.length,String):[],G=Y.length;for(U in l)!p&&!c.call(l,U)||X&&(U=="length"||S&&(U=="offset"||U=="parent")||I&&(U=="buffer"||U=="byteLength"||U=="byteOffset")||(0,d.A)(U,G))||Y.push(U);return Y}},802:function(Z,C){C.A=function(r,u){for(var y=-1,R=u.length,d=r.length;++y<R;)r[d+y]=u[y];return r}},6437:function(Z,C,r){var u=r(6770),y=r(8138),R=Object.prototype.hasOwnProperty;C.A=function(d,_,c){var E=d[_];R.call(d,_)&&(0,y.A)(E,c)&&(c!==void 0||_ in d)||(0,u.A)(d,_,c)}},6770:function(Z,C,r){var u=r(7889);C.A=function(y,R,d){R=="__proto__"&&u.A?(0,u.A)(y,R,{configurable:!0,enumerable:!0,value:d,writable:!0}):y[R]=d}},1381:function(Z,C,r){var u=r(802),y=r(723);C.A=function(R,d,_){return d=d(R),(0,y.A)(R)?d:(0,u.A)(d,_(R))}},2159:function(Z,u,y){y.d(u,{A:function(){return l}});var u=y(439),y=Object.prototype,R=y.hasOwnProperty,d=y.toString,_=u.A?u.A.toStringTag:void 0,c=Object.prototype.toString,E=u.A?u.A.toStringTag:void 0,l=function(p){{if(p==null)return p===void 0?"[object Undefined]":"[object Null]";if(E&&E in Object(p)){var U=p,a=R.call(U,_),x=U[_];try{var S=!(U[_]=void 0)}catch{}var I=d.call(U);return S&&(a?U[_]=x:delete U[_]),I}return c.call(p)}}},5771:function(Z,C){C.A=function(r){return function(u){return r(u)}}},2899:function(Z,C,r){var u=r(7218);C.A=function(y){var R=new y.constructor(y.byteLength);return new u.A(R).set(new u.A(y)),R}},3812:function(Z,C,u){var u=u(5507),y=ne&&!ne.nodeType&&ne,R=y&&!0&&oe&&!oe.nodeType&&oe,R=R&&R.exports===y?u.A.Buffer:void 0,d=R?R.allocUnsafe:void 0;C.A=function(_,c){return c?_.slice():(c=_.length,c=d?d(c):new _.constructor(c),_.copy(c),c)}},1827:function(Z,C,r){var u=r(2899);C.A=function(y,R){return R=R?(0,u.A)(y.buffer):y.buffer,new y.constructor(R,y.byteOffset,y.length)}},4405:function(Z,C){C.A=function(r,u){var y=-1,R=r.length;for(u=u||Array(R);++y<R;)u[y]=r[y];return u}},9601:function(Z,C,r){var u=r(6437),y=r(6770);C.A=function(R,d,_,c){var E=!_;_=_||{};for(var l=-1,p=d.length;++l<p;){var U=d[l],a=c?c(_[U],R[U],U,_,R):void 0;a===void 0&&(a=R[U]),(E?y.A:u.A)(_,U,a)}return _}},7889:function(Z,C,y){var u=y(2281),y=function(){try{var R=(0,u.A)(Object,"defineProperty");return R({},"",{}),R}catch{}}();C.A=y},9646:function(Z,C){var r=typeof Ee=="object"&&Ee&&Ee.Object===Object&&Ee;C.A=r},2816:function(Z,C,r){var u=r(1381),y=r(9844),R=r(3169);C.A=function(d){return(0,u.A)(d,R.A,y.A)}},2281:function(Z,c,E){E.d(c,{A:function(){return p}});var u=E(7572),c=E(5507).A["__core-js_shared__"],y=(c=/[^.]+$/.exec(c&&c.keys&&c.keys.IE_PROTO||""))?"Symbol(src)_1."+c:"",R=E(659),d=E(1543),_=/^\[object .+?Constructor\]$/,c=Function.prototype,E=Object.prototype,c=c.toString,E=E.hasOwnProperty,l=RegExp("^"+c.call(E).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),p=function(U,a){return U=U==null?void 0:U[a],a=U,!(0,R.A)(a)||y&&y in a||!((0,u.A)(a)?l:_).test((0,d.A)(a))?void 0:U}},8769:function(Z,C,r){r=(0,r(2217).A)(Object.getPrototypeOf,Object),C.A=r},9844:function(Z,u,r){r.d(u,{A:function(){return d}});var u=r(6935),y=Object.prototype.propertyIsEnumerable,R=Object.getOwnPropertySymbols,d=R?function(_){if(_==null)return[];_=Object(_);for(var c=R(_),E=-1,l=c==null?0:c.length,p=0,U=[];++E<l;){var a=c[E];y.call(_,a)&&(U[p++]=a)}return U}:u.A},7995:function(Z,_,r){r.d(_,{A:function(){return v}});var _=r(2281),L=r(5507),u=(0,_.A)(L.A,"DataView"),y=r(2461),R=(0,_.A)(L.A,"Promise"),d=(0,_.A)(L.A,"Set"),_=(0,_.A)(L.A,"WeakMap"),c=r(2159),E=r(1543),l="[object Map]",p="[object Promise]",U="[object Set]",a="[object WeakMap]",x="[object DataView]",S=(0,E.A)(u),I=(0,E.A)(y.A),X=(0,E.A)(R),Y=(0,E.A)(d),G=(0,E.A)(_),L=c.A,v=L=u&&L(new u(new ArrayBuffer(1)))!=x||y.A&&L(new y.A)!=l||R&&L(R.resolve())!=p||d&&L(new d)!=U||_&&L(new _)!=a?function(W){var O=(0,c.A)(W),W=O=="[object Object]"?W.constructor:void 0,W=W?(0,E.A)(W):"";if(W)switch(W){case S:return x;case I:return l;case X:return p;case Y:return U;case G:return a}return O}:L},1683:function(Z,C,r){r.d(C,{A:function(){return c}});var u=r(659),y=Object.create,R=function(l){return(0,u.A)(l)?y?y(l):(E.prototype=l,l=new E,E.prototype=void 0,l):{}},d=r(8769),_=r(501),c=function(l){return typeof l.constructor!="function"||(0,_.A)(l)?{}:R((0,d.A)(l))};function E(){}},3767:function(Z,C){var r=/^(?:0|[1-9]\d*)$/;C.A=function(u,y){var R=typeof u;return!!(y=y??9007199254740991)&&(R=="number"||R!="symbol"&&r.test(u))&&-1<u&&u%1==0&&u<y}},501:function(Z,C){var r=Object.prototype;C.A=function(u){var y=u&&u.constructor;return u===(typeof y=="function"&&y.prototype||r)}},8795:function(Z,C,u){var u=u(9646),d=ne&&!ne.nodeType&&ne,y=d&&!0&&oe&&!oe.nodeType&&oe,R=y&&y.exports===d&&u.A.process,d=function(){try{return y&&y.require&&y.require("util").types||R&&R.binding&&R.binding("util")}catch{}}();C.A=d},2217:function(Z,C){C.A=function(r,u){return function(y){return r(u(y))}}},5507:function(Z,C,y){var y=y(9646),u=typeof self=="object"&&self&&self.Object===Object&&self,y=y.A||u||Function("return this")();C.A=y},1543:function(Z,C){var r=Function.prototype.toString;C.A=function(u){if(u!=null){try{return r.call(u)}catch{}try{return u+""}catch{}}return""}},3707:function(Z,b,r){r.d(b,{A:function(){return A}});function u(o,e,m,D,q,z){var F,$,nt,ut=1&e,Q=2&e,ct=4&e;if((F=m?q?m(o,D,q,z):m(o):F)!==void 0)return F;if(!(0,w.A)(o))return o;if(D=(0,at.A)(o)){if(tt=(ot=o).length,nt=new ot.constructor(tt),tt&&typeof ot[0]=="string"&&G.call(ot,"index")&&(nt.index=ot.index,nt.input=ot.input),F=nt,!ut)return(0,l.A)(o,F)}else{var tt=(0,Y.A)(o),ot=tt==f||tt=="[object GeneratorFunction]";if((0,rt.A)(o))return(0,E.A)(o,ut);if(tt==g||tt==B||ot&&!q){if(F=Q||ot?{}:(0,et.A)(o),!ut)return Q?(nt=o,$=($=F)&&(0,d.A)(o,(0,c.A)(o),$),(0,d.A)(nt,x(nt),$)):($=o,lt=(lt=F)&&(0,d.A)(o,(0,_.A)(o),lt),(0,d.A)($,(0,p.A)($),lt))}else{if(!k[tt])return q?o:{};F=W(o,tt,ut)}}var lt=(z=z||new y.A).get(o);if(lt)return lt;z.set(o,F),j(o)?o.forEach(function(xt){F.add(u(xt,e,m,xt,o,z))}):s(o)&&o.forEach(function(xt,Nt){F.set(Nt,u(xt,e,m,Nt,o,z))});for(var gt,ft,q=ct?Q?X:S.A:(Q?c:_).A,bt=D?void 0:q(o),pt=bt||o,ht=-1,Lt=pt==null?0:pt.length;++ht<Lt&&(gt=pt[ht],ft=ht,bt&&(gt=o[ft=gt]),void(0,R.A)(F,ft,u(gt,e,m,ft,o,z))!==!1););return F}var y=r(2673),R=r(6437),d=r(9601),_=r(3169),c=r(2624),E=r(3812),l=r(4405),p=r(9844),U=r(802),a=r(8769),b=r(6935),x=Object.getOwnPropertySymbols?function(o){for(var e=[];o;)(0,U.A)(e,(0,p.A)(o)),o=(0,a.A)(o);return e}:b.A,S=r(2816),I=r(1381),X=function(o){return(0,I.A)(o,c.A,x)},Y=r(7995),G=Object.prototype.hasOwnProperty,L=r(2899),v=/\w*$/,b=r(439),b=b.A?b.A.prototype:void 0,H=b?b.valueOf:void 0,O=r(1827),W=function(o,e,m){var D,q,z=o.constructor;switch(e){case"[object ArrayBuffer]":return(0,L.A)(o);case"[object Boolean]":case"[object Date]":return new z(+o);case"[object DataView]":return D=o,q=m?(0,L.A)(D.buffer):D.buffer,new D.constructor(q,D.byteOffset,D.byteLength);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return(0,O.A)(o,m);case"[object Map]":case"[object Set]":return new z;case"[object Number]":case"[object String]":return new z(o);case"[object RegExp]":return(D=new(q=o).constructor(q.source,v.exec(q))).lastIndex=q.lastIndex,D;case"[object Symbol]":return H?Object(H.call(o)):{}}},et=r(1683),at=r(723),rt=r(776),st=r(7948),b=r(5771),t=r(8795),T=t.A&&t.A.isMap,s=T?(0,b.A)(T):function(o){return(0,st.A)(o)&&(0,Y.A)(o)=="[object Map]"},w=r(659),T=t.A&&t.A.isSet,j=T?(0,b.A)(T):function(o){return(0,st.A)(o)&&(0,Y.A)(o)=="[object Set]"},B="[object Arguments]",f="[object Function]",g="[object Object]",k={},A=(k[B]=k["[object Array]"]=k["[object ArrayBuffer]"]=k["[object DataView]"]=k["[object Boolean]"]=k["[object Date]"]=k["[object Float32Array]"]=k["[object Float64Array]"]=k["[object Int8Array]"]=k["[object Int16Array]"]=k["[object Int32Array]"]=k["[object Map]"]=k["[object Number]"]=k[g]=k["[object RegExp]"]=k["[object Set]"]=k["[object String]"]=k["[object Symbol]"]=k["[object Uint8Array]"]=k["[object Uint8ClampedArray]"]=k["[object Uint16Array]"]=k["[object Uint32Array]"]=!0,k["[object Error]"]=k[f]=k["[object WeakMap]"]=!1,function(o){return u(o,5)})},8138:function(Z,C){C.A=function(r,u){return r===u||r!=r&&u!=u}},8412:function(Z,d,r){r.d(d,{A:function(){return E}});function u(l){return(0,R.A)(l)&&(0,y.A)(l)=="[object Arguments]"}var y=r(2159),R=r(7948),d=Object.prototype,_=d.hasOwnProperty,c=d.propertyIsEnumerable,E=u(function(){return arguments}())?u:function(l){return(0,R.A)(l)&&_.call(l,"callee")&&!c.call(l,"callee")}},723:function(Z,C){var r=Array.isArray;C.A=r},3628:function(Z,C,r){var u=r(7572),y=r(1628);C.A=function(R){return R!=null&&(0,y.A)(R.length)&&!(0,u.A)(R)}},776:function(Z,u,y){y.d(u,{A:function(){return d}});var u=y(5507),y=ne&&!ne.nodeType&&ne,R=y&&!0&&oe&&!oe.nodeType&&oe,R=R&&R.exports===y?u.A.Buffer:void 0,d=(R?R.isBuffer:void 0)||function(){return!1}},5123:function(Z,a,r){r.d(a,{A:function(){return rt}});var u=r(2673),y=r(3558);function R(st){var b=-1,t=st==null?0:st.length;for(this.__data__=new y.A;++b<t;)this.add(st[b])}R.prototype.add=R.prototype.push=function(st){return this.__data__.set(st,"__lodash_hash_undefined__"),this},R.prototype.has=function(st){return this.__data__.has(st)};function d(st,b,t,s,w,T){var j=1&t,B=st.length,f=b.length;if(B!=f&&!(j&&B<f))return!1;var f=T.get(st),g=T.get(b);if(f&&g)return f==b&&g==st;var k=-1,A=!0,o=2&t?new l:void 0;for(T.set(st,b),T.set(b,st);++k<B;){var e,m=st[k],D=b[k];if((e=s?j?s(D,m,k,b,st,T):s(m,D,k,st,b,T):e)!==void 0){if(e)continue;A=!1;break}if(o){if(!function(q,z){for(var F=-1,$=q==null?0:q.length;++F<$;)if(z(q[F],F,q))return!0;return!1}(b,function(q,z){return!o.has(z)&&(m===q||w(m,q,t,s,T))&&o.push(z)})){A=!1;break}}else if(m!==D&&!w(m,D,t,s,T)){A=!1;break}}return T.delete(st),T.delete(b),A}function _(st){var b=-1,t=Array(st.size);return st.forEach(function(s,w){t[++b]=[w,s]}),t}function c(st){var b=-1,t=Array(st.size);return st.forEach(function(s){t[++b]=s}),t}function E(st,b,t,s,w){return st===b||(st==null||b==null||!(0,at.A)(st)&&!(0,at.A)(b)?st!=st&&b!=b:et(st,b,t,s,E,w))}var l=R,a=r(439),p=r(7218),U=r(8138),a=a.A?a.A.prototype:void 0,x=a?a.valueOf:void 0,S=r(2816),I=Object.prototype.hasOwnProperty,X=r(7995),Y=r(723),G=r(776),L=r(5755),v="[object Arguments]",H="[object Array]",O="[object Object]",W=Object.prototype.hasOwnProperty,et=function(st,b,t,s,w,T){var j=(0,Y.A)(st),k=(0,Y.A)(b),B=j?H:(0,X.A)(st),k=k?H:(0,X.A)(b),f=(B=B==v?O:B)==O,g=(k=k==v?O:k)==O,k=B==k;if(k&&(0,G.A)(st)){if(!(0,G.A)(b))return!1;f=!(j=!0)}return k&&!f?(T=T||new u.A,(j||(0,L.A)(st)?d:function(A,o,e,m,D,q){switch(B){case"[object DataView]":if(A.byteLength!=o.byteLength||A.byteOffset!=o.byteOffset)return!1;A=A.buffer,o=o.buffer;case"[object ArrayBuffer]":return!(A.byteLength!=o.byteLength||!D(new p.A(A),new p.A(o)));case"[object Boolean]":case"[object Date]":case"[object Number]":return(0,U.A)(+A,+o);case"[object Error]":return A.name==o.name&&A.message==o.message;case"[object RegExp]":case"[object String]":return A==o+"";case"[object Map]":var z=_;case"[object Set]":if(z=z||c,A.size!=o.size&&!(1&e))return!1;var F=q.get(A);return F?F==o:(e|=2,q.set(A,o),F=d(z(A),z(o),e,m,D,q),q.delete(A),F);case"[object Symbol]":if(x)return x.call(A)==x.call(o)}return!1})(st,b,t,s,w,T)):!(1&t)&&(j=f&&W.call(st,"__wrapped__"),f=g&&W.call(b,"__wrapped__"),j||f)?w(j?st.value():st,f?b.value():b,t,s,T=T||new u.A):!!k&&function(A,o,e,m,D,q){var z=1&e,F=(0,S.A)(A),$=F.length;if($!=(0,S.A)(o).length&&!z)return!1;for(var nt=$;nt--;){var ut=F[nt];if(!(z?ut in o:I.call(o,ut)))return!1}var Q=q.get(A),ct=q.get(o);if(Q&&ct)return Q==o&&ct==A;var tt=!0;q.set(A,o),q.set(o,A);for(var ot=z;++nt<$;){var lt,gt=A[ut=F[nt]],ft=o[ut];if(!((lt=m?z?m(ft,gt,ut,o,A,q):m(gt,ft,ut,A,o,q):lt)===void 0?gt===ft||D(gt,ft,e,m,q):lt)){tt=!1;break}ot=ot||ut=="constructor"}return tt&&!ot&&(Q=A.constructor)!=(ct=o.constructor)&&"constructor"in A&&"constructor"in o&&!(typeof Q=="function"&&Q instanceof Q&&typeof ct=="function"&&ct instanceof ct)&&(tt=!1),q.delete(A),q.delete(o),tt}(st,b,t,s,w,T=T||new u.A)},at=r(7948),rt=function(st,b){return E(st,b)}},7572:function(Z,C,r){var u=r(2159),y=r(659);C.A=function(R){return(0,y.A)(R)?(R=(0,u.A)(R),R=="[object Function]"||R=="[object GeneratorFunction]"||R=="[object AsyncFunction]"||R=="[object Proxy]"):!1}},1628:function(Z,C){C.A=function(r){return typeof r=="number"&&-1<r&&r%1==0&&r<=9007199254740991}},659:function(Z,C){C.A=function(r){var u=typeof r;return r!=null&&(u=="object"||u=="function")}},7948:function(Z,C){C.A=function(r){return r!=null&&typeof r=="object"}},5755:function(Z,_,c){c.d(_,{A:function(){return E}});var u=c(2159),y=c(1628),R=c(7948),d={},_=(d["[object Float32Array]"]=d["[object Float64Array]"]=d["[object Int8Array]"]=d["[object Int16Array]"]=d["[object Int32Array]"]=d["[object Uint8Array]"]=d["[object Uint8ClampedArray]"]=d["[object Uint16Array]"]=d["[object Uint32Array]"]=!0,d["[object Arguments]"]=d["[object Array]"]=d["[object ArrayBuffer]"]=d["[object Boolean]"]=d["[object DataView]"]=d["[object Date]"]=d["[object Error]"]=d["[object Function]"]=d["[object Map]"]=d["[object Number]"]=d["[object Object]"]=d["[object RegExp]"]=d["[object Set]"]=d["[object String]"]=d["[object WeakMap]"]=!1,c(5771)),c=c(8795),c=c.A&&c.A.isTypedArray,E=c?(0,_.A)(c):function(l){return(0,R.A)(l)&&(0,y.A)(l.length)&&!!d[(0,u.A)(l)]}},3169:function(Z,C,r){r.d(C,{A:function(){return c}});var u=r(6753),y=r(501),R=(0,r(2217).A)(Object.keys,Object),d=Object.prototype.hasOwnProperty,_=r(3628),c=function(E){return((0,_.A)(E)?u.A:function(l){if(!(0,y.A)(l))return R(l);var p,U=[];for(p in Object(l))d.call(l,p)&&p!="constructor"&&U.push(p);return U})(E)}},2624:function(Z,C,r){r.d(C,{A:function(){return c}});var u=r(6753),y=r(659),R=r(501),d=Object.prototype.hasOwnProperty,_=r(3628),c=function(E){if((0,_.A)(E))return(0,u.A)(E,!0);var l=E;if((0,y.A)(l)){var p,U=(0,R.A)(l),a=[];for(p in l)(p!="constructor"||!U&&d.call(l,p))&&a.push(p);return a}var x=[];if(l!=null)for(var S in Object(l))x.push(S);return x}},8347:function(Z,m,r){r.d(m,{A:function(){return z}});function u(F,$,nt,ut,Q){F!==$&&X($,function(ct,tt){var ot;Q=Q||new a.A,(0,st.A)(ct)?A(F,$,tt,nt,u,ut,Q):(ot=ut?ut(f(F,tt),ct,tt+"",F,$,Q):void 0,I(F,tt,ot=ot===void 0?ct:ot))},k.A)}function y(F){return F}var R,d,_,c,E,l,p,U,a=r(2673),x=r(6770),S=r(8138),I=function(F,$,nt){(nt===void 0||(0,S.A)(F[$],nt))&&(nt!==void 0||$ in F)||(0,x.A)(F,$,nt)},X=function(F,$,nt){for(var ut=-1,Q=Object(F),ct=nt(F),tt=ct.length;tt--;){var ot=ct[++ut];if($(Q[ot],ot,Q)===!1)break}return F},Y=r(3812),G=r(1827),L=r(4405),v=r(1683),H=r(8412),O=r(723),W=r(3628),et=r(7948),at=r(776),rt=r(7572),st=r(659),b=r(2159),t=r(8769),m=Function.prototype,s=Object.prototype,w=m.toString,T=s.hasOwnProperty,j=w.call(Object),B=r(5755),f=function(F,$){if(($!=="constructor"||typeof F[$]!="function")&&$!="__proto__")return F[$]},g=r(9601),k=r(2624),A=function(F,$,nt,ut,Q,ct,tt){var ot,lt,gt,ft=f(F,nt),bt=f($,nt),pt=tt.get(bt);pt||(($=(pt=ct?ct(ft,bt,nt+"",F,$,tt):void 0)===void 0)&&(lt=!(ot=(0,O.A)(bt))&&(0,at.A)(bt),gt=!ot&&!lt&&(0,B.A)(bt),pt=bt,ot||lt||gt?pt=(0,O.A)(ft)?ft:(0,et.A)(ot=ft)&&(0,W.A)(ot)?(0,L.A)(ft):lt?(0,Y.A)(bt,!($=!1)):gt?(0,G.A)(bt,!($=!1)):[]:function(ht){if((0,et.A)(ht)&&(0,b.A)(ht)=="[object Object]")return ht=(0,t.A)(ht),ht===null?1:(ht=T.call(ht,"constructor")&&ht.constructor,typeof ht=="function"&&ht instanceof ht&&w.call(ht)==j)}(bt)||(0,H.A)(bt)?(0,H.A)(pt=ft)?pt=(0,g.A)(ft,(0,k.A)(ft)):(0,st.A)(ft)&&!(0,rt.A)(ft)||(pt=(0,v.A)(bt)):$=!1),$&&(tt.set(bt,pt),Q(pt,bt,ut,ct,tt),tt.delete(bt))),I(F,nt,pt)},o=Math.max,e=r(7889),m=e.A?function(F,$){return(0,e.A)(F,"toString",{configurable:!0,enumerable:!1,value:(nt=$,function(){return nt}),writable:!0});var nt}:y,D=Date.now,q=(R=m,_=d=0,r(3767)),z=(c=function(F,$,nt){u(F,$,nt)},function(){var F=D(),$=16-(F-_);if(_=F,0<$){if(800<=++d)return arguments[0]}else d=0;return R.apply(void 0,arguments)}((l=s=function(F,$){var nt=-1,ut=$.length,ct=1<ut?$[ut-1]:void 0,Q=2<ut?$[2]:void 0,ct=3<c.length&&typeof ct=="function"?(ut--,ct):void 0;for(Q&&function(ot,lt,gt){var ft;if((0,st.A)(gt))return ft=typeof lt,(ft=="number"?(0,W.A)(gt)&&(0,q.A)(lt,gt.length):ft=="string"&&lt in gt)&&(0,S.A)(gt[lt],ot)}($[0],$[1],Q)&&(ct=ut<3?void 0:ct,ut=1),F=Object(F);++nt<ut;){var tt=$[nt];tt&&c(F,tt,nt)}return F},U=y,p=o((p=E)===void 0?l.length-1:p,0),function(){for(var F=arguments,$=-1,nt=o(F.length-p,0),ut=Array(nt);++$<nt;)ut[$]=F[p+$];for(var $=-1,Q=Array(p+1);++$<p;)Q[$]=F[$];Q[p]=U(ut);var ct=l,tt=this,ot=Q;switch(ot.length){case 0:return ct.call(tt);case 1:return ct.call(tt,ot[0]);case 2:return ct.call(tt,ot[0],ot[1]);case 3:return ct.call(tt,ot[0],ot[1],ot[2])}return ct.apply(tt,ot)}),s+""))},6935:function(Z,C){C.A=function(){return[]}},6003:function(Z,C,r){r.r(C),r.d(C,{Attributor:function(){return y},AttributorStore:function(){return p},BlockBlot:function(){return L},ClassAttributor:function(){return c},ContainerBlot:function(){return H},EmbedBlot:function(){return O},InlineBlot:function(){return Y},LeafBlot:function(){return a},ParentBlot:function(){return I},Registry:function(){return d},Scope:function(){return u},ScrollBlot:function(){return at},StyleAttributor:function(){return l},TextBlot:function(){return st}}),(r=u||{})[r.TYPE=3]="TYPE",r[r.LEVEL=12]="LEVEL",r[r.ATTRIBUTE=13]="ATTRIBUTE",r[r.BLOT=14]="BLOT",r[r.INLINE=7]="INLINE",r[r.BLOCK=11]="BLOCK",r[r.BLOCK_BLOT=10]="BLOCK_BLOT",r[r.INLINE_BLOT=6]="INLINE_BLOT",r[r.BLOCK_ATTRIBUTE=9]="BLOCK_ATTRIBUTE",r[r.INLINE_ATTRIBUTE=5]="INLINE_ATTRIBUTE",r[r.ANY=15]="ANY";var u=r;class y{constructor(t,s,w={}){this.attrName=t,this.keyName=s,t=u.TYPE&u.ATTRIBUTE,this.scope=w.scope!=null?w.scope&u.LEVEL|t:u.ATTRIBUTE,w.whitelist!=null&&(this.whitelist=w.whitelist)}static keys(t){return Array.from(t.attributes).map(s=>s.name)}add(t,s){return!!this.canAdd(t,s)&&(t.setAttribute(this.keyName,s),!0)}canAdd(t,s){return this.whitelist==null||(typeof s=="string"?-1<this.whitelist.indexOf(s.replace(/["']/g,"")):-1<this.whitelist.indexOf(s))}remove(t){t.removeAttribute(this.keyName)}value(t){var s=t.getAttribute(this.keyName);return this.canAdd(t,s)&&s?s:""}}class R extends Error{constructor(t){super(t="[Parchment] "+t),this.message=t,this.name=this.constructor.name}}C=class Le{constructor(){this.attributes={},this.classes={},this.tags={},this.types={}}static find(t,s=!1){if(t==null)return null;if(this.blots.has(t))return this.blots.get(t)||null;if(s){let w=null;try{w=t.parentNode}catch{return null}return this.find(w,s)}return null}create(t,s,w){var T=this.query(s);if(T==null)throw new R(`Unable to create ${s} blot`);const j=T,B=s instanceof Node||s.nodeType===Node.TEXT_NODE?s:j.create(w),f=new j(t,B,w);return Le.blots.set(f.domNode,f),f}find(t,s=!1){return Le.find(t,s)}query(t,s=u.ANY){let w;return typeof t=="string"?w=this.types[t]||this.attributes[t]:t instanceof Text||t.nodeType===Node.TEXT_NODE?w=this.types.text:typeof t=="number"?t&u.LEVEL&u.BLOCK?w=this.types.block:t&u.LEVEL&u.INLINE&&(w=this.types.inline):t instanceof Element&&((t.getAttribute("class")||"").split(/\s+/).some(T=>!!(w=this.classes[T])),w=w||this.tags[t.tagName]),w!=null&&"scope"in w&&s&u.LEVEL&w.scope&&s&u.TYPE&w.scope?w:null}register(...t){return t.map(s=>{var w="blotName"in s,T="attrName"in s;if(!w&&!T)throw new R("Invalid definition");if(w&&s.blotName==="abstract")throw new R("Cannot register abstract class");var j=w?s.blotName:T?s.attrName:void 0;return this.types[j]=s,T?typeof s.keyName=="string"&&(this.attributes[s.keyName]=s):w&&(s.className&&(this.classes[s.className]=s),s.tagName&&(Array.isArray(s.tagName)?s.tagName=s.tagName.map(B=>B.toUpperCase()):s.tagName=s.tagName.toUpperCase(),(Array.isArray(s.tagName)?s.tagName:[s.tagName]).forEach(B=>{this.tags[B]!=null&&s.className!=null||(this.tags[B]=s)}))),s})}},C.blots=new WeakMap;let d=C;function _(b,t){return(b.getAttribute("class")||"").split(/\s+/).filter(s=>s.indexOf(t+"-")===0)}const c=class extends y{static keys(b){return(b.getAttribute("class")||"").split(/\s+/).map(t=>t.split("-").slice(0,-1).join("-"))}add(b,t){return!!this.canAdd(b,t)&&(this.remove(b),b.classList.add(this.keyName+"-"+t),!0)}remove(b){_(b,this.keyName).forEach(t=>{b.classList.remove(t)}),b.classList.length===0&&b.removeAttribute("class")}value(b){var t=(_(b,this.keyName)[0]||"").slice(this.keyName.length+1);return this.canAdd(b,t)?t:""}};function E(b){const t=b.split("-"),s=t.slice(1).map(w=>w[0].toUpperCase()+w.slice(1)).join("");return t[0]+s}const l=class extends y{static keys(b){return(b.getAttribute("style")||"").split(";").map(t=>t.split(":")[0].trim())}add(b,t){return!!this.canAdd(b,t)&&(b.style[E(this.keyName)]=t,!0)}remove(b){b.style[E(this.keyName)]="",b.getAttribute("style")||b.removeAttribute("style")}value(b){var t=b.style[E(this.keyName)];return this.canAdd(b,t)?t:""}},p=class{constructor(b){this.attributes={},this.domNode=b,this.build()}attribute(b,t){t?b.add(this.domNode,t)&&(b.value(this.domNode)!=null?this.attributes[b.attrName]=b:delete this.attributes[b.attrName]):(b.remove(this.domNode),delete this.attributes[b.attrName])}build(){this.attributes={};const b=d.find(this.domNode);if(b!=null){const t=y.keys(this.domNode),s=c.keys(this.domNode),w=l.keys(this.domNode);t.concat(s).concat(w).forEach(T=>{T=b.scroll.query(T,u.ATTRIBUTE),T instanceof y&&(this.attributes[T.attrName]=T)})}}copy(b){Object.keys(this.attributes).forEach(t=>{var s=this.attributes[t].value(this.domNode);b.format(t,s)})}move(b){this.copy(b),Object.keys(this.attributes).forEach(t=>{this.attributes[t].remove(this.domNode)}),this.attributes={}}values(){return Object.keys(this.attributes).reduce((b,t)=>(b[t]=this.attributes[t].value(this.domNode),b),{})}},U=class{constructor(b,t){this.scroll=b,this.domNode=t,d.blots.set(t,this),this.prev=null,this.next=null}static create(b){if(this.tagName==null)throw new R("Blot definition missing tagName");let t,s;return t=Array.isArray(this.tagName)?(typeof b=="string"?(s=b.toUpperCase(),parseInt(s,10).toString()===s&&(s=parseInt(s,10))):typeof b=="number"&&(s=b),typeof s=="number"?document.createElement(this.tagName[s-1]):s&&-1<this.tagName.indexOf(s)?document.createElement(s):document.createElement(this.tagName[0])):document.createElement(this.tagName),this.className&&t.classList.add(this.className),t}get statics(){return this.constructor}attach(){}clone(){var b=this.domNode.cloneNode(!1);return this.scroll.create(b)}detach(){this.parent!=null&&this.parent.removeChild(this),d.blots.delete(this.domNode)}deleteAt(b,t){this.isolate(b,t).remove()}formatAt(b,t,s,w){const T=this.isolate(b,t);if(this.scroll.query(s,u.BLOT)!=null&&w)T.wrap(s,w);else if(this.scroll.query(s,u.ATTRIBUTE)!=null){const j=this.scroll.create(this.statics.scope);T.wrap(j),j.format(s,w)}}insertAt(b,t,s){t=s==null?this.scroll.create("text",t):this.scroll.create(t,s),s=this.split(b),this.parent.insertBefore(t,s||void 0)}isolate(b,t){const s=this.split(b);if(s==null)throw new Error("Attempt to isolate at end");return s.split(t),s}length(){return 1}offset(b=this.parent){return this.parent==null||this===b?0:this.parent.children.offset(this)+this.parent.offset(b)}optimize(b){!this.statics.requiredContainer||this.parent instanceof this.statics.requiredContainer||this.wrap(this.statics.requiredContainer.blotName)}remove(){this.domNode.parentNode!=null&&this.domNode.parentNode.removeChild(this.domNode),this.detach()}replaceWith(b,t){return t=typeof b=="string"?this.scroll.create(b,t):b,this.parent!=null&&(this.parent.insertBefore(t,this.next||void 0),this.remove()),t}split(b,t){return b===0?this:this.next}update(b,t){}wrap(b,t){const s=typeof b=="string"?this.scroll.create(b,t):b;if(this.parent!=null&&this.parent.insertBefore(s,this.next||void 0),typeof s.appendChild!="function")throw new R("Cannot wrap "+b);return s.appendChild(this),s}};U.blotName="abstract",r=U,C=class extends r{static value(b){return!0}index(b,t){return this.domNode===b||this.domNode.compareDocumentPosition(b)&Node.DOCUMENT_POSITION_CONTAINED_BY?Math.min(t,1):-1}position(b,t){let s=Array.from(this.parent.domNode.childNodes).indexOf(this.domNode);return 0<b&&(s+=1),[this.parent.domNode,s]}value(){return{[this.statics.blotName]:this.statics.value(this.domNode)||!0}}},C.scope=u.INLINE_BLOT;const a=C;class x{constructor(){this.head=null,this.tail=null,this.length=0}append(...t){this.insertBefore(t[0],null),1<t.length&&(t=t.slice(1),this.append(...t))}at(t){const s=this.iterator();let w=s();for(;w&&0<t;)--t,w=s();return w}contains(t){const s=this.iterator();let w=s();for(;w;){if(w===t)return!0;w=s()}return!1}indexOf(t){const s=this.iterator();let w=s(),T=0;for(;w;){if(w===t)return T;T+=1,w=s()}return-1}insertBefore(t,s){t!=null&&(this.remove(t),(t.next=s)!=null?(t.prev=s.prev,s.prev!=null&&(s.prev.next=t),s.prev=t,s===this.head&&(this.head=t)):this.tail!=null?((this.tail.next=t).prev=this.tail,this.tail=t):(t.prev=null,this.head=this.tail=t),this.length+=1)}offset(t){let s=0,w=this.head;for(;w!=null;){if(w===t)return s;s+=w.length(),w=w.next}return-1}remove(t){this.contains(t)&&(t.prev!=null&&(t.prev.next=t.next),t.next!=null&&(t.next.prev=t.prev),t===this.head&&(this.head=t.next),t===this.tail&&(this.tail=t.prev),--this.length)}iterator(t=this.head){return()=>{var s=t;return t!=null&&(t=t.next),s}}find(t,s=!1){const w=this.iterator();let T=w();for(;T;){var j=T.length();if(t<j||s&&t===j&&(T.next==null||T.next.length()!==0))return[T,t];t-=j,T=w()}return[null,0]}forEach(t){const s=this.iterator();let w=s();for(;w;)t(w),w=s()}forEachAt(t,s,w){if(!(s<=0)){const[T,j]=this.find(t);let B=t-j;const f=this.iterator(T);let g=f();for(;g&&B<t+s;){const k=g.length();t>B?w(g,t-B,Math.min(s,B+k-t)):w(g,0,Math.min(k,t+s-B)),B+=k,g=f()}}}map(t){return this.reduce((s,w)=>(s.push(t(w)),s),[])}reduce(t,s){const w=this.iterator();let T=w();for(;T;)s=t(s,T),T=w();return s}}function S(b,t){const s=t.find(b);if(s)return s;try{return t.create(b)}catch{const w=t.create(u.INLINE);return Array.from(b.childNodes).forEach(T=>{w.domNode.appendChild(T)}),b.parentNode&&b.parentNode.replaceChild(w.domNode,b),w.attach(),w}}C=class ye extends r{constructor(t,s){super(t,s),this.uiNode=null,this.build()}appendChild(t){this.insertBefore(t)}attach(){super.attach(),this.children.forEach(t=>{t.attach()})}attachUI(t){this.uiNode!=null&&this.uiNode.remove(),this.uiNode=t,ye.uiClass&&this.uiNode.classList.add(ye.uiClass),this.uiNode.setAttribute("contenteditable","false"),this.domNode.insertBefore(this.uiNode,this.domNode.firstChild)}build(){this.children=new x,Array.from(this.domNode.childNodes).filter(t=>t!==this.uiNode).reverse().forEach(t=>{try{var s=S(t,this.scroll);this.insertBefore(s,this.children.head||void 0)}catch(w){if(w instanceof R)return;throw w}})}deleteAt(t,s){if(t===0&&s===this.length())return this.remove();this.children.forEachAt(t,s,(w,T,j)=>{w.deleteAt(T,j)})}descendant(t,s=0){const[w,T]=this.children.find(s);return t.blotName==null&&t(w)||t.blotName!=null&&w instanceof t?[w,T]:w instanceof ye?w.descendant(t,T):[null,-1]}descendants(t,s=0,w=Number.MAX_VALUE){let T=[],j=w;return this.children.forEachAt(s,w,(B,f,g)=>{(t.blotName==null&&t(B)||t.blotName!=null&&B instanceof t)&&T.push(B),B instanceof ye&&(T=T.concat(B.descendants(t,f,j))),j-=g}),T}detach(){this.children.forEach(t=>{t.detach()}),super.detach()}enforceAllowedChildren(){let t=!1;this.children.forEach(s=>{t||this.statics.allowedChildren.some(w=>s instanceof w)||(s.statics.scope===u.BLOCK_BLOT?(s.next!=null&&this.splitAfter(s),s.prev!=null&&this.splitAfter(s.prev),s.parent.unwrap(),t=!0):s instanceof ye?s.unwrap():s.remove())})}formatAt(t,s,w,T){this.children.forEachAt(t,s,(j,B,f)=>{j.formatAt(B,f,w,T)})}insertAt(t,s,w){const[T,j]=this.children.find(t);if(T)T.insertAt(j,s,w);else{const B=w==null?this.scroll.create("text",s):this.scroll.create(s,w);this.appendChild(B)}}insertBefore(t,s){t.parent!=null&&t.parent.children.remove(t);let w=null;this.children.insertBefore(t,s||null),t.parent=this,s!=null&&(w=s.domNode),this.domNode.parentNode===t.domNode&&this.domNode.nextSibling===w||this.domNode.insertBefore(t.domNode,w),t.attach()}length(){return this.children.reduce((t,s)=>t+s.length(),0)}moveChildren(t,s){this.children.forEach(w=>{t.insertBefore(w,s)})}optimize(t){if(super.optimize(t),this.enforceAllowedChildren(),this.uiNode!=null&&this.uiNode!==this.domNode.firstChild&&this.domNode.insertBefore(this.uiNode,this.domNode.firstChild),this.children.length===0)if(this.statics.defaultChild!=null){const s=this.scroll.create(this.statics.defaultChild.blotName);this.appendChild(s)}else this.remove()}path(t,s=!1){const[w,T]=this.children.find(t,s),j=[[this,t]];return w instanceof ye?j.concat(w.path(T,s)):(w!=null&&j.push([w,T]),j)}removeChild(t){this.children.remove(t)}replaceWith(t,s){return s=typeof t=="string"?this.scroll.create(t,s):t,s instanceof ye&&this.moveChildren(s),super.replaceWith(s)}split(t,s=!1){if(!s){if(t===0)return this;if(t===this.length())return this.next}const w=this.clone();return this.parent&&this.parent.insertBefore(w,this.next||void 0),this.children.forEachAt(t,this.length(),(T,j,B)=>{T=T.split(j,s),T!=null&&w.appendChild(T)}),w}splitAfter(t){const s=this.clone();for(;t.next!=null;)s.appendChild(t.next);return this.parent&&this.parent.insertBefore(s,this.next||void 0),s}unwrap(){this.parent&&this.moveChildren(this.parent,this.next||void 0),this.remove()}update(t,s){const w=[],T=[];t.forEach(j=>{j.target===this.domNode&&j.type==="childList"&&(w.push(...j.addedNodes),T.push(...j.removedNodes))}),T.forEach(j=>{if(!(j.parentNode!=null&&j.tagName!=="IFRAME"&&document.body.compareDocumentPosition(j)&Node.DOCUMENT_POSITION_CONTAINED_BY)){const B=this.scroll.find(j);B==null||B.domNode.parentNode!=null&&B.domNode.parentNode!==this.domNode||B.detach()}}),w.filter(j=>j.parentNode===this.domNode&&j!==this.uiNode).sort((j,B)=>j===B?0:j.compareDocumentPosition(B)&Node.DOCUMENT_POSITION_FOLLOWING?1:-1).forEach(j=>{let B=null;j.nextSibling!=null&&(B=this.scroll.find(j.nextSibling));const f=S(j,this.scroll);f.next===B&&f.next!=null||(f.parent!=null&&f.parent.removeChild(this),this.insertBefore(f,B||void 0))}),this.enforceAllowedChildren()}},C.uiClass="";const I=C,X=class ve extends I{static create(t){return super.create(t)}static formats(t,s){if(s=s.query(ve.blotName),s==null||t.tagName!==s.tagName)return typeof this.tagName=="string"||(Array.isArray(this.tagName)?t.tagName.toLowerCase():void 0)}constructor(t,s){super(t,s),this.attributes=new p(this.domNode)}format(t,s){if(t!==this.statics.blotName||s){const w=this.scroll.query(t,u.INLINE);w!=null&&(w instanceof y?this.attributes.attribute(w,s):!s||t===this.statics.blotName&&this.formats()[t]===s||this.replaceWith(t,s))}else this.children.forEach(w=>{w instanceof ve||(w=w.wrap(ve.blotName,!0)),this.attributes.copy(w)}),this.unwrap()}formats(){const t=this.attributes.values(),s=this.statics.formats(this.domNode,this.scroll);return s!=null&&(t[this.statics.blotName]=s),t}formatAt(t,s,w,T){this.formats()[w]!=null||this.scroll.query(w,u.ATTRIBUTE)?this.isolate(t,s).format(w,T):super.formatAt(t,s,w,T)}optimize(t){if(super.optimize(t),t=this.formats(),Object.keys(t).length===0)return this.unwrap();const s=this.next;s instanceof ve&&s.prev===this&&function(w,T){if(Object.keys(w).length===Object.keys(T).length){for(const j in w)if(w[j]!==T[j])return;return 1}}(t,s.formats())&&(s.moveChildren(this),s.remove())}replaceWith(t,s){return t=super.replaceWith(t,s),this.attributes.copy(t),t}update(t,s){super.update(t,s),t.some(w=>w.target===this.domNode&&w.type==="attributes")&&this.attributes.build()}wrap(t,s){return t=super.wrap(t,s),t instanceof ve&&this.attributes.move(t),t}},Y=(X.allowedChildren=[X,a],X.blotName="inline",X.scope=u.INLINE_BLOT,X.tagName="SPAN",X),G=class Se extends I{static create(t){return super.create(t)}static formats(t,s){if(s=s.query(Se.blotName),s==null||t.tagName!==s.tagName)return typeof this.tagName=="string"||(Array.isArray(this.tagName)?t.tagName.toLowerCase():void 0)}constructor(t,s){super(t,s),this.attributes=new p(this.domNode)}format(t,s){var w=this.scroll.query(t,u.BLOCK);w!=null&&(w instanceof y?this.attributes.attribute(w,s):t!==this.statics.blotName||s?!s||t===this.statics.blotName&&this.formats()[t]===s||this.replaceWith(t,s):this.replaceWith(Se.blotName))}formats(){const t=this.attributes.values(),s=this.statics.formats(this.domNode,this.scroll);return s!=null&&(t[this.statics.blotName]=s),t}formatAt(t,s,w,T){this.scroll.query(w,u.BLOCK)!=null?this.format(w,T):super.formatAt(t,s,w,T)}insertAt(t,s,w){if(w==null||this.scroll.query(s,u.INLINE)!=null)super.insertAt(t,s,w);else{const T=this.split(t);if(T==null)throw new Error("Attempt to insertAt after block boundaries");{const j=this.scroll.create(s,w);T.parent.insertBefore(j,T)}}}replaceWith(t,s){return t=super.replaceWith(t,s),this.attributes.copy(t),t}update(t,s){super.update(t,s),t.some(w=>w.target===this.domNode&&w.type==="attributes")&&this.attributes.build()}},L=(G.blotName="block",G.scope=u.BLOCK_BLOT,G.tagName="P",G.allowedChildren=[Y,G,a],G),v=class extends I{checkMerge(){return this.next!==null&&this.next.statics.blotName===this.statics.blotName}deleteAt(b,t){super.deleteAt(b,t),this.enforceAllowedChildren()}formatAt(b,t,s,w){super.formatAt(b,t,s,w),this.enforceAllowedChildren()}insertAt(b,t,s){super.insertAt(b,t,s),this.enforceAllowedChildren()}optimize(b){super.optimize(b),0<this.children.length&&this.next!=null&&this.checkMerge()&&(this.next.moveChildren(this),this.next.remove())}},H=(v.blotName="container",v.scope=u.BLOCK_BLOT,v),O=class extends a{static formats(b,t){}format(b,t){super.formatAt(0,this.length(),b,t)}formatAt(b,t,s,w){b===0&&t===this.length()?this.format(s,w):super.formatAt(b,t,s,w)}formats(){return this.statics.formats(this.domNode,this.scroll)}},W={attributes:!0,characterData:!0,characterDataOldValue:!0,childList:!0,subtree:!0},et=class extends I{constructor(b,t){super(null,t),this.registry=b,(this.scroll=this).build(),this.observer=new MutationObserver(s=>{this.update(s)}),this.observer.observe(this.domNode,W),this.attach()}create(b,t){return this.registry.create(this,b,t)}find(b,t=!1){return b=this.registry.find(b,t),b?b.scroll===this?b:t?this.find(b.scroll.domNode.parentNode,!0):null:null}query(b,t=u.ANY){return this.registry.query(b,t)}register(...b){return this.registry.register(...b)}build(){this.scroll!=null&&super.build()}detach(){super.detach(),this.observer.disconnect()}deleteAt(b,t){this.update(),b===0&&t===this.length()?this.children.forEach(s=>{s.remove()}):super.deleteAt(b,t)}formatAt(b,t,s,w){this.update(),super.formatAt(b,t,s,w)}insertAt(b,t,s){this.update(),super.insertAt(b,t,s)}optimize(b=[],t={}){super.optimize(t);const s=t.mutationsMap||new WeakMap;let w=Array.from(this.observer.takeRecords());for(;0<w.length;)b.push(w.pop());const T=(f,g=!0)=>{f!=null&&f!==this&&f.domNode.parentNode!=null&&(s.has(f.domNode)||s.set(f.domNode,[]),g&&T(f.parent))},j=f=>{s.has(f.domNode)&&(f instanceof I&&f.children.forEach(j),s.delete(f.domNode),f.optimize(t))};let B=b;for(let f=0;0<B.length;f+=1){if(100<=f)throw new Error("[Parchment] Maximum optimize iterations reached");for(B.forEach(g=>{var k=this.find(g.target,!0);k!=null&&(k.domNode===g.target&&(g.type==="childList"?(T(this.find(g.previousSibling,!1)),Array.from(g.addedNodes).forEach(A=>{const o=this.find(A,!1);T(o,!1),o instanceof I&&o.children.forEach(e=>{T(e,!1)})})):g.type==="attributes"&&T(k.prev)),T(k))}),this.children.forEach(j),B=Array.from(this.observer.takeRecords()),w=B.slice();0<w.length;)b.push(w.pop())}}update(b,t={}){b=b||this.observer.takeRecords();const s=new WeakMap;b.map(w=>{var T=this.find(w.target,!0);return T==null?null:s.has(T.domNode)?(s.get(T.domNode).push(w),null):(s.set(T.domNode,[w]),T)}).forEach(w=>{w!=null&&w!==this&&s.has(w.domNode)&&w.update(s.get(w.domNode)||[],t)}),(t.mutationsMap=s).has(this.domNode)&&super.update(s.get(this.domNode),t),this.optimize(b,t)}},at=(et.blotName="scroll",et.defaultChild=L,et.allowedChildren=[L,H],et.scope=u.BLOCK_BLOT,et.tagName="DIV",et),rt=class Oe extends a{static create(t){return document.createTextNode(t)}static value(t){return t.data}constructor(t,s){super(t,s),this.text=this.statics.value(this.domNode)}deleteAt(t,s){this.domNode.data=this.text=this.text.slice(0,t)+this.text.slice(t+s)}index(t,s){return this.domNode===t?s:-1}insertAt(t,s,w){w==null?(this.text=this.text.slice(0,t)+s+this.text.slice(t),this.domNode.data=this.text):super.insertAt(t,s,w)}length(){return this.text.length}optimize(t){super.optimize(t),this.text=this.statics.value(this.domNode),this.text.length===0?this.remove():this.next instanceof Oe&&this.next.prev===this&&(this.insertAt(this.length(),this.next.value()),this.next.remove())}position(t,s=0){return[this.domNode,t]}split(t,s=!1){if(!s){if(t===0)return this;if(t===this.length())return this.next}return s=this.scroll.create(this.domNode.splitText(t)),this.parent.insertBefore(s,this.next||void 0),this.text=this.statics.value(this.domNode),s}update(t,s){t.some(w=>w.type==="characterData"&&w.target===this.domNode)&&(this.text=this.statics.value(this.domNode))}value(){return this.text}},st=(rt.blotName="text",rt.scope=u.INLINE_BLOT,rt)}},qe={},qt.n=function(Z){var C=Z&&Z.__esModule?function(){return Z.default}:function(){return Z};return qt.d(C,{a:C}),C},qt.d=function(Z,C){for(var r in C)qt.o(C,r)&&!qt.o(Z,r)&&Object.defineProperty(Z,r,{enumerable:!0,get:C[r]})},qt.g=function(){if(typeof globalThis=="object")return globalThis;try{return this||new Function("return this")()}catch{if(typeof window=="object")return window}}(),qt.o=function(Z,C){return Object.prototype.hasOwnProperty.call(Z,C)},qt.r=function(Z){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(Z,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(Z,"__esModule",{value:!0})},qt.nmd=function(Z){return Z.paths=[],Z.children||(Z.children=[]),Z},ke={},function(){var $t,Ft;qt.d(ke,{default:function(){return re}});var Z=qt(3729),C=qt(8276),r=qt(7912),u=qt(6003);class y extends u.ClassAttributor{add(n,h){let P=0;var K;return h==="+1"||h==="-1"?(K=this.value(n)||0,P=h==="+1"?K+1:K-1):typeof h=="number"&&(P=h),P===0?(this.remove(n),!0):super.add(n,P.toString())}canAdd(n,h){return super.canAdd(n,h)||super.canAdd(n,parseInt(h,10))}value(n){return parseInt(super.value(n),10)||void 0}}var R=new y("indent","ql-indent",{scope:u.Scope.BLOCK,whitelist:[1,2,3,4,5,6,7,8]}),d=qt(9698);class _ extends d.Ay{}dt(_,"blotName","blockquote"),dt(_,"tagName","blockquote");var c=_;class E extends d.Ay{static formats(n){return this.tagName.indexOf(n.tagName)+1}}dt(E,"blotName","header"),dt(E,"tagName",["H1","H2","H3","H4","H5","H6"]);var l=E,Lt=qt(580),p=qt(6142);class U extends Lt.A{}U.blotName="list-container",U.tagName="OL";class a extends d.Ay{static create(n){const h=super.create();return h.setAttribute("data-list",n),h}static formats(n){return n.getAttribute("data-list")||void 0}static register(){p.Ay.register(U)}constructor(n,h){super(n,h);const P=h.ownerDocument.createElement("span"),K=it=>{var mt;n.isEnabled()&&((mt=this.statics.formats(h,n))==="checked"?(this.format("list","unchecked"),it.preventDefault()):mt==="unchecked"&&(this.format("list","checked"),it.preventDefault()))};P.addEventListener("mousedown",K),P.addEventListener("touchstart",K),this.attachUI(P)}format(n,h){n===this.statics.blotName&&h?this.domNode.setAttribute("data-list",h):super.format(n,h)}}a.blotName="list",a.tagName="LI",U.allowedChildren=[a],a.requiredContainer=U;var x=qt(9541),S=qt(8638),I=qt(6772),X=qt(664),Y=qt(4850);class G extends Y.A{static create(){return super.create()}static formats(){return!0}optimize(n){super.optimize(n),this.domNode.tagName!==this.statics.tagName[0]&&this.replaceWith(this.statics.blotName)}}dt(G,"blotName","bold"),dt(G,"tagName",["STRONG","B"]);var L=G;class v extends Y.A{static create(n){const h=super.create(n);return h.setAttribute("href",this.sanitize(n)),h.setAttribute("rel","noopener noreferrer"),h.setAttribute("target","_blank"),h}static formats(n){return n.getAttribute("href")}static sanitize(n){return H(n,this.PROTOCOL_WHITELIST)?n:this.SANITIZED_URL}format(n,h){n===this.statics.blotName&&h?this.domNode.setAttribute("href",this.constructor.sanitize(h)):super.format(n,h)}}dt(v,"blotName","link"),dt(v,"tagName","A"),dt(v,"SANITIZED_URL","about:blank"),dt(v,"PROTOCOL_WHITELIST",["http","https","mailto","tel","sms"]);function H(V,n){const h=document.createElement("a");return h.href=V,V=h.href.slice(0,h.href.indexOf(":")),-1<n.indexOf(V)}class O extends Y.A{static create(n){return n==="super"?document.createElement("sup"):n==="sub"?document.createElement("sub"):super.create(n)}static formats(n){return n.tagName==="SUB"?"sub":n.tagName==="SUP"?"super":void 0}}dt(O,"blotName","script"),dt(O,"tagName",["SUB","SUP"]);var W=O;class et extends Y.A{}dt(et,"blotName","underline"),dt(et,"tagName","U");var at=et;class rt extends qt(746).A{static create(n){if(window.katex==null)throw new Error("Formula module requires KaTeX.");const h=super.create(n);return typeof n=="string"&&(window.katex.render(n,h,{throwOnError:!1,errorColor:"#f00"}),h.setAttribute("data-value",n)),h}static value(n){return n.getAttribute("data-value")}html(){var n=this.value().formula;return`<span>${n}</span>`}}dt(rt,"blotName","formula"),dt(rt,"className","ql-formula"),dt(rt,"tagName","SPAN");var st=rt;const b=["alt","height","width"];class t extends u.EmbedBlot{static create(n){const h=super.create(n);return typeof n=="string"&&h.setAttribute("src",this.sanitize(n)),h}static formats(n){return b.reduce((h,P)=>(n.hasAttribute(P)&&(h[P]=n.getAttribute(P)),h),{})}static match(n){return/\.(jpe?g|gif|png)$/.test(n)||/^data:image\/.+;base64/.test(n)}static sanitize(n){return H(n,["http","https","data"])?n:"//:0"}static value(n){return n.getAttribute("src")}format(n,h){-1<b.indexOf(n)?h?this.domNode.setAttribute(n,h):this.domNode.removeAttribute(n):super.format(n,h)}}dt(t,"blotName","image"),dt(t,"tagName","IMG");var s=t;const w=["height","width"];class T extends d.zo{static create(n){const h=super.create(n);return h.setAttribute("frameborder","0"),h.setAttribute("allowfullscreen","true"),h.setAttribute("src",this.sanitize(n)),h}static formats(n){return w.reduce((h,P)=>(n.hasAttribute(P)&&(h[P]=n.getAttribute(P)),h),{})}static sanitize(n){return v.sanitize(n)}static value(n){return n.getAttribute("src")}format(n,h){-1<w.indexOf(n)?h?this.domNode.setAttribute(n,h):this.domNode.removeAttribute(n):super.format(n,h)}html(){var n=this.value().video;return`<a href="${n}">${n}</a>`}}dt(T,"blotName","video"),dt(T,"className","ql-video"),dt(T,"tagName","IFRAME");var j=T,B=qt(9404),Nt=qt(5232),f=qt.n(Nt),Nt=qt(4266),ht=qt(3036),zt=qt(4541),g=qt(5508),k=qt(584);const A=new u.ClassAttributor("code-token","hljs",{scope:u.Scope.INLINE});class o extends Y.A{static formats(n,h){for(;n!=null&&n!==h.domNode;){if(n.classList&&n.classList.contains(B.Ay.className))return super.formats(n,h);n=n.parentNode}}constructor(n,h,P){super(n,h,P),A.add(this.domNode,P)}format(n,h){n!==o.blotName?super.format(n,h):h?A.add(this.domNode,h):(A.remove(this.domNode),this.domNode.classList.remove(this.statics.className))}optimize(){super.optimize(...arguments),A.value(this.domNode)||this.unwrap()}}o.blotName="code-token",o.className="ql-token";class e extends B.Ay{static create(n){const h=super.create(n);return typeof n=="string"&&h.setAttribute("data-language",n),h}static formats(n){return n.getAttribute("data-language")||"plain"}static register(){}format(n,h){n===this.statics.blotName&&h?this.domNode.setAttribute("data-language",h):super.format(n,h)}replaceWith(n,h){return this.formatAt(0,this.length(),o.blotName,!1),super.replaceWith(n,h)}}class m extends B.EJ{attach(){super.attach(),this.forceNext=!1,this.scroll.emitMount(this)}format(n,h){n===e.blotName&&(this.forceNext=!0,this.children.forEach(P=>{P.format(n,h)}))}formatAt(n,h,P,K){P===e.blotName&&(this.forceNext=!0),super.formatAt(n,h,P,K)}highlight(n){let h=1<arguments.length&&arguments[1]!==void 0&&arguments[1];if(this.children.head!=null){const P=Array.from(this.domNode.childNodes).filter(it=>it!==this.uiNode).map(it=>it.textContent).join(`
`)+`
`,K=e.formats(this.children.head.domNode);if(h||this.forceNext||this.cachedText!==P){if(0<P.trim().length||this.cachedText==null){const it=this.children.reduce((i,N)=>i.concat((0,d.mG)(N,!1)),new(f())),mt=n(P,K);it.diff(mt).reduce((i,N)=>{let{retain:M,attributes:J}=N;return M?(J&&Object.keys(J).forEach(At=>{[e.blotName,o.blotName].includes(At)&&this.formatAt(i,M,At,J[At])}),i+M):i},0)}this.cachedText=P,this.forceNext=!1}}}html(n,h){var[P]=this.children.find(n);return`<pre data-language="${P?e.formats(P.domNode):"plain"}">
${(0,g.X)(this.code(n,h))}
</pre>`}optimize(n){if(super.optimize(n),this.parent!=null&&this.children.head!=null&&this.uiNode!=null){const h=e.formats(this.children.head.domNode);h!==this.uiNode.value&&(this.uiNode.value=h)}}}m.allowedChildren=[e],e.requiredContainer=m,e.allowedChildren=[o,zt.A,g.A,ht.A];class D extends Nt.A{static register(){p.Ay.register(o,!0),p.Ay.register(e,!0),p.Ay.register(m,!0)}constructor(n,h){if(super(n,h),this.options.hljs==null)throw new Error("Syntax module requires highlight.js. Please include the library on the page before Quill.");this.languages=this.options.languages.reduce((P,K)=>(K=K.key,P[K]=!0,P),{}),this.highlightBlot=this.highlightBlot.bind(this),this.initListener(),this.initTimer()}initListener(){this.quill.on(p.Ay.events.SCROLL_BLOT_MOUNT,n=>{if(n instanceof m){const h=this.quill.root.ownerDocument.createElement("select");this.options.languages.forEach(K=>{var{key:K,label:it}=K;const mt=h.ownerDocument.createElement("option");mt.textContent=it,mt.setAttribute("value",K),h.appendChild(mt)}),h.addEventListener("change",()=>{n.format(e.blotName,h.value),this.quill.root.focus(),this.highlight(n,!0)}),n.uiNode==null&&(n.attachUI(h),n.children.head&&(h.value=e.formats(n.children.head.domNode)))}})}initTimer(){let n=null;this.quill.on(p.Ay.events.SCROLL_OPTIMIZE,()=>{n&&clearTimeout(n),n=setTimeout(()=>{this.highlight(),n=null},this.options.interval)})}highlight(){let n=0<arguments.length&&arguments[0]!==void 0?arguments[0]:null,h=1<arguments.length&&arguments[1]!==void 0&&arguments[1];var P;this.quill.selection.composing||(this.quill.update(p.Ay.sources.USER),P=this.quill.getSelection(),(n==null?this.quill.scroll.descendants(m):[n]).forEach(K=>{K.highlight(this.highlightBlot,h)}),this.quill.update(p.Ay.sources.SILENT),P!=null&&this.quill.setSelection(P,p.Ay.sources.SILENT))}highlightBlot(n){let h=1<arguments.length&&arguments[1]!==void 0?arguments[1]:"plain";if((h=this.languages[h]?h:"plain")==="plain")return(0,g.X)(n).split(`
`).reduce((K,it,mt)=>(mt!==0&&K.insert(`
`,{[B.Ay.blotName]:h}),K.insert(it)),new(f()));const P=this.quill.root.ownerDocument.createElement("div");return P.classList.add(B.Ay.className),P.innerHTML=((K,it,mt)=>{if(typeof K.versionString=="string"){var i=K.versionString.split(".")[0];if(11<=parseInt(i,10))return K.highlight(mt,{language:it}).value}return K.highlight(it,mt).value})(this.options.hljs,h,n),(0,k.hV)(this.quill.scroll,P,[(K,it)=>(K=A.value(K),K?it.compose(new(f())().retain(it.length(),{[o.blotName]:K})):it)],[(K,it)=>K.data.split(`
`).reduce((mt,i,N)=>(N!==0&&mt.insert(`
`,{[B.Ay.blotName]:h}),mt.insert(i)),it)],new WeakMap)}}D.DEFAULTS={hljs:window.hljs,interval:1e3,languages:[{key:"plain",label:"Plain"},{key:"bash",label:"Bash"},{key:"cpp",label:"C++"},{key:"cs",label:"C#"},{key:"css",label:"CSS"},{key:"diff",label:"Diff"},{key:"xml",label:"HTML/XML"},{key:"java",label:"Java"},{key:"javascript",label:"JavaScript"},{key:"markdown",label:"Markdown"},{key:"php",label:"PHP"},{key:"python",label:"Python"},{key:"ruby",label:"Ruby"},{key:"sql",label:"SQL"}]};const Vt=class Vt extends d.Ay{static create(n){const h=super.create();return n?h.setAttribute("data-row",n):h.setAttribute("data-row",nt()),h}static formats(n){if(n.hasAttribute("data-row"))return n.getAttribute("data-row")}cellOffset(){return this.parent?this.parent.children.indexOf(this):-1}format(n,h){n===Vt.blotName&&h?this.domNode.setAttribute("data-row",h):super.format(n,h)}row(){return this.parent}rowOffset(){return this.row()?this.row().rowOffset():-1}table(){return this.row()&&this.row().table()}};dt(Vt,"blotName","table"),dt(Vt,"tagName","TD");let q=Vt;class z extends Lt.A{checkMerge(){var n,h,P,K;return!(!super.checkMerge()||this.next.children.head==null)&&(n=this.children.head.formats(),h=this.children.tail.formats(),P=this.next.children.head.formats(),K=this.next.children.tail.formats(),n.table===h.table&&n.table===P.table&&n.table===K.table)}optimize(n){super.optimize(n),this.children.forEach(h=>{if(h.next!=null){const P=h.formats(),K=h.next.formats();if(P.table!==K.table){const it=this.splitAfter(h);it&&it.optimize(),this.prev&&this.prev.optimize()}}})}rowOffset(){return this.parent?this.parent.children.indexOf(this):-1}table(){return this.parent&&this.parent.parent}}dt(z,"blotName","table-row"),dt(z,"tagName","TR");class F extends Lt.A{}dt(F,"blotName","table-body"),dt(F,"tagName","TBODY");class $ extends Lt.A{balanceCells(){const n=this.descendants(z),h=n.reduce((P,K)=>Math.max(K.children.length,P),0);n.forEach(P=>{new Array(h-P.children.length).fill(0).forEach(()=>{let K;P.children.head!=null&&(K=q.formats(P.children.head.domNode));const it=this.scroll.create(q.blotName,K);P.appendChild(it),it.optimize()})})}cells(n){return this.rows().map(h=>h.children.at(n))}deleteColumn(n){const[h]=this.descendant(F);h!=null&&h.children.head!=null&&h.children.forEach(P=>{const K=P.children.at(n);K!=null&&K.remove()})}insertColumn(n){const[h]=this.descendant(F);h!=null&&h.children.head!=null&&h.children.forEach(P=>{var K=P.children.at(n),it=q.formats(P.children.head.domNode),it=this.scroll.create(q.blotName,it);P.insertBefore(it,K)})}insertRow(n){const[h]=this.descendant(F);if(h!=null&&h.children.head!=null){const P=nt(),K=this.scroll.create(z.blotName);h.children.head.children.forEach(()=>{var it=this.scroll.create(q.blotName,P);K.appendChild(it)}),n=h.children.at(n),h.insertBefore(K,n)}}rows(){const n=this.children.head;return n==null?[]:n.children.map(h=>h)}}dt($,"blotName","table-container"),dt($,"tagName","TABLE");function nt(){return"row-"+Math.random().toString(36).slice(2,6)}$.allowedChildren=[F],F.requiredContainer=$,F.allowedChildren=[z],z.requiredContainer=F,z.allowedChildren=[q],q.requiredContainer=z;class ut extends Nt.A{static register(){p.Ay.register(q),p.Ay.register(z),p.Ay.register(F),p.Ay.register($)}constructor(){super(...arguments),this.listenBalanceCells()}balanceTables(){this.quill.scroll.descendants($).forEach(n=>{n.balanceCells()})}deleteColumn(){const[n,,h]=this.getTable();h!=null&&(n.deleteColumn(h.cellOffset()),this.quill.update(p.Ay.sources.USER))}deleteRow(){const[,n]=this.getTable();n!=null&&(n.remove(),this.quill.update(p.Ay.sources.USER))}deleteTable(){const[n]=this.getTable();var h;n!=null&&(h=n.offset(),n.remove(),this.quill.update(p.Ay.sources.USER),this.quill.setSelection(h,p.Ay.sources.SILENT))}getTable(){var n=0<arguments.length&&arguments[0]!==void 0?arguments[0]:this.quill.getSelection();if(n==null)return[null,null,null,-1];var[n,h]=this.quill.getLine(n.index);if(n==null||n.statics.blotName!==q.blotName)return[null,null,null,-1];var P=n.parent;return[P.parent.parent,P,n,h]}insertColumn(n){var h=this.quill.getSelection();if(h){const[K,it,mt]=this.getTable(h);if(mt!=null){var P=mt.cellOffset();K.insertColumn(P+n),this.quill.update(p.Ay.sources.USER);let i=it.rowOffset();n===0&&(i+=1),this.quill.setSelection(h.index+i,h.length,p.Ay.sources.SILENT)}}}insertColumnLeft(){this.insertColumn(0)}insertColumnRight(){this.insertColumn(1)}insertRow(n){var h,P=this.quill.getSelection();if(P){const[K,it,mt]=this.getTable(P);mt!=null&&(h=it.rowOffset(),K.insertRow(h+n),this.quill.update(p.Ay.sources.USER),0<n?this.quill.setSelection(P,p.Ay.sources.SILENT):this.quill.setSelection(P.index+it.children.length,P.length,p.Ay.sources.SILENT))}}insertRowAbove(){this.insertRow(0)}insertRowBelow(){this.insertRow(1)}insertTable(n,h){var P=this.quill.getSelection();P!=null&&(n=new Array(n).fill(0).reduce(K=>{var it=new Array(h).fill(`
`).join("");return K.insert(it,{table:nt()})},new(f())().retain(P.index)),this.quill.updateContents(n,p.Ay.sources.USER),this.quill.setSelection(P.index,p.Ay.sources.SILENT),this.balanceTables())}listenBalanceCells(){this.quill.on(p.Ay.events.SCROLL_OPTIMIZE,n=>{n.some(h=>!!["TD","TR","TBODY","TABLE"].includes(h.target.tagName)&&(this.quill.once(p.Ay.events.TEXT_CHANGE,(P,K,it)=>{it===p.Ay.sources.USER&&this.balanceTables()}),!0))})}}Y=ut;const Q=(0,qt(6078).A)("quill:toolbar");class ct extends Nt.A{constructor(n,h){var it,mt;if(super(n,h),Array.isArray(this.options.container)){const i=document.createElement("div");i.setAttribute("role","toolbar"),P=i,K=this.options.container,(K=Array.isArray(K[0])?K:[K]).forEach(N=>{const M=document.createElement("span");M.classList.add("ql-formats"),N.forEach(J=>{var At;typeof J=="string"?tt(M,J):(At=J[J=Object.keys(J)[0]],(Array.isArray(At)?function(yt,Et,kt){const Rt=document.createElement("select");Rt.classList.add("ql-"+Et),kt.forEach(Dt=>{const jt=document.createElement("option");Dt!==!1?jt.setAttribute("value",String(Dt)):jt.setAttribute("selected","selected"),Rt.appendChild(jt)}),yt.appendChild(Rt)}:tt)(M,J,At))}),P.appendChild(M)}),(mt=(it=n.container)==null?void 0:it.parentNode)==null||mt.insertBefore(i,n.container),this.container=i}else typeof this.options.container=="string"?this.container=document.querySelector(this.options.container):this.container=this.options.container;var P,K;this.container instanceof HTMLElement?(this.container.classList.add("ql-toolbar"),this.controls=[],this.handlers={},this.options.handlers&&Object.keys(this.options.handlers).forEach(i=>{var M;var N=(M=this.options.handlers)==null?void 0:M[i];N&&this.addHandler(i,N)}),Array.from(this.container.querySelectorAll("button, select")).forEach(i=>{this.attach(i)}),this.quill.on(p.Ay.events.EDITOR_CHANGE,()=>{var[i]=this.quill.selection.getRange();this.update(i)})):Q.error("Container required for toolbar",this.options)}addHandler(n,h){this.handlers[n]=h}attach(n){let h=Array.from(n.classList).find(K=>K.indexOf("ql-")===0);var P;h&&(h=h.slice(3),n.tagName==="BUTTON"&&n.setAttribute("type","button"),this.handlers[h]==null&&this.quill.scroll.query(h)==null?Q.warn("ignoring attaching to nonexistent format",h,n):(P=n.tagName==="SELECT"?"change":"click",n.addEventListener(P,mt=>{let it;if(n.tagName==="SELECT"){if(n.selectedIndex<0)return;const i=n.options[n.selectedIndex];it=!i.hasAttribute("selected")&&(i.value||!1)}else it=!n.classList.contains("ql-active")&&(n.value||!n.hasAttribute("value")),mt.preventDefault();this.quill.focus();var[mt]=this.quill.selection.getRange();if(this.handlers[h]!=null)this.handlers[h].call(this,it);else if(this.quill.scroll.query(h).prototype instanceof u.EmbedBlot){if(!(it=prompt("Enter "+h)))return;this.quill.updateContents(new(f())().retain(mt.index).delete(mt.length).insert({[h]:it}),p.Ay.sources.USER)}else this.quill.format(h,it,p.Ay.sources.USER);this.update(mt)}),this.controls.push([h,n])))}update(n){const h=n==null?{}:this.quill.getFormat(n);this.controls.forEach(P=>{const[K,it]=P;if(it.tagName==="SELECT"){let mt=null;if(n==null)mt=null;else if(h[K]==null)mt=it.querySelector("option[selected]");else if(!Array.isArray(h[K])){let i=h[K];typeof i=="string"&&(i=i.replace(/"/g,'\\"')),mt=it.querySelector(`option[value="${i}"]`)}mt==null?(it.value="",it.selectedIndex=-1):mt.selected=!0}else if(n==null)it.classList.remove("ql-active"),it.setAttribute("aria-pressed","false");else if(it.hasAttribute("value")){const mt=h[K],i=mt===it.getAttribute("value")||mt!=null&&mt.toString()===it.getAttribute("value")||mt==null&&!it.getAttribute("value");it.classList.toggle("ql-active",i),it.setAttribute("aria-pressed",i.toString())}else{const mt=h[K]!=null;it.classList.toggle("ql-active",mt),it.setAttribute("aria-pressed",mt.toString())}})}}function tt(V,n,h){const P=document.createElement("button");P.setAttribute("type","button"),P.classList.add("ql-"+n),P.setAttribute("aria-pressed","false"),h!=null?(P.value=h,P.setAttribute("aria-label",n+": "+h)):P.setAttribute("aria-label",n),V.appendChild(P)}ct.DEFAULTS={},ct.DEFAULTS={container:null,handlers:{clean(){const V=this.quill.getSelection();if(V!=null)if(V.length===0){const n=this.quill.getFormat();Object.keys(n).forEach(h=>{this.quill.scroll.query(h,u.Scope.INLINE)!=null&&this.quill.format(h,!1,p.Ay.sources.USER)})}else this.quill.removeFormat(V.index,V.length,p.Ay.sources.USER)},direction(V){var n=this.quill.getFormat().align;V==="rtl"&&n==null?this.quill.format("align","right",p.Ay.sources.USER):V||n!=="right"||this.quill.format("align",!1,p.Ay.sources.USER),this.quill.format("direction",V,p.Ay.sources.USER)},indent(V){var n=this.quill.getSelection(),n=this.quill.getFormat(n),h=parseInt(n.indent||0,10);if(V==="+1"||V==="-1"){let P=V==="+1"?1:-1;n.direction==="rtl"&&(P*=-1),this.quill.format("indent",h+P,p.Ay.sources.USER)}},link(V){V===!0&&(V=prompt("Enter link URL:")),this.quill.format("link",V,p.Ay.sources.USER)},list(V){var n=this.quill.getSelection(),n=this.quill.getFormat(n);V==="check"?n.list==="checked"||n.list==="unchecked"?this.quill.format("list",!1,p.Ay.sources.USER):this.quill.format("list","unchecked",p.Ay.sources.USER):this.quill.format("list",V,p.Ay.sources.USER)}}};var zt='<svg viewbox="0 0 18 18"><polyline class="ql-even ql-stroke" points="5 7 3 9 5 11"/><polyline class="ql-even ql-stroke" points="13 7 15 9 13 11"/><line class="ql-stroke" x1="10" x2="8" y1="5" y2="13"/></svg>',ot={align:{"":'<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="3" x2="15" y1="9" y2="9"/><line class="ql-stroke" x1="3" x2="13" y1="14" y2="14"/><line class="ql-stroke" x1="3" x2="9" y1="4" y2="4"/></svg>',center:'<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="15" x2="3" y1="9" y2="9"/><line class="ql-stroke" x1="14" x2="4" y1="14" y2="14"/><line class="ql-stroke" x1="12" x2="6" y1="4" y2="4"/></svg>',right:'<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="15" x2="3" y1="9" y2="9"/><line class="ql-stroke" x1="15" x2="5" y1="14" y2="14"/><line class="ql-stroke" x1="15" x2="9" y1="4" y2="4"/></svg>',justify:'<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="15" x2="3" y1="9" y2="9"/><line class="ql-stroke" x1="15" x2="3" y1="14" y2="14"/><line class="ql-stroke" x1="15" x2="3" y1="4" y2="4"/></svg>'},background:'<svg viewbox="0 0 18 18"><g class="ql-fill ql-color-label"><polygon points="6 6.868 6 6 5 6 5 7 5.942 7 6 6.868"/><rect height="1" width="1" x="4" y="4"/><polygon points="6.817 5 6 5 6 6 6.38 6 6.817 5"/><rect height="1" width="1" x="2" y="6"/><rect height="1" width="1" x="3" y="5"/><rect height="1" width="1" x="4" y="7"/><polygon points="4 11.439 4 11 3 11 3 12 3.755 12 4 11.439"/><rect height="1" width="1" x="2" y="12"/><rect height="1" width="1" x="2" y="9"/><rect height="1" width="1" x="2" y="15"/><polygon points="4.63 10 4 10 4 11 4.192 11 4.63 10"/><rect height="1" width="1" x="3" y="8"/><path d="M10.832,4.2L11,4.582V4H10.708A1.948,1.948,0,0,1,10.832,4.2Z"/><path d="M7,4.582L7.168,4.2A1.929,1.929,0,0,1,7.292,4H7V4.582Z"/><path d="M8,13H7.683l-0.351.8a1.933,1.933,0,0,1-.124.2H8V13Z"/><rect height="1" width="1" x="12" y="2"/><rect height="1" width="1" x="11" y="3"/><path d="M9,3H8V3.282A1.985,1.985,0,0,1,9,3Z"/><rect height="1" width="1" x="2" y="3"/><rect height="1" width="1" x="6" y="2"/><rect height="1" width="1" x="3" y="2"/><rect height="1" width="1" x="5" y="3"/><rect height="1" width="1" x="9" y="2"/><rect height="1" width="1" x="15" y="14"/><polygon points="13.447 10.174 13.469 10.225 13.472 10.232 13.808 11 14 11 14 10 13.37 10 13.447 10.174"/><rect height="1" width="1" x="13" y="7"/><rect height="1" width="1" x="15" y="5"/><rect height="1" width="1" x="14" y="6"/><rect height="1" width="1" x="15" y="8"/><rect height="1" width="1" x="14" y="9"/><path d="M3.775,14H3v1H4V14.314A1.97,1.97,0,0,1,3.775,14Z"/><rect height="1" width="1" x="14" y="3"/><polygon points="12 6.868 12 6 11.62 6 12 6.868"/><rect height="1" width="1" x="15" y="2"/><rect height="1" width="1" x="12" y="5"/><rect height="1" width="1" x="13" y="4"/><polygon points="12.933 9 13 9 13 8 12.495 8 12.933 9"/><rect height="1" width="1" x="9" y="14"/><rect height="1" width="1" x="8" y="15"/><path d="M6,14.926V15H7V14.316A1.993,1.993,0,0,1,6,14.926Z"/><rect height="1" width="1" x="5" y="15"/><path d="M10.668,13.8L10.317,13H10v1h0.792A1.947,1.947,0,0,1,10.668,13.8Z"/><rect height="1" width="1" x="11" y="15"/><path d="M14.332,12.2a1.99,1.99,0,0,1,.166.8H15V12H14.245Z"/><rect height="1" width="1" x="14" y="15"/><rect height="1" width="1" x="15" y="11"/></g><polyline class="ql-stroke" points="5.5 13 9 5 12.5 13"/><line class="ql-stroke" x1="11.63" x2="6.38" y1="11" y2="11"/></svg>',blockquote:'<svg viewbox="0 0 18 18"><rect class="ql-fill ql-stroke" height="3" width="3" x="4" y="5"/><rect class="ql-fill ql-stroke" height="3" width="3" x="11" y="5"/><path class="ql-even ql-fill ql-stroke" d="M7,8c0,4.031-3,5-3,5"/><path class="ql-even ql-fill ql-stroke" d="M14,8c0,4.031-3,5-3,5"/></svg>',bold:'<svg viewbox="0 0 18 18"><path class="ql-stroke" d="M5,4H9.5A2.5,2.5,0,0,1,12,6.5v0A2.5,2.5,0,0,1,9.5,9H5A0,0,0,0,1,5,9V4A0,0,0,0,1,5,4Z"/><path class="ql-stroke" d="M5,9h5.5A2.5,2.5,0,0,1,13,11.5v0A2.5,2.5,0,0,1,10.5,14H5a0,0,0,0,1,0,0V9A0,0,0,0,1,5,9Z"/></svg>',clean:'<svg class="" viewbox="0 0 18 18"><line class="ql-stroke" x1="5" x2="13" y1="3" y2="3"/><line class="ql-stroke" x1="6" x2="9.35" y1="12" y2="3"/><line class="ql-stroke" x1="11" x2="15" y1="11" y2="15"/><line class="ql-stroke" x1="15" x2="11" y1="11" y2="15"/><rect class="ql-fill" height="1" rx="0.5" ry="0.5" width="7" x="2" y="14"/></svg>',code:zt,"code-block":zt,color:'<svg viewbox="0 0 18 18"><line class="ql-color-label ql-stroke ql-transparent" x1="3" x2="15" y1="15" y2="15"/><polyline class="ql-stroke" points="5.5 11 9 3 12.5 11"/><line class="ql-stroke" x1="11.63" x2="6.38" y1="9" y2="9"/></svg>',direction:{"":'<svg viewbox="0 0 18 18"><polygon class="ql-stroke ql-fill" points="3 11 5 9 3 7 3 11"/><line class="ql-stroke ql-fill" x1="15" x2="11" y1="4" y2="4"/><path class="ql-fill" d="M11,3a3,3,0,0,0,0,6h1V3H11Z"/><rect class="ql-fill" height="11" width="1" x="11" y="4"/><rect class="ql-fill" height="11" width="1" x="13" y="4"/></svg>',rtl:'<svg viewbox="0 0 18 18"><polygon class="ql-stroke ql-fill" points="15 12 13 10 15 8 15 12"/><line class="ql-stroke ql-fill" x1="9" x2="5" y1="4" y2="4"/><path class="ql-fill" d="M5,3A3,3,0,0,0,5,9H6V3H5Z"/><rect class="ql-fill" height="11" width="1" x="5" y="4"/><rect class="ql-fill" height="11" width="1" x="7" y="4"/></svg>'},formula:'<svg viewbox="0 0 18 18"><path class="ql-fill" d="M11.759,2.482a2.561,2.561,0,0,0-3.53.607A7.656,7.656,0,0,0,6.8,6.2C6.109,9.188,5.275,14.677,4.15,14.927a1.545,1.545,0,0,0-1.3-.933A0.922,0.922,0,0,0,2,15.036S1.954,16,4.119,16s3.091-2.691,3.7-5.553c0.177-.826.36-1.726,0.554-2.6L8.775,6.2c0.381-1.421.807-2.521,1.306-2.676a1.014,1.014,0,0,0,1.02.56A0.966,0.966,0,0,0,11.759,2.482Z"/><rect class="ql-fill" height="1.6" rx="0.8" ry="0.8" width="5" x="5.15" y="6.2"/><path class="ql-fill" d="M13.663,12.027a1.662,1.662,0,0,1,.266-0.276q0.193,0.069.456,0.138a2.1,2.1,0,0,0,.535.069,1.075,1.075,0,0,0,.767-0.3,1.044,1.044,0,0,0,.314-0.8,0.84,0.84,0,0,0-.238-0.619,0.8,0.8,0,0,0-.594-0.239,1.154,1.154,0,0,0-.781.3,4.607,4.607,0,0,0-.781,1q-0.091.15-.218,0.346l-0.246.38c-0.068-.288-0.137-0.582-0.212-0.885-0.459-1.847-2.494-.984-2.941-0.8-0.482.2-.353,0.647-0.094,0.529a0.869,0.869,0,0,1,1.281.585c0.217,0.751.377,1.436,0.527,2.038a5.688,5.688,0,0,1-.362.467,2.69,2.69,0,0,1-.264.271q-0.221-.08-0.471-0.147a2.029,2.029,0,0,0-.522-0.066,1.079,1.079,0,0,0-.768.3A1.058,1.058,0,0,0,9,15.131a0.82,0.82,0,0,0,.832.852,1.134,1.134,0,0,0,.787-0.3,5.11,5.11,0,0,0,.776-0.993q0.141-.219.215-0.34c0.046-.076.122-0.194,0.223-0.346a2.786,2.786,0,0,0,.918,1.726,2.582,2.582,0,0,0,2.376-.185c0.317-.181.212-0.565,0-0.494A0.807,0.807,0,0,1,14.176,15a5.159,5.159,0,0,1-.913-2.446l0,0Q13.487,12.24,13.663,12.027Z"/></svg>',header:{1:'<svg viewBox="0 0 18 18"><path class="ql-fill" d="M10,4V14a1,1,0,0,1-2,0V10H3v4a1,1,0,0,1-2,0V4A1,1,0,0,1,3,4V8H8V4a1,1,0,0,1,2,0Zm6.06787,9.209H14.98975V7.59863a.54085.54085,0,0,0-.605-.60547h-.62744a1.01119,1.01119,0,0,0-.748.29688L11.645,8.56641a.5435.5435,0,0,0-.022.8584l.28613.30762a.53861.53861,0,0,0,.84717.0332l.09912-.08789a1.2137,1.2137,0,0,0,.2417-.35254h.02246s-.01123.30859-.01123.60547V13.209H12.041a.54085.54085,0,0,0-.605.60547v.43945a.54085.54085,0,0,0,.605.60547h4.02686a.54085.54085,0,0,0,.605-.60547v-.43945A.54085.54085,0,0,0,16.06787,13.209Z"/></svg>',2:'<svg viewBox="0 0 18 18"><path class="ql-fill" d="M16.73975,13.81445v.43945a.54085.54085,0,0,1-.605.60547H11.855a.58392.58392,0,0,1-.64893-.60547V14.0127c0-2.90527,3.39941-3.42187,3.39941-4.55469a.77675.77675,0,0,0-.84717-.78125,1.17684,1.17684,0,0,0-.83594.38477c-.2749.26367-.561.374-.85791.13184l-.4292-.34082c-.30811-.24219-.38525-.51758-.1543-.81445a2.97155,2.97155,0,0,1,2.45361-1.17676,2.45393,2.45393,0,0,1,2.68408,2.40918c0,2.45312-3.1792,2.92676-3.27832,3.93848h2.79443A.54085.54085,0,0,1,16.73975,13.81445ZM9,3A.99974.99974,0,0,0,8,4V8H3V4A1,1,0,0,0,1,4V14a1,1,0,0,0,2,0V10H8v4a1,1,0,0,0,2,0V4A.99974.99974,0,0,0,9,3Z"/></svg>',3:'<svg viewBox="0 0 18 18"><path class="ql-fill" d="M16.65186,12.30664a2.6742,2.6742,0,0,1-2.915,2.68457,3.96592,3.96592,0,0,1-2.25537-.6709.56007.56007,0,0,1-.13232-.83594L11.64648,13c.209-.34082.48389-.36328.82471-.1543a2.32654,2.32654,0,0,0,1.12256.33008c.71484,0,1.12207-.35156,1.12207-.78125,0-.61523-.61621-.86816-1.46338-.86816H13.2085a.65159.65159,0,0,1-.68213-.41895l-.05518-.10937a.67114.67114,0,0,1,.14307-.78125l.71533-.86914a8.55289,8.55289,0,0,1,.68213-.7373V8.58887a3.93913,3.93913,0,0,1-.748.05469H11.9873a.54085.54085,0,0,1-.605-.60547V7.59863a.54085.54085,0,0,1,.605-.60547h3.75146a.53773.53773,0,0,1,.60547.59375v.17676a1.03723,1.03723,0,0,1-.27539.748L14.74854,10.0293A2.31132,2.31132,0,0,1,16.65186,12.30664ZM9,3A.99974.99974,0,0,0,8,4V8H3V4A1,1,0,0,0,1,4V14a1,1,0,0,0,2,0V10H8v4a1,1,0,0,0,2,0V4A.99974.99974,0,0,0,9,3Z"/></svg>',4:'<svg viewBox="0 0 18 18"><path class="ql-fill" d="M10,4V14a1,1,0,0,1-2,0V10H3v4a1,1,0,0,1-2,0V4A1,1,0,0,1,3,4V8H8V4a1,1,0,0,1,2,0Zm7.05371,7.96582v.38477c0,.39648-.165.60547-.46191.60547h-.47314v1.29785a.54085.54085,0,0,1-.605.60547h-.69336a.54085.54085,0,0,1-.605-.60547V12.95605H11.333a.5412.5412,0,0,1-.60547-.60547v-.15332a1.199,1.199,0,0,1,.22021-.748l2.56348-4.05957a.7819.7819,0,0,1,.72607-.39648h1.27637a.54085.54085,0,0,1,.605.60547v3.7627h.33008A.54055.54055,0,0,1,17.05371,11.96582ZM14.28125,8.7207h-.022a4.18969,4.18969,0,0,1-.38525.81348l-1.188,1.80469v.02246h1.5293V9.60059A7.04058,7.04058,0,0,1,14.28125,8.7207Z"/></svg>',5:'<svg viewBox="0 0 18 18"><path class="ql-fill" d="M16.74023,12.18555a2.75131,2.75131,0,0,1-2.91553,2.80566,3.908,3.908,0,0,1-2.25537-.68164.54809.54809,0,0,1-.13184-.8252L11.73438,13c.209-.34082.48389-.36328.8252-.1543a2.23757,2.23757,0,0,0,1.1001.33008,1.01827,1.01827,0,0,0,1.1001-.96777c0-.61621-.53906-.97949-1.25439-.97949a2.15554,2.15554,0,0,0-.64893.09961,1.15209,1.15209,0,0,1-.814.01074l-.12109-.04395a.64116.64116,0,0,1-.45117-.71484l.231-3.00391a.56666.56666,0,0,1,.62744-.583H15.541a.54085.54085,0,0,1,.605.60547v.43945a.54085.54085,0,0,1-.605.60547H13.41748l-.04395.72559a1.29306,1.29306,0,0,1-.04395.30859h.022a2.39776,2.39776,0,0,1,.57227-.07715A2.53266,2.53266,0,0,1,16.74023,12.18555ZM9,3A.99974.99974,0,0,0,8,4V8H3V4A1,1,0,0,0,1,4V14a1,1,0,0,0,2,0V10H8v4a1,1,0,0,0,2,0V4A.99974.99974,0,0,0,9,3Z"/></svg>',6:'<svg viewBox="0 0 18 18"><path class="ql-fill" d="M14.51758,9.64453a1.85627,1.85627,0,0,0-1.24316.38477H13.252a1.73532,1.73532,0,0,1,1.72754-1.4082,2.66491,2.66491,0,0,1,.5498.06641c.35254.05469.57227.01074.70508-.40723l.16406-.5166a.53393.53393,0,0,0-.373-.75977,4.83723,4.83723,0,0,0-1.17773-.14258c-2.43164,0-3.7627,2.17773-3.7627,4.43359,0,2.47559,1.60645,3.69629,3.19043,3.69629A2.70585,2.70585,0,0,0,16.96,12.19727,2.43861,2.43861,0,0,0,14.51758,9.64453Zm-.23047,3.58691c-.67187,0-1.22168-.81445-1.22168-1.45215,0-.47363.30762-.583.72559-.583.96875,0,1.27734.59375,1.27734,1.12207A.82182.82182,0,0,1,14.28711,13.23145ZM10,4V14a1,1,0,0,1-2,0V10H3v4a1,1,0,0,1-2,0V4A1,1,0,0,1,3,4V8H8V4a1,1,0,0,1,2,0Z"/></svg>'},italic:'<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="7" x2="13" y1="4" y2="4"/><line class="ql-stroke" x1="5" x2="11" y1="14" y2="14"/><line class="ql-stroke" x1="8" x2="10" y1="14" y2="4"/></svg>',image:'<svg viewbox="0 0 18 18"><rect class="ql-stroke" height="10" width="12" x="3" y="4"/><circle class="ql-fill" cx="6" cy="7" r="1"/><polyline class="ql-even ql-fill" points="5 12 5 11 7 9 8 10 11 7 13 9 13 12 5 12"/></svg>',indent:{"+1":'<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="3" x2="15" y1="14" y2="14"/><line class="ql-stroke" x1="3" x2="15" y1="4" y2="4"/><line class="ql-stroke" x1="9" x2="15" y1="9" y2="9"/><polyline class="ql-fill ql-stroke" points="3 7 3 11 5 9 3 7"/></svg>',"-1":'<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="3" x2="15" y1="14" y2="14"/><line class="ql-stroke" x1="3" x2="15" y1="4" y2="4"/><line class="ql-stroke" x1="9" x2="15" y1="9" y2="9"/><polyline class="ql-stroke" points="5 7 5 11 3 9 5 7"/></svg>'},link:'<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="7" x2="11" y1="7" y2="11"/><path class="ql-even ql-stroke" d="M8.9,4.577a3.476,3.476,0,0,1,.36,4.679A3.476,3.476,0,0,1,4.577,8.9C3.185,7.5,2.035,6.4,4.217,4.217S7.5,3.185,8.9,4.577Z"/><path class="ql-even ql-stroke" d="M13.423,9.1a3.476,3.476,0,0,0-4.679-.36,3.476,3.476,0,0,0,.36,4.679c1.392,1.392,2.5,2.542,4.679.36S14.815,10.5,13.423,9.1Z"/></svg>',list:{bullet:'<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="6" x2="15" y1="4" y2="4"/><line class="ql-stroke" x1="6" x2="15" y1="9" y2="9"/><line class="ql-stroke" x1="6" x2="15" y1="14" y2="14"/><line class="ql-stroke" x1="3" x2="3" y1="4" y2="4"/><line class="ql-stroke" x1="3" x2="3" y1="9" y2="9"/><line class="ql-stroke" x1="3" x2="3" y1="14" y2="14"/></svg>',check:'<svg class="" viewbox="0 0 18 18"><line class="ql-stroke" x1="9" x2="15" y1="4" y2="4"/><polyline class="ql-stroke" points="3 4 4 5 6 3"/><line class="ql-stroke" x1="9" x2="15" y1="14" y2="14"/><polyline class="ql-stroke" points="3 14 4 15 6 13"/><line class="ql-stroke" x1="9" x2="15" y1="9" y2="9"/><polyline class="ql-stroke" points="3 9 4 10 6 8"/></svg>',ordered:'<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="7" x2="15" y1="4" y2="4"/><line class="ql-stroke" x1="7" x2="15" y1="9" y2="9"/><line class="ql-stroke" x1="7" x2="15" y1="14" y2="14"/><line class="ql-stroke ql-thin" x1="2.5" x2="4.5" y1="5.5" y2="5.5"/><path class="ql-fill" d="M3.5,6A0.5,0.5,0,0,1,3,5.5V3.085l-0.276.138A0.5,0.5,0,0,1,2.053,3c-0.124-.247-0.023-0.324.224-0.447l1-.5A0.5,0.5,0,0,1,4,2.5v3A0.5,0.5,0,0,1,3.5,6Z"/><path class="ql-stroke ql-thin" d="M4.5,10.5h-2c0-.234,1.85-1.076,1.85-2.234A0.959,0.959,0,0,0,2.5,8.156"/><path class="ql-stroke ql-thin" d="M2.5,14.846a0.959,0.959,0,0,0,1.85-.109A0.7,0.7,0,0,0,3.75,14a0.688,0.688,0,0,0,.6-0.736,0.959,0.959,0,0,0-1.85-.109"/></svg>'},script:{sub:'<svg viewbox="0 0 18 18"><path class="ql-fill" d="M15.5,15H13.861a3.858,3.858,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.921,1.921,0,0,0,12.021,11.7a0.50013,0.50013,0,1,0,.957.291h0a0.914,0.914,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.076-1.16971,1.86982-1.93971,2.43082A1.45639,1.45639,0,0,0,12,15.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,15Z"/><path class="ql-fill" d="M9.65,5.241a1,1,0,0,0-1.409.108L6,7.964,3.759,5.349A1,1,0,0,0,2.192,6.59178Q2.21541,6.6213,2.241,6.649L4.684,9.5,2.241,12.35A1,1,0,0,0,3.71,13.70722q0.02557-.02768.049-0.05722L6,11.036,8.241,13.65a1,1,0,1,0,1.567-1.24277Q9.78459,12.3777,9.759,12.35L7.316,9.5,9.759,6.651A1,1,0,0,0,9.65,5.241Z"/></svg>',super:'<svg viewbox="0 0 18 18"><path class="ql-fill" d="M15.5,7H13.861a4.015,4.015,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.922,1.922,0,0,0,12.021,3.7a0.5,0.5,0,1,0,.957.291,0.917,0.917,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.077-1.164,1.925-1.934,2.486A1.423,1.423,0,0,0,12,7.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,7Z"/><path class="ql-fill" d="M9.651,5.241a1,1,0,0,0-1.41.108L6,7.964,3.759,5.349a1,1,0,1,0-1.519,1.3L4.683,9.5,2.241,12.35a1,1,0,1,0,1.519,1.3L6,11.036,8.241,13.65a1,1,0,0,0,1.519-1.3L7.317,9.5,9.759,6.651A1,1,0,0,0,9.651,5.241Z"/></svg>'},strike:'<svg viewbox="0 0 18 18"><line class="ql-stroke ql-thin" x1="15.5" x2="2.5" y1="8.5" y2="9.5"/><path class="ql-fill" d="M9.007,8C6.542,7.791,6,7.519,6,6.5,6,5.792,7.283,5,9,5c1.571,0,2.765.679,2.969,1.309a1,1,0,0,0,1.9-.617C13.356,4.106,11.354,3,9,3,6.2,3,4,4.538,4,6.5a3.2,3.2,0,0,0,.5,1.843Z"/><path class="ql-fill" d="M8.984,10C11.457,10.208,12,10.479,12,11.5c0,0.708-1.283,1.5-3,1.5-1.571,0-2.765-.679-2.969-1.309a1,1,0,1,0-1.9.617C4.644,13.894,6.646,15,9,15c2.8,0,5-1.538,5-3.5a3.2,3.2,0,0,0-.5-1.843Z"/></svg>',table:'<svg viewbox="0 0 18 18"><rect class="ql-stroke" height="12" width="12" x="3" y="3"/><rect class="ql-fill" height="2" width="3" x="5" y="5"/><rect class="ql-fill" height="2" width="4" x="9" y="5"/><g class="ql-fill ql-transparent"><rect height="2" width="3" x="5" y="8"/><rect height="2" width="4" x="9" y="8"/><rect height="2" width="3" x="5" y="11"/><rect height="2" width="4" x="9" y="11"/></g></svg>',underline:'<svg viewbox="0 0 18 18"><path class="ql-stroke" d="M5,3V9a4.012,4.012,0,0,0,4,4H9a4.012,4.012,0,0,0,4-4V3"/><rect class="ql-fill" height="1" rx="0.5" ry="0.5" width="12" x="3" y="15"/></svg>',video:'<svg viewbox="0 0 18 18"><rect class="ql-stroke" height="12" width="12" x="3" y="3"/><rect class="ql-fill" height="12" width="1" x="5" y="3"/><rect class="ql-fill" height="12" width="1" x="12" y="3"/><rect class="ql-fill" height="2" width="8" x="5" y="8"/><rect class="ql-fill" height="1" width="3" x="3" y="5"/><rect class="ql-fill" height="1" width="3" x="3" y="7"/><rect class="ql-fill" height="1" width="3" x="3" y="10"/><rect class="ql-fill" height="1" width="3" x="3" y="12"/><rect class="ql-fill" height="1" width="3" x="12" y="5"/><rect class="ql-fill" height="1" width="3" x="12" y="7"/><rect class="ql-fill" height="1" width="3" x="12" y="10"/><rect class="ql-fill" height="1" width="3" x="12" y="12"/></svg>'};let lt=0;function gt(V,n){V.setAttribute(n,""+(V.getAttribute(n)!=="true"))}var ft=class{constructor(V){this.select=V,this.container=document.createElement("span"),this.buildPicker(),this.select.style.display="none",this.select.parentNode.insertBefore(this.container,this.select),this.label.addEventListener("mousedown",()=>{this.togglePicker()}),this.label.addEventListener("keydown",n=>{switch(n.key){case"Enter":this.togglePicker();break;case"Escape":this.escape(),n.preventDefault()}}),this.select.addEventListener("change",this.update.bind(this))}togglePicker(){this.container.classList.toggle("ql-expanded"),gt(this.label,"aria-expanded"),gt(this.options,"aria-hidden")}buildItem(V){const n=document.createElement("span");n.tabIndex="0",n.setAttribute("role","button"),n.classList.add("ql-picker-item");var h=V.getAttribute("value");return h&&n.setAttribute("data-value",h),V.textContent&&n.setAttribute("data-label",V.textContent),n.addEventListener("click",()=>{this.selectItem(n,!0)}),n.addEventListener("keydown",P=>{switch(P.key){case"Enter":this.selectItem(n,!0),P.preventDefault();break;case"Escape":this.escape(),P.preventDefault()}}),n}buildLabel(){const V=document.createElement("span");return V.classList.add("ql-picker-label"),V.innerHTML='<svg viewbox="0 0 18 18"><polygon class="ql-stroke" points="7 11 9 13 11 11 7 11"/><polygon class="ql-stroke" points="7 7 9 5 11 7 7 7"/></svg>',V.tabIndex="0",V.setAttribute("role","button"),V.setAttribute("aria-expanded","false"),this.container.appendChild(V),V}buildOptions(){const V=document.createElement("span");V.classList.add("ql-picker-options"),V.setAttribute("aria-hidden","true"),V.tabIndex="-1",V.id="ql-picker-options-"+lt,lt+=1,this.label.setAttribute("aria-controls",V.id),this.options=V,Array.from(this.select.options).forEach(n=>{var h=this.buildItem(n);V.appendChild(h),n.selected===!0&&this.selectItem(h)}),this.container.appendChild(V)}buildPicker(){Array.from(this.select.attributes).forEach(V=>{this.container.setAttribute(V.name,V.value)}),this.container.classList.add("ql-picker"),this.label=this.buildLabel(),this.buildOptions()}escape(){this.close(),setTimeout(()=>this.label.focus(),1)}close(){this.container.classList.remove("ql-expanded"),this.label.setAttribute("aria-expanded","false"),this.options.setAttribute("aria-hidden","true")}selectItem(V){var n=1<arguments.length&&arguments[1]!==void 0&&arguments[1];const h=this.container.querySelector(".ql-selected");V!==h&&(h!=null&&h.classList.remove("ql-selected"),V!=null&&(V.classList.add("ql-selected"),this.select.selectedIndex=Array.from(V.parentNode.children).indexOf(V),V.hasAttribute("data-value")?this.label.setAttribute("data-value",V.getAttribute("data-value")):this.label.removeAttribute("data-value"),V.hasAttribute("data-label")?this.label.setAttribute("data-label",V.getAttribute("data-label")):this.label.removeAttribute("data-label"),n&&(this.select.dispatchEvent(new Event("change")),this.close())))}update(){let V;if(-1<this.select.selectedIndex){const h=this.container.querySelector(".ql-picker-options").children[this.select.selectedIndex];V=this.select.options[this.select.selectedIndex],this.selectItem(h)}else this.selectItem(null);const n=V!=null&&V!==this.select.querySelector("option[selected]");this.label.classList.toggle("ql-active",n)}},bt=class extends ft{constructor(V,n){super(V),this.label.innerHTML=n,this.container.classList.add("ql-color-picker"),Array.from(this.container.querySelectorAll(".ql-picker-item")).slice(0,7).forEach(h=>{h.classList.add("ql-primary")})}buildItem(V){const n=super.buildItem(V);return n.style.backgroundColor=V.getAttribute("value")||"",n}selectItem(V,n){super.selectItem(V,n);const h=this.label.querySelector(".ql-color-label"),P=V&&V.getAttribute("data-value")||"";h&&(h.tagName==="line"?h.style.stroke=P:h.style.fill=P)}},pt=class extends ft{constructor(V,n){super(V),this.container.classList.add("ql-icon-picker"),Array.from(this.container.querySelectorAll(".ql-picker-item")).forEach(h=>{h.innerHTML=n[h.getAttribute("data-value")||""]}),this.defaultItem=this.container.querySelector(".ql-selected"),this.selectItem(this.defaultItem)}selectItem(V,n){super.selectItem(V,n),n=V||this.defaultItem,n!=null&&this.label.innerHTML!==n.innerHTML&&(this.label.innerHTML=n.innerHTML)}},ht=class{constructor(V,n){this.quill=V,this.boundsContainer=n||document.body,this.root=V.addContainer("ql-tooltip"),this.root.innerHTML=this.constructor.TEMPLATE,(h=>(h=getComputedStyle(h,null).overflowY,h!=="visible"&&h!=="clip"))(this.quill.root)&&this.quill.root.addEventListener("scroll",()=>{this.root.style.marginTop=-1*this.quill.root.scrollTop+"px"}),this.hide()}hide(){this.root.classList.add("ql-hidden")}position(V){const n=V.left+V.width/2-this.root.offsetWidth/2,h=V.bottom+this.quill.root.scrollTop,P=(this.root.style.left=n+"px",this.root.style.top=h+"px",this.root.classList.remove("ql-flip"),this.boundsContainer.getBoundingClientRect()),K=this.root.getBoundingClientRect();let it=0;if(K.right>P.right&&(it=P.right-K.right,this.root.style.left=n+it+"px"),K.left<P.left&&(it=P.left-K.left,this.root.style.left=n+it+"px"),K.bottom>P.bottom){const mt=K.bottom-K.top,i=V.bottom-V.top+mt;this.root.style.top=h-i+"px",this.root.classList.add("ql-flip")}return it}show(){this.root.classList.remove("ql-editing"),this.root.classList.remove("ql-hidden")}},Lt=qt(8347),xt=qt(5374),Nt=qt(9609);const St=[!1,"center","right","justify"],Ct=["#000000","#e60000","#ff9900","#ffff00","#008a00","#0066cc","#9933ff","#ffffff","#facccc","#ffebcc","#ffffcc","#cce8cc","#cce0f5","#ebd6ff","#bbbbbb","#f06666","#ffc266","#ffff66","#66b966","#66a3e0","#c285ff","#888888","#a10000","#b26b00","#b2b200","#006100","#0047b2","#6b24b2","#444444","#5c0000","#663d00","#666600","#003700","#002966","#3d1466"],Ot=[!1,"serif","monospace"],Tt=["1","2","3",!1],Ut=["small",!1,"large","huge"];class It extends Nt.A{constructor(n,h){super(n,h);const P=K=>{document.body.contains(n.root)?(this.tooltip==null||this.tooltip.root.contains(K.target)||document.activeElement===this.tooltip.textbox||this.quill.hasFocus()||this.tooltip.hide(),this.pickers!=null&&this.pickers.forEach(it=>{it.container.contains(K.target)||it.close()})):document.body.removeEventListener("click",P)};n.emitter.listenDOM("click",document.body,P)}addModule(n){var h=super.addModule(n);return n==="toolbar"&&this.extendToolbar(h),h}buildButtons(n,h){Array.from(n).forEach(P=>{(P.getAttribute("class")||"").split(/\s+/).forEach(K=>{var it;K.startsWith("ql-")&&(K=K.slice(3),h[K]!=null)&&(K==="direction"?P.innerHTML=h[K][""]+h[K].rtl:typeof h[K]=="string"?P.innerHTML=h[K]:(it=P.value||"")!=null&&h[K][it]&&(P.innerHTML=h[K][it]))})})}buildPickers(n,h){this.pickers=Array.from(n).map(P=>{return P.classList.contains("ql-align")&&(P.querySelector("option")==null&&Bt(P,St),typeof h.align=="object")?new pt(P,h.align):P.classList.contains("ql-background")||P.classList.contains("ql-color")?(K=P.classList.contains("ql-background")?"background":"color",P.querySelector("option")==null&&Bt(P,Ct,K=="background"?"#ffffff":"#000000"),new bt(P,h[K])):(P.querySelector("option")==null&&(P.classList.contains("ql-font")?Bt(P,Ot):P.classList.contains("ql-header")?Bt(P,Tt):P.classList.contains("ql-size")&&Bt(P,Ut)),new ft(P));var K}),this.quill.on(xt.A.events.EDITOR_CHANGE,()=>{this.pickers.forEach(P=>{P.update()})})}}It.DEFAULTS=(0,Lt.A)({},Nt.A.DEFAULTS,{modules:{toolbar:{handlers:{formula(){this.quill.theme.tooltip.edit("formula")},image(){let V=this.container.querySelector("input.ql-image[type=file]");V==null&&((V=document.createElement("input")).setAttribute("type","file"),V.setAttribute("accept",this.quill.uploader.options.mimetypes.join(", ")),V.classList.add("ql-image"),V.addEventListener("change",()=>{var n=this.quill.getSelection(!0);this.quill.uploader.upload(n,V.files),V.value=""}),this.container.appendChild(V)),V.click()},video(){this.quill.theme.tooltip.edit("video")}}}}});class _t extends ht{constructor(n,h){super(n,h),this.textbox=this.root.querySelector('input[type="text"]'),this.listen()}listen(){this.textbox.addEventListener("keydown",n=>{n.key==="Enter"?(this.save(),n.preventDefault()):n.key==="Escape"&&(this.cancel(),n.preventDefault())})}cancel(){this.hide(),this.restoreFocus()}edit(){var n=0<arguments.length&&arguments[0]!==void 0?arguments[0]:"link",h=1<arguments.length&&arguments[1]!==void 0?arguments[1]:null;this.root.classList.remove("ql-hidden"),this.root.classList.add("ql-editing"),this.textbox!=null&&(h!=null?this.textbox.value=h:n!==this.root.getAttribute("data-mode")&&(this.textbox.value=""),(h=this.quill.getBounds(this.quill.selection.savedRange))!=null&&this.position(h),this.textbox.select(),this.textbox.setAttribute("placeholder",this.textbox.getAttribute("data-"+n)||""),this.root.setAttribute("data-mode",n))}restoreFocus(){this.quill.focus({preventScroll:!0})}save(){let n=this.textbox.value;switch(this.root.getAttribute("data-mode")){case"link":var h=this.quill.root.scrollTop;this.linkRange?(this.quill.formatText(this.linkRange,"link",n,xt.A.sources.USER),delete this.linkRange):(this.restoreFocus(),this.quill.format("link",n,xt.A.sources.USER)),this.quill.root.scrollTop=h;break;case"video":n=function(P){let K=P.match(/^(?:(https?):\/\/)?(?:(?:www|m)\.)?youtube\.com\/watch.*v=([a-zA-Z0-9_-]+)/)||P.match(/^(?:(https?):\/\/)?(?:(?:www|m)\.)?youtu\.be\/([a-zA-Z0-9_-]+)/);return K?`${K[1]||"https"}://www.youtube.com/embed/${K[2]}?showinfo=0`:(K=P.match(/^(?:(https?):\/\/)?(?:www\.)?vimeo\.com\/(\d+)/))?`${K[1]||"https"}://player.vimeo.com/video/${K[2]}/`:P}(n);case"formula":if(!n)break;var h=this.quill.getSelection(!0);h!=null&&(h=h.index+h.length,this.quill.insertEmbed(h,this.root.getAttribute("data-mode"),n,xt.A.sources.USER),this.root.getAttribute("data-mode")==="formula"&&this.quill.insertText(h+1," ",xt.A.sources.USER),this.quill.setSelection(h+2,xt.A.sources.USER))}this.textbox.value="",this.hide()}}function Bt(V,n,h){let P=2<arguments.length&&h!==void 0&&h;n.forEach(K=>{const it=document.createElement("option");K===P?it.setAttribute("selected","selected"):it.setAttribute("value",String(K)),V.appendChild(it)})}var Mt=qt(8298);const te=[["bold","italic","link"],[{header:1},{header:2},"blockquote"]];class Gt extends _t{constructor(n,h){super(n,h),this.quill.on(xt.A.events.EDITOR_CHANGE,(P,K,it,mt)=>{if(P===xt.A.events.SELECTION_CHANGE)if(K!=null&&0<K.length&&mt===xt.A.sources.USER){this.show(),this.root.style.left="0px",this.root.style.width="",this.root.style.width=this.root.offsetWidth+"px";const i=this.quill.getLines(K.index,K.length);if(i.length===1){const N=this.quill.getBounds(K);N!=null&&this.position(N)}else{const N=i[i.length-1],M=this.quill.getIndex(N),J=Math.min(N.length()-1,K.index+K.length-M),At=this.quill.getBounds(new Mt.Q(M,J));At!=null&&this.position(At)}}else document.activeElement!==this.textbox&&this.quill.hasFocus()&&this.hide()})}listen(){super.listen(),this.root.querySelector(".ql-close").addEventListener("click",()=>{this.root.classList.remove("ql-editing")}),this.quill.on(xt.A.events.SCROLL_OPTIMIZE,()=>{setTimeout(()=>{var n;this.root.classList.contains("ql-hidden")||(n=this.quill.getSelection())!=null&&(n=this.quill.getBounds(n))!=null&&this.position(n)},1)})}cancel(){this.show()}position(n){const h=super.position(n),P=this.root.querySelector(".ql-tooltip-arrow");return P.style.marginLeft="",h!==0&&(P.style.marginLeft=-1*h-P.offsetWidth/2+"px"),h}}dt(Gt,"TEMPLATE",['<span class="ql-tooltip-arrow"></span>','<div class="ql-tooltip-editor">','<input type="text" data-formula="e=mc^2" data-link="https://quilljs.com" data-video="Embed URL">','<a class="ql-close"></a>',"</div>"].join(""));class ie extends It{constructor(n,h){h.modules.toolbar!=null&&h.modules.toolbar.container==null&&(h.modules.toolbar.container=te),super(n,h),this.quill.container.classList.add("ql-bubble")}extendToolbar(n){this.tooltip=new Gt(this.quill,this.options.bounds),n.container!=null&&(this.tooltip.root.appendChild(n.container),this.buildButtons(n.container.querySelectorAll("button"),ot),this.buildPickers(n.container.querySelectorAll("select"),ot))}}ie.DEFAULTS=(0,Lt.A)({},It.DEFAULTS,{modules:{toolbar:{handlers:{link(V){V?this.quill.theme.tooltip.edit():this.quill.format("link",!1,p.Ay.sources.USER)}}}}});const ee=[[{header:["1","2","3",!1]}],["bold","italic","underline","link"],[{list:"ordered"},{list:"bullet"}],["clean"]];class ge extends _t{constructor(){super(...arguments);dt(this,"preview",this.root.querySelector("a.ql-preview"))}listen(){super.listen(),this.root.querySelector("a.ql-action").addEventListener("click",h=>{this.root.classList.contains("ql-editing")?this.save():this.edit("link",this.preview.textContent),h.preventDefault()}),this.root.querySelector("a.ql-remove").addEventListener("click",h=>{if(this.linkRange!=null){const P=this.linkRange;this.restoreFocus(),this.quill.formatText(P,"link",!1,xt.A.sources.USER),delete this.linkRange}h.preventDefault(),this.hide()}),this.quill.on(xt.A.events.SELECTION_CHANGE,(h,P,K)=>{if(h!=null){if(h.length===0&&K===xt.A.sources.USER){const[it,mt]=this.quill.scroll.descendant(v,h.index);if(it!=null)return this.linkRange=new Mt.Q(h.index-mt,it.length()),h=v.formats(it.domNode),this.preview.textContent=h,this.preview.setAttribute("href",h),this.show(),void((h=this.quill.getBounds(this.linkRange))!=null&&this.position(h))}else delete this.linkRange;this.hide()}})}show(){super.show(),this.root.removeAttribute("data-mode")}}dt(ge,"TEMPLATE",['<a class="ql-preview" rel="noopener noreferrer" target="_blank" href="about:blank"></a>','<input type="text" data-formula="e=mc^2" data-link="https://quilljs.com" data-video="Embed URL">','<a class="ql-action"></a>','<a class="ql-remove"></a>'].join(""));class Jt extends It{constructor(n,h){h.modules.toolbar!=null&&h.modules.toolbar.container==null&&(h.modules.toolbar.container=ee),super(n,h),this.quill.container.classList.add("ql-snow")}extendToolbar(n){n.container!=null&&(n.container.classList.add("ql-snow"),this.buildButtons(n.container.querySelectorAll("button"),ot),this.buildPickers(n.container.querySelectorAll("select"),ot),this.tooltip=new ge(this.quill,this.options.bounds),n.container.querySelector(".ql-link")&&this.quill.keyboard.addBinding({key:"k",shortKey:!0},(h,P)=>{n.handlers.link.call(n,!P.format.link)}))}}Jt.DEFAULTS=(0,Lt.A)({},It.DEFAULTS,{modules:{toolbar:{handlers:{link(V){if(V){const n=this.quill.getSelection();if(n!=null&&n.length!==0){let h=this.quill.getText(n);/^\S+@\S+\.\S+$/.test(h)&&h.indexOf("mailto:")!==0&&(h="mailto:"+h),this.quill.theme.tooltip.edit("link",h)}}else this.quill.format("link",!1,p.Ay.sources.USER)}}}}});var zt=Jt,re=(Z.default.register({"attributors/attribute/direction":r.Mc,"attributors/class/align":C.qh,"attributors/class/background":x.l,"attributors/class/color":S.g3,"attributors/class/direction":r.sY,"attributors/class/font":I.q,"attributors/class/size":X.U,"attributors/style/align":C.Hu,"attributors/style/background":x.s,"attributors/style/color":S.JM,"attributors/style/direction":r.VL,"attributors/style/font":I.z,"attributors/style/size":X.r},!0),Z.default.register({"formats/align":C.qh,"formats/direction":r.sY,"formats/indent":R,"formats/background":x.s,"formats/color":S.JM,"formats/font":I.q,"formats/size":X.U,"formats/blockquote":c,"formats/code-block":B.Ay,"formats/header":l,"formats/list":a,"formats/bold":L,"formats/code":B.Cy,"formats/italic":($t=class extends L{},dt($t,"blotName","italic"),dt($t,"tagName",["EM","I"]),$t),"formats/link":v,"formats/script":W,"formats/strike":(Ft=class extends L{},dt(Ft,"blotName","strike"),dt(Ft,"tagName",["S","STRIKE"]),Ft),"formats/underline":at,"formats/formula":st,"formats/image":s,"formats/video":j,"modules/syntax":D,"modules/table":Y,"modules/toolbar":ct,"themes/bubble":ie,"themes/snow":zt,"ui/icons":ot,"ui/picker":ft,"ui/icon-picker":pt,"ui/color-picker":bt,"ui/tooltip":ht},!0),Z.default)}(),ke.default;function qt(Z){var C=qe[Z];return C!==void 0?C.exports:(C=qe[Z]={id:Z,loaded:!1,exports:{}},xe[Z](C,C.exports,qt),C.loaded=!0,C.exports)}var xe,qe,ke})})(we,we.exports);var Ce=we.exports;const Be=je(Ce);export{Be as Q};
